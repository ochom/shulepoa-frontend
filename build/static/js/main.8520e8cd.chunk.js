(this["webpackJsonphosipoa-frontend"]=this["webpackJsonphosipoa-frontend"]||[]).push([[0],{20:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMUAAADQCAMAAACA/VXqAAAA9lBMVEX///8Aiv/zuoxqamoAfOVtTC95VTQRkv8Ah/r5/P9wcHAAhPQAif6EhIT53sj0+v+/4v8AgO2vr6/k5OSRkZH5+fmrq6u+m3/hr4f0wJb99O2Vzv/O6f8km/8tn/8Ijv94wf+s2f/k8/9Jq//b7v+Ex/8Xlf/v7+/Ly8vb29vBwcGFenGylHzaq4b2zKr75tVpuv9klsB0mrpBjc1CX3cmbKame1fhq38Kd9RbVE243v87YoFUV1hQr/87cJxWZG4Yf9ZxWUIxda3LooKRgXSnjXn3z6/kw6ngtpU6nO+yp5/Nm3KRd2AfbrE5ZIdVXWJPZ3prW0u5DF8nAAAGI0lEQVR4nO2baVcaSRSGraaxASUsbhhkaRtQgxqMiSYYogaTyYxjlv//Z6YXoKurt6oaa/Gc+3yKSp1zn9x6a2nbtTUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADCOjpvb1UqlUKlUt5vHR6rL4eGoWS1EqTZfmsjJdiGJ7RPVhTGwlezge2ypLo6Snd1UB4/dHdUF0rBF5oGk+gLacVzJkSgUKseqi8zjTa6DxxvVZWZDJ6G5xjGlRKGg8aTays/Ekoq2Ed/JW51wqrouuNn7BMmu6nKT2WKSKBT0nFPpx45ktlUXnMQJo0ShoOPRkLUVWjaDNRUe+t03mpSVj7F/N1UXHYNyr9ibY19UVRdNckQpYbTwL3WbUlQnqMrcMAx8Sul2mqKJxbjlShin2Hd0278p1tlTwwefUrqttbnhfjgzFnwLv6lbvHPO5OO5sQJrRkV12QTZfcAcIsl4ORbj05ZBEC5TqssmGCcaVB5Oz0gFb04t559uvdhvzU8fxmE6KuOHb3tJBj7zxad0S/f58r+51To7a8XmEMmenhbf8+pO1NBtv3jFaGHMvdmn2979ltXCOBvr93DtNbOFt4lr9wCBw8KYqy46xnl+0THOVRcdgzneLq9UFx2DJxivVRcdZ59ZYl91yQmwTyn9JhTPlNJwQrGvUvqtUB6s2/db1QUnw5ZvHbPtwZZvHbPtscPSjH1dfyPG1AxdW7HGkgxdU+FBv0xpukAF0O4Zeu4VS2g3cC237RC6gGscbZ/aXy9+Ph22nV7nR67Ej78n07LqWlMo2w7yuMy1uDRLaDQ5UF1wArX2yHdADfMiR+LCNF0NhLq26qIJym0rcEAbbonvMiXemR6b3oc7WnnUuwsHVPJLzNIIJMxG8PluXXXtS2oTtKIR1Jg+qS7MBaXFiNmh6vp9DjqhRGlZ42XySnV9ufzAshkIWTpMq3YvlPBTEXD3T4LE460ZsrkaNVG+7PYRTgOr8t9rshFXxQ/Yz0vhsK7iWTWJSCCsSPN98eo66lAsfsR+voGNGyndPAiJiMUHt+r1q0fP5Prxat39qvjJTLFAlsK1qk9IRGbUx2KM96kWCjXapETEwvwUs8BjgedCpcY0JoGtUS43MQs8FiY51lKSjYEVt9jEy3wiJdJj4dNRsFKVu3GJaDNiwYjEYjM+2JG/b8SSHTQDT8ZnwuIpsxUuE9kS9UQJ7AySEAwsFo3k0ZIPI+VOchkRDSIYWCwaCfPJw5IbjWGaREQjanGTK+FGQ6bEoJdWBsKzEQ3GKhaJmVggc07NMupA4Ur1M2KR2wiPkbw5lRbtsB0bjVgwPgcOpZyh8tapxK2CoNQggvHTVdjI7EOArC3cppDwRTZ+4bEoUSggeQGnaUXAl/WQrExHkHMstKkl0F0o8Yt6kJxm0LcCle5XFl/oR8loRu4ChXO7srijHySjGTl7RZRVMO7zVlgc8cvUgEUiDMYtyyjxewb5wCCbzXv2WCDUE72B1xJueFncssfCpS/YIv7EIJuvi1jQ7XhLLMG3PoZl1ueOIxZI9NH2gLEahIJgfGUcJXaxZcu2x2+OWLiIzDdrttEiGPfMw4YCLWzmaoJg/GYe1hVowbRvL/jDEQuXgTCJctZ1Ow0vGB/Zh7WFWTAdBJe4wfjDMWwmzCLj+U06Jk8sEBoJs+CJhRcMjlggVBNlwbpxB9ysx57y0yDseD7isnjiiQVCU1EWPEuUG4wbrmHCjlJc1bgbn14WfL3gRJgFXy44EfYkxJFpIexUy34u58cSJbFmS7QQdwKpSYy3wDurvCllCTuA8Fy7eemLk+A9D7Ij9peth+wXby7E3ZF8bCkSwp+aJ7858bx0BEZ7gfh1aiTuyYE8jY4MCc7rNzWOrN/bTwUebvvyXpI6FLVvjOS+PVjne5KQTa8vfnEisFNfkeJ1mCh5xXn6nLem0VDZa9qD/jPl3LHVvjE/nfxfkZ7T1uFvMA6GDvf1qTOxpSc6lXJ9OGNNu+X0bR2aQFCrt/uzLkVbRs5kaMs5Z3BTO5i2h/2Z43Q7I8vypSzL6nS6zmzSb9v1gfI/fQEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPfgPndePYe32MswAAAAASUVORK5CYII="},48:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAABhWlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9TiyL1A6wgopChOlkQFXHUKhShQqgVWnUwufQLmjQkKS6OgmvBwY/FqoOLs64OroIg+AHi5Oik6CIl/i8ptIj14Lgf7+497t4BQrXINKttHNB020zEomIqvSq2vyKAbvRiGP0ys4w5SYqj5fi6h4+vdxGe1frcn6NLzVgM8InEs8wwbeIN4ulN2+C8TxxieVklPiceM+mCxI9cVzx+45xzWeCZITOZmCcOEYu5JlaamOVNjXiKOKxqOuULKY9VzluctWKZ1e/JXxjM6CvLXKc5hBgWsQQJIhSUUUARNiK06qRYSNB+tIV/0PVL5FLIVQAjxwJK0CC7fvA/+N2tlZ2c8JKCUSDw4jgfI0D7LlCrOM73sePUTgD/M3ClN/ylKjDzSXqloYWPgJ5t4OK6oSl7wOUOMPBkyKbsSn6aQjYLvJ/RN6WBvlugc83rrb6P0wcgSV3Fb4CDQ2A0R9nrLd7d0dzbv2fq/f0APpZykjtcLIEAAAAGYktHRAAAAAAAAPlDu38AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfkBQ4SARh869V+AAAAGXRFWHRDb21tZW50AENyZWF0ZWQgd2l0aCBHSU1QV4EOFwAAEKhJREFUeNrt3W2MHdVhh/Fn7u7a2GvYUAysg00CqW3CYrANGNtQkBUiWiEhqISgUYRo3VIaQl4+EISqVEkqNalSNa0gBSWKFPEBgVCi1JWLkqJQCsaAg23sLthx6wIm2LFNEsBr432bfjizYbNe7967921mzvOTLGHh3Zl77pz/nHPmzDlJR+U8JMWpsySfYzGwBlgFrAQuBrr9etVAA8AOYCvwIrAZ2FP0D5UUtAUwD7gOuBZYByz1+lQb7AaeAp4EfgwcMQCapxu4EbgBuN47vHLYQtgIbAB+lP3dAGiAa4BbgJuB+V5nKoDDwOPAY8DTBsDM3A7cljXxpaJ6CngY+L4BML05wB3AemCZ145KZCfwPeA7wDEDYMJ5AHcBdwJ9XisqsX7gIeDbQGoAwK3A3cBarw1F5DngfuDRWAPgMuCLwKe8FhSxR4BvAT9rx8E7Ksnp7Wjufwn4F+AKv39Fbhnwx1m9eK7sAbAWeAD4LDDX716CrC58ElgBvAHsK2MAfAb4Z+Byv29pUksJM1yPA1vKEgC9wNeBrwKn+R1LUzqNMNN1PrCNJk8vbnYArAb+Afi036tUk1XAx4G9wJtFDICbgG8CV/tdSjOyhPC07CCwq0gBsB74Br6lJzWiC70WeDfrEuQ+AD4P/B1wtt+d1BA9WUv6feCFPAfAPcDfAqf6nUkNdUoWAkM0cL5AIwPgHuAr+HxfapYu4MpGhkCjAuDz2Z3fyi+1JgQGGtEdaEQArM/6/Db7pdaFwGrCwiPb2hkANxFG+x3wk1o/JrACeI06HhHWEwCrCc/5fdQntUdPVv9eZoaThWYaAL2EGX5O8pHaqxdYAPyUGUwbnmkAfB2n90p5sSTrEjzRigD4DOHFHkn5sQo4RI1vEdYaAGsJr/T6Vp+UP5cQHg1WvZ5ApYZfngD3AgstZymXFmZ1NGlGC+BLhJV8JOXXUuAosKmqu3qVi4Jelg0wuDOPlH+HgT+iioVGq+0CfNHKLxXG/KzONmQM4FZculsqmk9ldbeuAEgIm3ZIKp67mWZAcLoAuAt37JGKam1Wh2cUAHMIe/VJKq47s7pccwDcgRt1SkXXl9XlmgNgvWUnlcL6WgPgdsKeZZKKb1lWp6sOgNssM6lUbqs2AK4B1lleUqmsy+r2tAFwi2UlldIJdXviuwDdhDXGnPYrlc9h4KOEFYUnbQHcaOWXSmt+VsdP2gW4wTKSSu2Gk3UB5gEHsm6ApHIaICwkemRiC+A6K79Uet1ZXT+hC3CtZSNF4drJAsBn/1Ic1k0MgMW4w48Ui6XAeeMDYI1lIkXlivEBsMrykKKyZnwArLQ8pKhcDh/MAziCjwClmAwA8yrZgICVX4pL91gXIPbR/x8QVk4t058nvL5VjQrwscjL4BkvA8UcAB+JvAz+y8tAMQfAORF//neBHSX8Tt3LQVVfLL0Rf/5NwEjJPtNFQI+XtqoNgJgXAClj//8qL2vVEgA9BoABoHgDYF6kn/19YIsBoNgD4JRIP/uLwPGSfaZzgUVe1qolALoi/exlfPzn3V81B4D9fwNABkBURoDNBoAMgDhtA94r2Wc6nTAHQDIAImz+ryW8CCQZANNwAFCKOACeNQCkOAPgVcImiWUym2yJJ8kAiK/5f1kWApIBMA2f/0sGgAEgVSyCwkuAKy0GGQBxupAwCUgyAKrwOpA2+c9ftvDz/IGXsQyAeMcZ7P/LAMiRXxHmGhgAMgAi9GzWDWiFhbisuwwAm/+SAWAASAZAGx0DthoAMgDi9Dww1KJj9QDLLHIZAHE2/9f4/ckAyJdWrjNg818GQI60eqFRZwDKAMiRbcCRFh1rFrDKIpcBEGf//1Li3dFJBoD9f4tbBoABIBkAObAbONiiY7kAiAyAiO/+FwBnWOQyAPLD+f8yAAwAA0AGQGz2A3sNABkA3v2b7cPA+Ra5DACb/5IBYABIBkC7vAPsNABkAMTpOWC0Rcc6FbjYIpcBEGfzfw3QYZHLALD/LxkAbXYc2GIAyACI05YsBFqhC7jCIpcBEGfzfwUw1yKXARBnALj+nwyAHBmltQuA2v+XAZAjO4HftPB4LgAiAyDS5v9S4EyLXAZAfrj+nwwAWwAGgAyA2OwF3jIAZAB492+2XuD3LXIZAHH2/x39lwFg/18yAPLgEGETkFZxBqAMgEjv/vOA5Ra5DIA4+/+rcQEQGQD2/yUDoP0GgO0GgAyAOG0Ghlt0rM6sCyAZABE2/5cD3Ra5DAD7/5IB0GZDwAsGgAyAOG0FjhoAMgBs/jfbYuBsi1wGgP1/yQBosxTYZADIAIjTq8DbBoAMAJv/zXYWsMQilwEQZwC4AIgMgJxxBWAZAJHaB7xuAMgAsPnfbHOBlRa5DIA4A+AKwluAkgEQYf/f9f9kAOTIr4F++/8yAOK9+6ctOlYHsMYilwEQZ/P/EsIqwJIBkBO+ACQDIFLHgJcMABkAcXoBGDQAVHY+d25///98YEG0V99cwlrLlw6T9o5AxzTjriMJyYEOeKkz/PxRWrdWswFg/9+7fwPMBham0DtKumiotp/tSEnPGYZzQq1P9nXBgQq8mcBxL1wDoH4jhD0ADIBmWDFK2jMKvY25baeLhmARsKiT5J0KbLNXawDU52XgvRYeL44ZgAtT0sUjcNYwJE34/b3DpGcDH+ok2dMRWgQyAHLe/J8PXFD6Eu0bJV0yBLObPK8qAc4eJv3QCElPF/TbGjAA8h0A5V8A5OJR0gsHW3vM2SnpskGSjlmwwxCYiqVzIhcAaZTlbaj848cHLhyE5aNe0QZA1fYAvzQAGtTsv2Cw7aeRXjAIfYaAAZC/5v8c4NJSluLSUdJlg7k5nXTZICw1BAyAfDX/VwFdpSvBBSlp31DuTivtG4IFqVe4ATAln//X3eQegVk5rGiz0nBuMgBO4tfAbgOgDstH4cwcz8s9c9hBQQPgpJ6ndQuAVIC1pSq9DsIMv0q+r/a0ZzQsvyIDYIItLTzWMuC0UpXe+SksKMBbOQuGw7nKAJjgv1t4rMvLdvfnjAI1rc+wFWAAnOgVA2CGuiE9d6gwp5ueOwTdXvAGwAeGCZOAWmVVqUpvsGBXUoXWLvdiAOTeGy28JOYCF5Wq9FaOeM4GQKH9ooXH6qNkL2GlC4Y9ZwOg0N5q4bEuKl3pdaWeswFQaPtbeKyPWNwyAPLlnRYey7anDICcOdbCY71iccsAiDcANtG6KceSAZCzZvkvgf+wyGUAxOufWnis98b9kQyAHHgC+Ncm/e6UsLXZvYRdhy658qq+FcCDFrsmclXg4JQ2HPMvgKU0Zlnwo8BPgH8DNjJhXcNNz/YDHPJrlgGQnwA4BKwGvgH8GTCrxrt8fzaW8BPgP4H3p/mZg37NMgAm1653898B/gr4G+BG4GrgQuCc7JyOZP/mdWAv8HPCtuVbqX3uQvNaAENJ8WbWDblzkAHwgQ+3+fiHgO9mf5p5jKZI9ncW6nXgsXOWg4BjFkbwGZvXBdhawNU1troiiAHwgY9F8Bmb1wWYBRRprc1RahtxMQBK71zg90r+GY8BA035zQOQvFGcLQ6SN7qaVRIGQIGttBswQyPA2wW6lN6uhHOWATDONXYD6rA3gSIMrO3vDOcqA2CC6w2A+loByTuVfI8FjGbn6N3fAJjECmCRXYA6bK/AoRy3Ag51hnOUAXASf2oLoD7Jrg4YzGETezAJ5yYDYAp/Trm3jGj++wD7E5L+/D0RSPq7YL99fwNgaouAT9sFqNPuCsnO/DxoT3bOgt1e6gZAdb4GzLYFUKf+Csmu9odAsmsW9HuZGwDVOxe4zwBogO0VklfaFwLJK7Mc9JuujDoq57k+3YmGgSsIb92VLdxeb/lR+0ZJlwzB7BZdascTkp93eeevov4bACf3P4T39d8u0WeaS7smwS5MSRePwFnD0KyxuBQ42EmypwPedMDPAKjfJuATwHEDoEFWjJL2jEJvg9dhPdAZJvls865vADTWk8BNhMU5DIBGmB1aBPSOki6qbx2BZF8XHKiEO/5xL1YDoDl+Rlix5xcFPf9O4E8IC4X25eqs5hJGXC4dJu0dgY5pLseRhORAB7zUGX7+KO61VGcADAJdlsW0fgXcAfygQOfcQ5jd+AXck1AnCYB3gVMti6ptIDwmzOsWX93AHwI3AzcAc/zKNFUAvAUssCxqMgI8BjwEPNPmc5kFXEZ4nfkTwFWUdyKTmhAAr9KYteljtQv4IfDvwPM092XTbsKqwZcAy7OKv9wKr3oC4JnsrqH6HQG2A9uAV4F9hIHDg4ThqmP87lh1QhjK6soq96lZv/1M4CzCasXnEXb4WUKYyOMDbjUsADqBA5ZDw8zLwtRAVSFUKO6jLUkNCIDXLQYp3gD4X4tBijcAdlsMUtwB4DYJUlwGxgIAYIflIUVlx/gA2Gp5SFHZMj4AXrQ8pKhsHh8Amy0PKSovjA+APfg0QIrFbuD/xgcAwFOWixSF39b18QHwpOUiReG3dT3pqJw39t/zCC8GdVs+UmkNAL1ka1yObwEcATZaPlKpbWTcArcT11DeYPlIpfY7dXx8F4Cs+f8aMN9ykkrnMPBRxk39r0zSP3jccpJK6XEmvPcz2TYqj1lOUimdULcnC4CncU6AVDZPZXV72gAAeNjykkpl0jo9cRBwvB3AMstNKrydwMWT/Y+ptlL9nuUmlcJJ6/JULYA5hHeG+yw/qbD6gcsJe1LU1AI4Rtj6SlJxPXSyyj9dCwDCLjTPAmstR6lwniNsUnPSPdcr0/yCFLjfcpQK6f6pKn81AQDwKPCIZSkVyiNZ3aXeAAD4FmEesaT8O5zV2Wl1VJLTq/l3b2XjAZ+0bKXc+ypVvtNTbQCMDSisAJZavlJubQA+V+0/rtTwi1Pg74E3LWMpl97M6mha7Q/U0gIA2AccB663rKXcuQ/4YS0/UGsAQJgdOB9YZXlLufEA8LVaf2gmAQCwDfg4sMRyl9puI3AP49b6a3YAHAH2ApcRVhiV1B7bgXuBXTP54ZkGAIQBh4OEacI9fg9Sy+3L+v0z3tOjngAgS513gauBU/w+pJb5DfDX1DlLt94AGBsPeD8LgS6/F6npjgJfBh6s9xc1IgAg7DQ6BFxpCEhNr/xfAf6xEb+sUQEAYaagISA1v/J/s1G/sJEBMBYCA8BqxwSkhvf5v9yoO3+zAmCsO3CY8N6ATwek+u0jDPg92Ohf3IwAgDAw+BrhxSHnCUgzt53wqK8pa3I0KwAgPCJ8GViAMwalmdhImOTzZLMO0MwAgDBZ6KfZeIDvDkjVe4AwvXdXMw/S7ACAMG34CeAQcAlwmt+tNOVN8z7Ciz1Hmn2wVgTAmC2EAcIzcVERaTIbgC9Q4yu9RQkACKOZjxGeZ64A5vqdSxwmLOP1uayOUNYAGLOJsFvpPNx/UHF7BPgsVa7h12jTbQzSCrcCd+PmI4rLc4R1+x9t50nkIQAgrDh8F3An7kWocusnbNf1bWpYu6/sATBmDnAHsN6ugUpmJ2GX3u8wxV59sQfAeLcDtwHrvHZUYE8BDwPfz+PJ5TkAxlwD3ALcTFiMVMq7w4RBvceAp/N8okUIgDHdwI3ADYRlybu9zpQjA4SpuxuAH2V/z70iBcB484DrgGuzLoITi9QOu7Mm/pPAj2nBzD0DYHKLgTWE9w1WAhfbQlAT7vA7gK3Ai8BmYE/RP1RZAkDSDPw/TN4h1eZsphUAAAAASUVORK5CYII="},50:function(e,t){e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxAPEBURDxEQEg4QDxAREBEWEhEREBIQFRIXFxUSExMYHSghGBslGxUTITEhJSkrLi4uFx8zODMsOSgtLi0BCgoKCwwNDg4NFSsdExkrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrK//AABEIAOEA4QMBIgACEQEDEQH/xAAbAAEAAgMBAQAAAAAAAAAAAAAABAUCAwYBB//EAD0QAAIBAQUDCQUGBQUAAAAAAAABAgMEBREhMRJBUQYiYXGBkaGx0TJCUnLBEyMzYpKyQ3OCouEUY4Pi8P/EABQBAQAAAAAAAAAAAAAAAAAAAAD/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwD7OAAAAAAAAAAAAAAAAAYVqqhFyk8IxTbfQgMwVtnv2zT/AIii+E04+OniWMZJrFNNPRrNAegAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFFePKSnTxjSX2kvi0prt97s7yv5S3s5ydGDwpxeE2vfktV1IoQOnum9VLarWmslg9mnTWSWWLags3qljnvK6+r6laOZFONFPHD3pPc5ehUgDwk2K31aLxpza4x1i+uJHAHb3NfMbQtlrZqpYuO5rjH0LQ+bUasoSUovCUWmnwZ9Au61qtSjUWW0s1wksmu8CSAAAAAAAAAAAAAAAAAAAAAAAAAABR3xygVJuFJKVRZN+7B8OlmzlJebow2IPCrUxz3xjvl17l28DjAAAAAHmIHoPMQgPSTYrwq0H93NpY5x1i+uLJl13XJvbqJqEc0nk5NaZcCpxA7e5r6haObJbNVL2d0uLj6FqfNYTcWnFtSTTTWqa3neXPb/wDUUlPLbXNmvzLf25PtAnAAAAAAAAAAAAAAAAAAAAAABjVnsxb4Rb7liBwl92n7WvOW5ScI/LHL1faQTzE9Ayp03JqMU3J6JF5ZLiWtVtv4Y5Lte8l3TYFRji195Jc58PyongRqdgox0pw7Vi+9m5UorSMf0ozAGOwuC7keqKWiS7D0AeNYnENYZcMjuDkb1o7Faa3N7S6pZ+q7AIpeckrTs1nDdUj/AHRzXhtFGTLmns2ik/8Aciv1ZfUDvwAAAAAAAAAAAAAAAAAAAAA1WpY05rjCa/tZtGAHzNE656O3WjjpHnPs08cCJWp7EpResZSj3PAt+TUOdOXBRXe235IC/AAAAAAAAKjlBZNqKqLWGUvl49n1ZbnjQHEEq6o416X82n+5MzvexqlUwj7MltR6M9Dbycp7Vpp9DlLui/rgB3IAAAAAAAAAAAAAAAAAAAAAGwa7Q+a+oDiL+hhaJtaTamu1Z+OJYcmlzJvjNLuX+TVylpZwn1xfmvqb+Tf4Uv5j/bEC2AAAAAAAAAAFDym9qHVLzRnyRivtZSe6GyuuT/6s18pfah8svMl8nqWzS2t8pN9iyX1A6cAAAAAAAAAAAAAAAAAAAAAMK65r6jMMDnb6o7dGXGOE12a+DZr5PQwo4/FOTXgvoyzqQ1i9M0+lGMIKKSikklgktEgMgAAAAAAAAABRco6TcqeCxxxiuvFYLxLqzUdiMYL3VGP+T2UE8MUng01jua0aN9ljjLqzAnAAAAAAAAAAAAAAAAAAAAAAAA0WihtZrXeRJRweD3FkQrXHCXWBpAAAAAAAAAAGVOm5PBE2hS2V0vU02KOr7P8A3gSgAAAAAAAAAAAAAAAAAAAAAAAABptcMVjw8jcAKwGdensvDc811GAAAAAAAAN9khi8fh8wJNGGzFLfv6zMAAAAAAAAAAAAAAAAAAAAAAAAAAAUl7XxhjCk89JT4dEfUCZb83zWtqK8eDI9KqpdDWqIlzvmSx1235IkV6O1mspeYG8EKNplHJ54ccmbFbFwYEkEWVsW5PvNNS0SfQugCTXtCjks35Em5pYxlnntY9OGGpUEetVlCalFtSSya6wOwBW3Veqq82WCqeEuldPQWQAAAAAAAAAAAAAAAAAAAADXWrwgsZyjFdLw7lvA2Aqa9/U17ClN8fZj45+BX1r9rS9nZguhYvvfoBMvy8tnGlTfO9+S3flXSc+et954Bb3N7D+f6IsChsVrdN8YvVfVF1RrRmsYvFeK60B7UpKWvfvIlSyyWma8ScAKuUWtU0eFqY7C4LuQFYRbYs11fUtrTaYUlu2t0Vr28Clr1nOW1LV+C4IDBNp4rJrNPemdRdF4/bRwl+JFZ/mXxL6nLGdGrKElKLwktGB24OeocoJr8SEZdK5r7iys98UZ+9svhJYeOgE8HkWmsVmuOqPQAAAAAAAAABptVqhSjtTeC3Le3wSA3EG2XrSpZN7Uvhjm+16IpLfe9SrlHGEOCfOfW/oVwFnar7qzyjhBdGcv1emBWyk28W229W3izwAAAAAAAzp1HF4xbT4mAAuLHeKlzZ5S3Pc/QnnMFzddp21sv2o+MQJrZWWu8t1P9Xp6i9bT/DX9XoVgHreObzfE8AAAAAAANtC0TpvGEnHqeXatGWtlv+SyqxxXxRyfdo/ApQB2dltlOquZJN71pJdaN5w0ZNPFNprRrJrtLiw35KOVXnR+Je0uviB0IMKNWM1tQacXvRmAAAGm2WmNKDnLRaLe3uRyNrtMqstqbz3LclwRa8pqvOhDcouXa3gvJ95SAAAAAAAAAAAAAAAkWGrsVE92j6mRz0D2cnJtvVtt9piAAAAAAAAAAAAAAASbDbZ0ZYx0ftR3SXr0nWWW0RqwU46PvT3pnFFtydtDjUcPdmm/6ln5Y+AHSAADmeUT++/44+bKst+UsfvYvjTXhJlQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJd1Swr0/nS78vqRCVdaxrU/nXhmB2AAAoOU3tQ+WXmikAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE25vx4db/AGsADrQAB//Z"},56:function(e,t,a){e.exports=a(94)},61:function(e,t,a){},63:function(e,t,a){},94:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(24),c=a.n(r),s=(a(61),a(3)),o=a(4),i=a(7),m=a(6),u=(a(62),a(63),a(48)),p=a.n(u),d=a(5),h=a(2),E=a(16),f=a(10),b=a(9),g=a.n(b),y="PROCESSING",v="SILENT_PROCESSING",N="SUCCESS",_="ERROR",A="DASHBOARD_DATA",S="DONE",O="USER_LOADED",w="USER_LOADING",C="AUTH_ERROR",x="LOGIN_SUCCESS",j="LOGIN_FAIL",k="LOGOUT_SUCCESS",D="REGISTER_SUCCESS",M="REGISTER_FAIL",I=function(){return function(e,t){e({type:k})}},P=function(e){var t=e().auth.token,a={headers:{"Content-Type":"application/json"}};return t&&(a.headers.Authorization="Token ".concat(t)),a},T=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={username:"",password:""},e.onChange=function(t){return e.setState(Object(f.a)({},t.target.name,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a=e.state,n={username:a.username,password:a.password};e.props.login(n)},e}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"card card-body"},l.a.createElement("h6",{className:"card-title text-center custom-text-primary mb-3"},l.a.createElement("i",{className:" fa fa-user-circle mb-2",style:{fontSize:"3vw"}}),l.a.createElement("br",null),"Sign In"),l.a.createElement("form",{onSubmit:this.onSubmit},l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("label",null,"Email"),l.a.createElement("input",{type:"email",className:"form-control",name:"username",value:this.state.username,onChange:this.onChange,placeholder:"Email address"})),l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("label",null,"Password"),l.a.createElement("input",{type:"password",className:"form-control",name:"password",value:this.state.password,onChange:this.onChange,placeholder:"Password"})),l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("button",{type:"submit",className:"btn custom-bg-primary",disabled:""===this.state.username||""===this.state.password},"Enter"))),l.a.createElement("h6",{className:"text-center"},"Forgot password? ",l.a.createElement("a",{href:"/password/reset"},"Reset")))}}]),a}(n.Component),q=Object(d.b)(null,{login:function(e){return function(t){t({type:y});g.a.post("".concat("/api/","auth/login/"),JSON.stringify(e),{headers:{"Content-Type":"application/json"}}).then((function(e){t({type:x,payload:e.data})})).catch((function(e){t({type:j})})).finally((function(){t({type:S})}))}}})(T),R=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={username:"",password:""},e.onChange=function(t){return e.setState(Object(f.a)({},t.target.name,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a=e.state,n=a.username,l=a.password;if(""!==n&&""!==l){var r={username:n,password:l};e.props.register(r)}},e}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"card card-body"},l.a.createElement("h6",{className:"card-title text-center custom-text-primary mb-3"},l.a.createElement("i",{className:" fa fa-user-circle mb-2",style:{fontSize:"3vw"}}),l.a.createElement("br",null),"Sign Up"),l.a.createElement("form",{onSubmit:this.onSubmit},l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("label",null,"Email"),l.a.createElement("input",{type:"email",className:"form-control",name:"email",value:this.state.email,onChange:this.onChange,placeholder:"Email address"})),l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("label",null,"Username"),l.a.createElement("input",{type:"text",className:"form-control",name:"username",value:this.state.username,onChange:this.onChange,placeholder:"Username"})),l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("label",null,"Password"),l.a.createElement("input",{type:"password",className:"form-control",name:"password",value:this.state.password,onChange:this.onChange,placeholder:"Password"})),l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("label",null,"Confirm password"),l.a.createElement("input",{type:"password",className:"form-control",name:"password",value:this.state.password2,onChange:this.onChange,placeholder:"Confirm password"})),l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("button",{type:"submit",className:"btn custom-bg-primary",disabled:""===this.state.username||""===this.state.password},"Submit"))))}}]),a}(n.Component),L=Object(d.b)(null,[function(e){return function(t){t({type:y});g.a.post("".concat("/api/","auth/register"),JSON.stringify(e),{headers:{"Content-Type":"application/json"}}).then((function(e){t({type:D,payload:e.data})})).catch((function(e){t({type:M})})).finally((function(){t({type:S})}))}}])(R),U=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={login:!0},e.toggleLogin=function(){return e.setState({login:!e.state.login})},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.location.state;return this.props.isAuthenticated&&e&&e.from?l.a.createElement(E.a,{to:"".concat(e.from.pathname)}):this.props.auth.isLoading?l.a.createElement("div",null):l.a.createElement("div",{style:{position:"fixed",left:"0",top:"0",width:"100vw",backgroundImage:"linear-gradient(200deg, rgb(112, 37, 250), rgb(248, 20, 248))"}},l.a.createElement("div",{id:"topnav2",className:"topnav border border-bottom py-3 pr-3 bg-white"},l.a.createElement("div",{className:"topnav-title"},l.a.createElement("b",null,"Professional Hospital Management System")),l.a.createElement("div",{className:"topnav-title right"},l.a.createElement("button",{className:"btn btn-outline-danger border border-none mt-1",style:{fontSize:"1.2vw"},onClick:this.toggleLogin},this.state.login?"Sign up":"Login"))),l.a.createElement("div",{className:"col-sm-8 col-md-6 col-lg-4 my-auto mx-auto pb-5",style:{height:"100vh",paddingTop:"80px"}},this.state.login?l.a.createElement(q,{props:this.toggleLogin}):l.a.createElement(L,{props:this.toggleLogin})))}}]),a}(n.Component),B=Object(d.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,auth:e.auth}}),null)(U),F=a(28),G=Object(d.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,a=e.auth,n=Object(F.a)(e,["component","auth"]);return l.a.createElement(E.b,Object.assign({},n,{render:function(e){if(!a.isAuthenticated)return l.a.createElement(E.a,{to:{pathname:"/user/authentication",state:{from:e.location}}});var n=a.user;return n?n.is_admin?l.a.createElement(t,e):l.a.createElement(E.a,{to:"/public/page"}):void 0}}))})),H=Object(d.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,a=e.auth,n=Object(F.a)(e,["component","auth"]);return l.a.createElement(E.b,Object.assign({},n,{render:function(e){if(!a.isAuthenticated)return l.a.createElement(E.a,{to:{pathname:"/user/authentication",state:{from:e.location}}});var n=a.user;return n?n.is_staff||n.is_admin?l.a.createElement(t,e):l.a.createElement(E.a,{to:"/public/page"}):void 0}}))})),Q=a(50),J=a.n(Q),z=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).logoutUser=function(){e.props.logout()},e}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{id:"sidenav"},l.a.createElement("div",{className:"row col-12 mx-auto justify-content-center sidenav-user"},l.a.createElement("img",{className:"sidenav-image",src:J.a,alt:"USER"}),l.a.createElement("b",{className:"col-12 text-center text-success mb-0 mt-2 sidenav-username"},this.props.auth.user.username),l.a.createElement("i",{className:"col-12 text-center text-light m-0 sidenav-email"},this.props.auth.user.email)),l.a.createElement("div",null,this.props.menus,l.a.createElement("hr",{className:"divider"}),l.a.createElement("div",{className:"list-group"},l.a.createElement(h.b,{to:"/user/profile",className:"list-group-item"},l.a.createElement("i",{className:"fa fa-cog"})," My Profile"),l.a.createElement(h.b,{to:"/user/change-password",className:"list-group-item"},l.a.createElement("i",{className:"fa fa-lock"})," Change password"),l.a.createElement("button",{className:"list-group-item text-left",onClick:this.logoutUser},l.a.createElement("i",{className:"fa fa-power-off"})," Logout"))),l.a.createElement("a",{href:"https://ochom.github.io/lysofts/",className:"text-center text-light copyright-text"},l.a.createElement("b",null,"\xa9 ",(new Date).getFullYear()," Lysofts Ke.")))}}]),a}(n.Component),W=Object(d.b)((function(e){return{auth:e.auth}}),{logout:I})(z),V=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.loadDashboardData()}},{key:"render",value:function(){var e=this,t=this.props.common.dashboard_data;return l.a.createElement(l.a.Fragment,null,l.a.createElement(W,{menus:null}),l.a.createElement("div",{className:"row col-12 mx-auto page-container"},l.a.createElement("h5",{className:"col-11 mx-auto text-center text-success py-3"},"Hi ",this.props.auth.user.username,", we hope you are having a good time. !"),l.a.createElement("div",{className:"bg-danger dashboard-primary-tags"},l.a.createElement("h3",null,t?t.active_active_users:"0"),l.a.createElement("b",null,"Active Medics"),l.a.createElement("i",{className:"fa fa-user-md"})),l.a.createElement("div",{className:"bg-success dashboard-primary-tags"},l.a.createElement("h3",null,t?t.active_appointments:"0"),l.a.createElement("b",null,"Live Appointments"),l.a.createElement("i",{className:"fa fa-calendar"})),l.a.createElement("div",{className:"bg-primary dashboard-primary-tags"},l.a.createElement("h3",null,t?t.registered_patients:"0"),l.a.createElement("b",null,"Registered Patients"),l.a.createElement("i",{className:"fa fa-users"})),l.a.createElement("div",{className:"dashboard-secondary-tags"},l.a.createElement("div",null)),l.a.createElement("div",{className:"dashboard-secondary-tags"},l.a.createElement("table",{className:"table table-sm table-bordered m-0"},l.a.createElement("caption",{className:"px-2"},l.a.createElement("i",null,"Recent Patients")),l.a.createElement("thead",{className:"custom-bg-primary"},l.a.createElement("tr",null,l.a.createElement("th",null,"#"),l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Sex"),l.a.createElement("th",null,"Mobile"))),l.a.createElement("tbody",null,t?t.recent_patients.map((function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,a+1),l.a.createElement("td",null,t.fullname),l.a.createElement("td",null,e.props.common.CONSTANTS.GENDERS[t.sex]),l.a.createElement("td",null,t.phone))})):null)))))}}]),a}(n.Component),K=Object(d.b)((function(e){return{auth:e.auth,common:e.common}}),{loadDashboardData:function(){return function(e,t){e({type:y}),g.a.get("".concat("/api/","registration/dashboard/data/"),P(t)).then((function(t){e({type:A,payload:t.data})})).catch((function(t){e({type:S})}))}}})(V),Y=a(99),X=a(95),Z=a(96),$=a(97),ee=a(98),te="GET_PATIENTS",ae="DELETE_PATIENT",ne="ADD_PATIENT",le="UPDATE_PATIENT",re="GET_SCHEMES",ce="DELETE_SCHEME",se="ADD_SCHEME",oe="UPDATE_SCHEME",ie="GET_PATIENT_HEALTH_FILES",me="ADD_HEALTH_FILE",ue=function(e){return function(t,a){t({type:y}),g.a.get("".concat("/api/","registration/patients/").concat(e),P(a)).then((function(e){t({type:ne,payload:e.data})})).catch((function(e){})).finally((function(){t({type:S})}))}},pe=function(e){return function(t,a){t({type:y}),g.a.get("".concat("/api/","registration/patients/search/?fullname=").concat(e.fullname,"&idno=").concat(e.idno,"&phone=").concat(e.phone),P(a)).then((function(e){t({type:te,payload:e.data}),t({type:S})})).catch((function(e){})).finally((function(){t({type:S})}))}},de=function(e){return function(t,a){g.a.get("".concat("/api/","registration/patient/").concat(e,"/schemes/"),P(a)).then((function(e){t({type:re,payload:e.data})})).catch((function(e){}))}},he=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={patient_search_name:"",patient_search_phone:"",patient_search_idno:"",showModal:!1,select_patient:null,fullname:"",id_type:"",idno:"",dob:"",sex:"",marital_status:"",occupation:"",phone:"",postal_address:"",country:"Kenya",county:"",sub_county:"",ward_estate:"",kin_name:"",kin_phone:"",kin_relationship:"",kin_id:""},e.onChange=function(t){return e.setState(Object(f.a)({},t.target.name,t.target.value))},e.toggleModal=function(){return e.setState({showModal:!e.state.showModal})},e.onNewPatient=function(){e.setState({select_patient:null,fullname:"",id_type:"",idno:"",dob:"",sex:"",marital_status:"",occupation:"",phone:"",postal_address:"",country:"Kenya",county:"",sub_county:"",ward_estate:"",kin_name:"",kin_phone:"",kin_relationship:"",kin_id:""}),e.toggleModal()},e.onEditPatient=function(t){e.setState({select_patient:t,fullname:t.fullname,id_type:t.id_type,idno:t.idno,dob:t.dob,sex:t.sex,marital_status:t.marital_status,occupation:t.occupation,phone:t.phone,postal_address:t.postal_address,country:t.country,county:t.county,sub_county:t.sub_county,ward_estate:t.ward_estate,kin_name:t.kin_name,kin_phone:t.kin_phone,kin_relationship:t.kin_relationship,kin_id:t.kin_id}),e.toggleModal()},e.onSubmitPatient=function(t){t.preventDefault();var a=e.state,n=a.select_patient,l={fullname:a.fullname,id_type:a.id_type,idno:a.idno,dob:a.dob,sex:a.sex,marital_status:a.marital_status,occupation:a.occupation,phone:a.phone,postal_address:a.postal_address,country:a.country,county:a.county,sub_county:a.sub_county,ward_estate:a.ward_estate,kin_name:a.kin_name,kin_phone:a.kin_phone,kin_relationship:a.kin_relationship,kin_id:a.kin_id};n?e.props.updatePatient(n.id,l):e.props.addPatient(l),e.toggleModal()},e.onsearchPatient=function(){var t={fullname:e.state.patient_search_name,idno:e.state.patient_search_idno,phone:e.state.patient_search_phone};e.props.searchPatients(t)},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props.common.CONSTANTS,a=t.GENDERS,n=t.ID_TYPES,r=t.KIN_RELATIONSHIPS,c=t.MARITAL_STATUSES,s=l.a.createElement(Y.a,{isOpen:this.state.showModal,size:"lg"},l.a.createElement(X.a,{toggle:this.toggleModal},this.state.select_patient?l.a.createElement("span",null,l.a.createElement("i",{className:"fa fa-edit"})," Edit Patient Details"):l.a.createElement("span",null,l.a.createElement("i",{className:"fa fa-plus-circle"})," Register Patient")),l.a.createElement("form",{onSubmit:this.onSubmitPatient},l.a.createElement(Z.a,null,l.a.createElement("div",{className:"custom-bg-primary py-1 px-3 my-2 rounded"},"Personal Details"),l.a.createElement("div",{className:"row mx-auto"},l.a.createElement("div",{className:"form-group col-sm-12 col-md-8"},l.a.createElement("label",null,"Full name",l.a.createElement("sup",null,"*")),l.a.createElement("input",{className:"form-control form-control-sm",name:"fullname",onChange:this.onChange,value:this.state.fullname,required:!0,placeholder:"Full name"})),l.a.createElement("div",{className:"form-group col-sm-12 col-md-4"},l.a.createElement("label",null,"Sex",l.a.createElement("sup",null,"*")),l.a.createElement("select",{className:"form-control form-control-sm",name:"sex",onChange:this.onChange,value:this.state.sex,required:!0},l.a.createElement("option",{value:""},"Select"),a.map((function(e,t){return l.a.createElement("option",{key:t,value:t},e)})))),l.a.createElement("div",{className:"form-group col-sm-12 col-md-4"},l.a.createElement("label",null,"Date of Birth",l.a.createElement("sup",null,"*")),l.a.createElement("input",{type:"date",className:"form-control form-control-sm",name:"dob",onChange:this.onChange,value:this.state.dob,required:!0,placeholder:"Date"})),l.a.createElement("div",{className:"form-group col-sm-12 col-md-4"},l.a.createElement("label",null,"ID Type",l.a.createElement("sup",null,"*")),l.a.createElement("select",{className:"form-control form-control-sm",name:"id_type",onChange:this.onChange,value:this.state.id_type,required:!0},l.a.createElement("option",{value:""},"Select"),n.map((function(e,t){return l.a.createElement("option",{key:t,value:t},e)})))),l.a.createElement("div",{className:"form-group col-sm-12 col-md-4"},l.a.createElement("label",null,"ID NO",l.a.createElement("sup",null,"*")),l.a.createElement("input",{className:"form-control form-control-sm",name:"idno",onChange:this.onChange,value:this.state.idno,required:!0,placeholder:"Identification Number"})),l.a.createElement("div",{className:"form-group col-sm-12 col-md-4"},l.a.createElement("label",null,"Marital Status",l.a.createElement("sup",null,"*")),l.a.createElement("select",{className:"form-control form-control-sm",name:"marital_status",onChange:this.onChange,value:this.state.marital_status,required:!0},l.a.createElement("option",{value:null},"Select"),l.a.createElement("option",{value:""},"Select"),c.map((function(e,t){return l.a.createElement("option",{key:t,value:t},e)})))),l.a.createElement("div",{className:"form-group col-sm-12 col-md-4"},l.a.createElement("label",null,"Occupation"),l.a.createElement("input",{className:"form-control form-control-sm",name:"occupation",onChange:this.onChange,value:this.state.occupation}))),l.a.createElement("div",{className:"custom-bg-primary py-1 px-3 my-2 rounded"},"Contacts and Adress"),l.a.createElement("div",{className:"row mx-auto"},l.a.createElement("div",{className:"form-group col-sm-12 col-md-4"},l.a.createElement("label",null,"Phone Number",l.a.createElement("sup",null,"*")),l.a.createElement("input",{className:"form-control form-control-sm",name:"phone",onChange:this.onChange,value:this.state.phone,required:!0,placeholder:"Phone Number"})),l.a.createElement("div",{className:"form-group col-sm-12 col-md-4"},l.a.createElement("label",null,"Postal Address"),l.a.createElement("input",{className:"form-control form-control-sm",name:"postal_address",onChange:this.onChange,value:this.state.postal_address,placeholder:"Postal Address"})),l.a.createElement("div",{className:"form-group col-sm-12 col-md-4"},l.a.createElement("label",null,"Country",l.a.createElement("sup",null,"*")),l.a.createElement("input",{className:"form-control form-control-sm",name:"country",onChange:this.onChange,value:this.state.country,required:!0})),l.a.createElement("div",{className:"form-group col-sm-12 col-md-4"},l.a.createElement("label",null,"County",l.a.createElement("sup",null,"*")),l.a.createElement("input",{className:"form-control form-control-sm",name:"county",onChange:this.onChange,value:this.state.county,required:!0,placeholder:"County"})),l.a.createElement("div",{className:"form-group col-sm-12 col-md-4"},l.a.createElement("label",null,"Sub-county"),l.a.createElement("input",{className:"form-control form-control-sm",name:"sub_county",onChange:this.onChange,value:this.state.sub_county,placeholder:"Sub-county"})),l.a.createElement("div",{className:"form-group col-sm-12 col-md-4"},l.a.createElement("label",null,"Ward/Estate"),l.a.createElement("input",{className:"form-control form-control-sm",name:"ward_estate",onChange:this.onChange,value:this.state.ward_estate,placeholder:"Ward/ Village/ Estate"}))),l.a.createElement("div",{className:"custom-bg-primary py-1 px-3 my-2 rounded"},"Next of kin"),l.a.createElement("div",{className:"row mx-auto"},l.a.createElement("div",{className:"form-group col-sm-12 col-md-4"},l.a.createElement("label",null,"Kin's Name ",l.a.createElement("small",null,"(Full name)"),l.a.createElement("sup",null,"*")),l.a.createElement("input",{className:"form-control form-control-sm",name:"kin_name",onChange:this.onChange,value:this.state.kin_name,required:!0,placeholder:"Kin name"})),l.a.createElement("div",{className:"form-group col-sm-12 col-md-4"},l.a.createElement("label",null,"Kin's Mobile",l.a.createElement("sup",null,"*")),l.a.createElement("input",{className:"form-control form-control-sm",name:"kin_phone",onChange:this.onChange,value:this.state.kin_phone,required:!0,placeholder:"Mobile"})),l.a.createElement("div",{className:"form-group col-sm-12 col-md-4"},l.a.createElement("label",null,"Relationship",l.a.createElement("sup",null,"*")),l.a.createElement("select",{className:"form-control form-control-sm",name:"kin_relationship",onChange:this.onChange,value:this.state.kin_relationship,required:!0},l.a.createElement("option",{value:""},"Select"),r.map((function(e,t){return l.a.createElement("option",{key:t,value:t},e)})))),l.a.createElement("div",{className:"form-group col-sm-12 col-md-4"},l.a.createElement("label",null,"Kin's ID Number"),l.a.createElement("input",{className:"form-control form-control-sm",name:"kin_id",onChange:this.onChange,value:this.state.kin_id,placeholder:"Kin's ID number"})))),l.a.createElement($.a,null,l.a.createElement("button",{type:"submit",className:"btn btn-sm btn-primary",onSubmit:this.onSubmitPatient},l.a.createElement("i",{className:"fa fa-check"})," Save")," ",l.a.createElement(ee.a,{color:"secondary",size:"sm",onClick:this.toggleModal},l.a.createElement("i",{className:"fa fa-close"})," Cancel")))),o=this.props.patients.patients_list.map((function(t,n){return l.a.createElement("tr",{key:n},l.a.createElement("td",null,t.id),l.a.createElement("td",null,t.fullname),l.a.createElement("td",null,a[t.sex]),l.a.createElement("td",null,t.phone),l.a.createElement("td",null,"".concat(t.county,", ").concat(t.country)),l.a.createElement("td",{className:"text-center"},l.a.createElement("button",{className:"btn btn-sm p-0 border-none text-success",onClick:function(){return e.onEditPatient(t)}},l.a.createElement("i",{className:"fa fa-edit"})," Edit")," | ",l.a.createElement(h.b,{to:"/records/patients/".concat(t.id,"/insurance"),className:"btn btn-sm p-0 border-none text-primary"},l.a.createElement("i",{className:"fa fa-briefcase"})," Schemes")," | ",l.a.createElement(h.b,{to:"/records/patients/".concat(t.id,"/health-files"),className:"btn btn-sm p-0 border-none text-primary"},l.a.createElement("i",{className:"fa fa-user-md"})," Book")))}));return l.a.createElement(l.a.Fragment,null,s,l.a.createElement("div",{className:"col-12 mx-auto mt-3"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header py-1 px-3"},l.a.createElement("div",{style:{fontSize:"1.2vw",width:"300px",float:"left"},className:"py-1 px-2"},l.a.createElement("i",{className:"fa fa-globe"})," Browse patients"),l.a.createElement("button",{style:{float:"right"},className:"btn btn-sm custom-bg-secondary py-1 px-2 text-light mr-auto",onClick:this.onNewPatient},l.a.createElement("i",{className:"fa fa-plus-circle mr-2"})," Add Patient")),l.a.createElement("div",{className:"card-body p-0 pb-2"},l.a.createElement("div",{className:"row col-12 mx-auto mt-3"},l.a.createElement("div",{className:"form-group  col-3"},l.a.createElement("label",null,"Patient Name"),l.a.createElement("input",{className:"form-control form-control-sm",name:"patient_search_name",value:this.state.patient_search_name,onChange:this.onChange,placeholder:"Enter name"})),l.a.createElement("div",{className:"form-group  col-3"},l.a.createElement("label",null,"Mobile"),l.a.createElement("input",{className:"form-control form-control-sm",name:"patient_search_phone",value:this.state.patient_search_phone,onChange:this.onChange,placeholder:"Enter phone number"})),l.a.createElement("div",{className:"form-group col-3"},l.a.createElement("label",null,"ID Number"),l.a.createElement("input",{className:"form-control form-control-sm",name:"patient_search_idno",value:this.state.patient_search_idno,onChange:this.onChange,placeholder:"Enter ID number"})),l.a.createElement("div",{className:"form-group  col-12"},l.a.createElement("button",{className:"btn btn-sm btn-outline-success custom-text-primary",onClick:this.onsearchPatient},l.a.createElement("i",{className:"fa fa-search mr-2"})," Find Patient"))))),l.a.createElement("div",{className:"card card-body mt-4"},l.a.createElement("table",{className:"table table-sm table-striped table-bordered table-responsive-sm m-0"},l.a.createElement("caption",{className:"px-2"},l.a.createElement("i",null,"Recent patients | Search results")),l.a.createElement("thead",{className:"custom-bg-secondary"},l.a.createElement("tr",null,l.a.createElement("th",null,"#Reg."),l.a.createElement("th",null,"Full name"),l.a.createElement("th",null,"Gender"),l.a.createElement("th",null,"Mobile"),l.a.createElement("th",null,"Address"),l.a.createElement("th",{className:"text-center"},"Action"))),l.a.createElement("tbody",null,o)))))}}]),a}(n.Component),Ee=Object(d.b)((function(e){return{patients:e.patients,common:e.common}}),{searchPatients:pe,addPatient:function(e){return function(t,a){t({type:y}),g.a.post("".concat("/api/","registration/patients/"),JSON.stringify(e),P(a)).then((function(e){t({type:ne,payload:e.data}),t({type:N,message:"Patient details saved succesfully"})})).catch((function(e){t({type:_,error:e})}))}},updatePatient:function(e,t){return function(a,n){a({type:y}),g.a.put("".concat("/api/","registration/patients/").concat(e),JSON.stringify(t),P(n)).then((function(e){a({type:le,payload:e.data}),a({type:N,message:"Patient details updated succesfully"})})).catch((function(e){a({type:_,error:e})}))}}})(he),fe=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(s.a)(this,a),(n=t.call(this,e)).onChange=function(e){return n.setState(Object(f.a)({},e.target.name,e.target.value))},n.toggleModal=function(){return n.setState({showModal:!n.state.showModal})},n.onNewScheme=function(){return n.setState({showModal:!n.state.showModal,select_scheme:null,company:"",card_number:""})},n.onEditScheme=function(e){return n.setState({showModal:!n.state.showModal,select_scheme:e,company:e.company,card_number:e.card_number})},n.onSubmitScheme=function(e){e.preventDefault();var t=n.state,a=t.select_scheme,l=t.patient,r={patient:l,company:t.company,card_number:t.card_number};a?n.props.updateScheme(l,a.id,r):n.props.addScheme(l,r),n.setState({showModal:!n.state.showModal})};var l=n.props.match.params;return n.state={patient:l.patient_id,showModal:!1,select_scheme:null,company:"",card_number:""},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.getPatient(this.state.patient),this.props.loadScheme(this.state.patient)}},{key:"render",value:function(){var e=this,t=this.props.patients.patients_list,a=this.props.insurance_list,n=l.a.createElement(Y.a,{isOpen:this.state.showModal,size:"md"},l.a.createElement(X.a,{toggle:this.toggleModal},this.state.select_scheme?l.a.createElement("span",null,l.a.createElement("i",{className:"fa fa-edit"})," Edit Patient Scheme Details"):l.a.createElement("span",null,l.a.createElement("i",{className:"fa fa-plus-circle"})," Add Patient Scheme")),l.a.createElement("form",{onSubmit:this.onSubmitScheme},l.a.createElement(Z.a,null,l.a.createElement("div",{className:"row mx-auto"},l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("label",null,"Insurance Company/Scheme",l.a.createElement("sup",null,"*")),l.a.createElement("select",{className:"form-control form-control-sm",name:"company",onChange:this.onChange,value:this.state.company,required:!0},l.a.createElement("option",{value:""},"Select"),a.map((function(e,t){return l.a.createElement("option",{key:t,value:e.id},e.company_name)})))),l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("label",null,"Card Number",l.a.createElement("sup",null,"*")),l.a.createElement("input",{className:"form-control form-control-sm",name:"card_number",onChange:this.onChange,value:this.state.card_number,required:!0,placeholder:"Insurance card number"})))),l.a.createElement($.a,null,l.a.createElement("button",{type:"submit",className:"btn btn-sm btn-primary",onSubmit:this.onSubmitScheme},l.a.createElement("i",{className:"fa fa-check"})," Save")," ",l.a.createElement(ee.a,{color:"secondary",size:"sm",onClick:this.toggleModal},l.a.createElement("i",{className:"fa fa-close"})," Cancel")))),r=this.props.patients.patient_insurance_list.map((function(t,n){return l.a.createElement("tr",{key:n},l.a.createElement("td",null,n+1),l.a.createElement("td",null,a.length>0?a.filter((function(e){return e.id===t.company}))[0].company_name:""),l.a.createElement("td",null,t.card_number),l.a.createElement("td",{className:"text-center"},l.a.createElement("button",{className:"btn btn-sm p-0 border-none text-success",onClick:function(){return e.onEditScheme(t)}},l.a.createElement("i",{className:"fa fa-edit"})," Edit")," | ",l.a.createElement("button",{className:"btn btn-sm p-0 border-none text-danger"},l.a.createElement("i",{className:"fa fa-trash"})," Delete")))}));return l.a.createElement(l.a.Fragment,null,n,l.a.createElement("div",{className:"col-md-9 col-lg-8 mx-auto mt-3"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header py-1 px-3"},l.a.createElement("div",{style:{fontSize:"1.2vw",width:"300px",float:"left"},className:"py-1 px-2"},l.a.createElement("i",{className:"fa fa-briefcase"})," Manage patient's schemes"),l.a.createElement("button",{style:{float:"right"},className:"btn btn-sm custom-bg-secondary py-1 px-2 text-light mr-auto",onClick:this.onNewScheme},l.a.createElement("i",{className:"fa fa-plus-circle mr-2"})," Add Patient Scheme")),l.a.createElement("div",{className:"card-body p-0 pb-2"},l.a.createElement("h5",{className:"py-2 px-3"},t.length>0?t[0].fullname:""))),l.a.createElement("div",{className:"card card-body mt-4"},l.a.createElement("table",{className:"table table-sm table-striped table-bordered table-responsive-sm m-0"},l.a.createElement("caption",{className:"px-2"},l.a.createElement("i",null,"Patient's Insurance schemes")),l.a.createElement("thead",{className:"custom-bg-secondary"},l.a.createElement("tr",null,l.a.createElement("th",null,"#"),l.a.createElement("th",null,"Company name"),l.a.createElement("th",null,"Card number"),l.a.createElement("th",{className:"text-center"},"Action"))),l.a.createElement("tbody",null,r)))))}}]),a}(n.Component),be=Object(d.b)((function(e){return{patients:e.patients,insurance_list:e.hospital.insurance_list}}),{getPatient:ue,loadScheme:de,addScheme:function(e,t){return function(a,n){a({type:y}),g.a.post("".concat("/api/","registration/patient/").concat(e,"/schemes/"),JSON.stringify(t),P(n)).then((function(e){a({type:se,payload:e.data}),a({type:N,message:"Scheme details saved succesfully"})})).catch((function(e){a({type:_,error:e})}))}},updateScheme:function(e,t,a){return function(n,l){n({type:y}),g.a.put("".concat("/api/","registration/patient/").concat(e,"/schemes/").concat(t),JSON.stringify(a),P(l)).then((function(e){n({type:oe,payload:e.data}),n({type:N,message:"Scheme details updated succesfully"})})).catch((function(e){n({type:_,error:e})}))}}})(fe),ge=a(19),ye=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(s.a)(this,a),(n=t.call(this,e)).onChange=function(e){n.setState(Object(f.a)({},e.target.name,e.target.value))},n.toggleModal=function(){return n.setState({showModal:!n.state.showModal})},n.onNewHealthFile=function(e){n.setState({showModal:!n.state.showModal,selected_Service_id:"",selected_service_name:"",treatment_scheme:"",primary_scheme:0})},n.onSearchService=function(e){var t=e.target.value;if(t){var a=n.props.service_list.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())&&2===e.department}));a.slice(0,10),n.setState({isSearchingService:!0,filtered_service_list:a})}else n.setState({isSearchingService:!1,filtered_service_list:[]})},n.onSelectService=function(e){return n.setState({isSearchingService:!1,filtered_service_list:[],selected_Service_id:e.id,selected_service_name:e.name})},n.onSubmitHealthFile=function(e){e.preventDefault();var t=n.state,a=t.patient,l=t.treatment_scheme,r=t.primary_scheme,c=t.selected_Service_id,s={patient:a,treatment_scheme:l,primary_scheme:r,is_open:!0,service:c};c&&(n.props.addHealthFile(s),n.setState({showModal:!n.state.showModal}))};var l=n.props.match.params;return n.state={isSearchingService:!1,filtered_service_list:[],patient:l.patient_id,selected_Service_id:"",selected_service_name:"",treatment_scheme:"",primary_scheme:0},n.onChange=n.onChange.bind(Object(ge.a)(n)),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.getPatient(this.state.patient),this.props.getPatientHealthFiles(this.state.patient),this.props.loadScheme(this.state.patient)}},{key:"render",value:function(){var e=this,t=this.props.patients,a=t.patients_list,n=t.patient_insurance_list,r=this.props.common.CONSTANTS.TREATMENT_SCHEMES,c=this.props.insurance_list,s=l.a.createElement(Y.a,{isOpen:this.state.showModal,size:"md"},l.a.createElement(X.a,{toggle:this.toggleModal},"Create Healthfile"),l.a.createElement("form",{onSubmit:this.onSubmitHealthFile},l.a.createElement(Z.a,null,l.a.createElement("div",{className:"row mx-auto"},l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("i",{className:"fa fa-search custom-text-secondary px-3",style:{position:"absolute",paddingTop:"1vw"}}),l.a.createElement("input",{className:"form-control pl-5",onChange:this.onSearchService,placeholder:"Search..."}),l.a.createElement("div",{style:{position:"relative",display:this.state.isSearchingService?"block":"none"}},l.a.createElement("div",{className:"list-group w-100",style:{position:"absolute",zIndex:"200"}},this.state.filtered_service_list.map((function(t,a){return l.a.createElement("button",{key:a,className:"list-group-item px-3 py-1 bg-white text-left",onClick:function(){return e.onSelectService(t)}},t.name)}))))),l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("label",null,"Appointment Service Name",l.a.createElement("sup",null,"*")),l.a.createElement("input",{className:"form-control form-control-sm",readOnly:!0,name:"selected_service_name",onChange:this.onChange,value:this.state.selected_service_name,required:!0,placeholder:"Service name"})),l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("label",null,"Payment Type/Scheme",l.a.createElement("sup",null,"*")),l.a.createElement("select",{className:"form-control form-control-sm",name:"treatment_scheme",onChange:this.onChange,value:this.state.treatment_scheme,required:!0},l.a.createElement("option",{value:""},"Select"),r.map((function(e,t){return l.a.createElement("option",{key:t,value:t},e)})))),1===parseInt(this.state.treatment_scheme)?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("label",null,"Scheme name",l.a.createElement("sup",null,"*")),l.a.createElement("select",{className:"form-control form-control-sm",name:"primary_scheme",onChange:this.onChange,value:this.state.primary_scheme,required:!0},l.a.createElement("option",{value:0},"Select"),n.map((function(e,t){return l.a.createElement("option",{key:t,value:e.company},c.filter((function(t){return t.company_id===e.company_id}))[0].company_name)}))))):null)),l.a.createElement($.a,null,l.a.createElement("button",{type:"submit",className:"btn btn-sm btn-primary",onSubmit:this.onSubmitHealthFile},l.a.createElement("i",{className:"fa fa-check"})," Save")," ",l.a.createElement(ee.a,{color:"secondary",size:"sm",onClick:this.toggleModal},l.a.createElement("i",{className:"fa fa-close"})," Cancel")))),o=this.props.patients.patient_health_files.map((function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,a+1),l.a.createElement("td",null,new Date(t.created_at).toLocaleString("en-UK")),l.a.createElement("td",null,t.id),l.a.createElement("td",null,t.is_open?l.a.createElement("span",{className:"p-1 px-2 rounded bg-success text-light"},"Opened"):l.a.createElement("span",{className:"p-1 rounded bg-primary text-light"},"Closed")),l.a.createElement("td",{className:"text-center"},l.a.createElement(h.b,{to:"/records/patients/".concat(e.state.patient,"/health-files/").concat(t.id),className:"btn btn-sm p-0 border-none custom-text-primary"},l.a.createElement("i",{className:"fa fa-eye"})," Preview")))}));return l.a.createElement(l.a.Fragment,null,s,l.a.createElement("div",{className:"col-md-8 col-lg-7 mx-auto mt-3"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header py-1 px-3"},l.a.createElement("div",{style:{fontSize:"1.2vw",width:"300px",float:"left"},className:"py-1 px-2"},l.a.createElement("i",{className:"fa fa-briefcase"})," Health Files"),l.a.createElement("button",{style:{float:"right"},className:"btn btn-sm custom-bg-secondary py-1 px-2 text-light mr-auto",onClick:this.onNewHealthFile},l.a.createElement("i",{className:"fa fa-plus-circle mr-2"})," Create Health File")),l.a.createElement("div",{className:"card-body p-0 pb-2"},l.a.createElement("h5",{className:"py-2 px-3"},a.length>0?a[0].fullname:""))),l.a.createElement("div",{className:"card card-body mt-4"},l.a.createElement("table",{className:"table table-sm table-striped table-bordered table-responsive-sm m-0"},l.a.createElement("caption",{className:"px-2"},l.a.createElement("i",null,"Patient health files")),l.a.createElement("thead",{className:"custom-bg-secondary"},l.a.createElement("tr",null,l.a.createElement("th",null,"#"),l.a.createElement("th",null,"Date"),l.a.createElement("th",null,"File"),l.a.createElement("th",null,"Status"),l.a.createElement("th",{className:"text-center"},"Action"))),l.a.createElement("tbody",null,o)))))}}]),a}(n.Component),ve=Object(d.b)((function(e){return{patients:e.patients,service_list:e.hospital.service_list,common:e.common,insurance_list:e.hospital.insurance_list}}),{loadScheme:de,getPatient:ue,getPatientHealthFiles:function(e){return function(t,a){t({type:y}),g.a.get("".concat("/api/","outpatient/").concat(e,"/health-files/"),P(a)).then((function(e){t({type:ie,payload:e.data})})).catch((function(e){})).finally((function(){t({type:S})}))}},addHealthFile:function(e){return function(t,a){t({type:y}),g.a.post("".concat("/api/","outpatient/health-files/"),JSON.stringify(e),P(a)).then((function(e){t({type:me,payload:e.data}),t({type:N,message:"HealthFile details saved succesfully"})})).catch((function(e){t({type:_,error:e.data})}))}}})(ye),Ne=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null)}}]),a}(n.Component),_e="GET_HOSPITAL",Ae="ADD_HOSPITAL",Se="UPDATE_HOSPITAL",Oe="GET_INSURANCE",we="DELETE_INSURANCE",Ce="ADD_INSURANCE",xe="UPDATE_INSURANCE",je="GET_SERVICE",ke="DELETE_SERVICE",De="ADD_SERVICE",Me="UPDATE_SERVICE",Ie="GET_SUPPLIER",Pe="DELETE_SUPPLIER",Te="ADD_SUPPLIER",qe="UPDATE_SUPPLIER",Re="GET_USERS",Le="UPDATE_USER",Ue=function(){return function(e,t){g.a.get("".concat("/api/","registration/insurance/"),P(t)).then((function(t){e({type:Oe,payload:t.data})})).catch((function(e){}))}},Be=function(){return function(e,t){g.a.get("".concat("/api/","registration/service/"),P(t)).then((function(t){e({type:je,payload:t.data})})).catch((function(e){}))}},Fe=function(e){return function(t,a){t({type:y}),g.a.get("".concat("/api/","registration/service/search/?name=").concat(e.name,"&department=").concat(e.department),P(a)).then((function(e){t({type:je,payload:e.data}),t({type:S})})).catch((function(e){})).finally((function(){t({type:S})}))}},Ge=function(e){return function(t,a){t({type:y}),g.a.post("".concat("/api/","registration/service/"),JSON.stringify(e),P(a)).then((function(e){t({type:De,payload:e.data}),t({type:N,message:"Service details saved succesfully"})})).catch((function(e){t({type:_,error:e})}))}},He=function(e,t){return function(a,n){a({type:y}),g.a.put("".concat("/api/","registration/service/").concat(e),JSON.stringify(t),P(n)).then((function(e){a({type:Me,payload:e.data}),a({type:N,message:"Service details updated succesfully"})})).catch((function(e){a({type:_,error:e})}))}},Qe=function(){return function(e,t){g.a.get("".concat("/api/","registration/supplier/"),P(t)).then((function(t){e({type:Ie,payload:t.data})})).catch((function(e){}))}},Je=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.loadInsurance(),this.props.loadService()}},{key:"render",value:function(){var e=l.a.createElement("div",{className:"list-group"},l.a.createElement(h.b,{to:"/records",className:"list-group-item"},l.a.createElement("i",{className:"fa fa-user"})," Registration"),l.a.createElement(h.b,{to:"/outpatient/triage",className:"list-group-item"},l.a.createElement("i",{className:"fa fa-thermometer-half"})," Triage"));return l.a.createElement(l.a.Fragment,null,l.a.createElement(W,{menus:e}),l.a.createElement("div",{className:"row col-12 mx-auto page-container"},l.a.createElement(E.b,{path:"/records",render:function(e){var t=e.match.url;return l.a.createElement(l.a.Fragment,null,l.a.createElement(E.b,{path:"".concat(t),component:Ee,exact:!0}),l.a.createElement(E.b,{path:"".concat(t,"/patients/:patient_id/insurance"),component:be}),l.a.createElement(E.b,{path:"".concat(t,"/patients/:patient_id/health-files"),component:ve,exact:!0}),l.a.createElement(E.b,{path:"".concat(t,"/patients/:patient_id/health-files/:pk"),component:Ne}))}})))}}]),a}(n.Component),ze=Object(d.b)((function(e){return{}}),{loadService:Be,loadInsurance:Ue})(Je),We=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={showMainMenu:!1},e.toggleMenu=function(){return e.setState({showMainMenu:!e.state.showMainMenu})},e}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{id:"topnav",className:"topnav border border-bottom py-3 pr-2 bg-white"},l.a.createElement("div",{className:"topnav-title"},l.a.createElement("b",null,"Professional Hospital Management System")),l.a.createElement("div",{className:"topnav-title right"},l.a.createElement("button",{className:"btn custom-text-primary",style:{position:"relative"},onClick:this.toggleMenu},l.a.createElement("span",{className:"text-warning fa fa-circle",style:{position:"absolute",right:"11px",top:"8px",fontSize:"8px"}}),l.a.createElement("i",{className:"fa fa-bell-o"})),l.a.createElement("button",{className:"btn custom-text-primary",style:{position:"relative"},onClick:this.toggleMenu},l.a.createElement("span",{className:"text-success fa fa-circle",style:{position:"absolute",right:"11px",top:"8px",fontSize:"8px"}}),l.a.createElement("i",{className:"fa fa-envelope-o"})),l.a.createElement("button",{className:"btn text-danger",onClick:this.toggleMenu},l.a.createElement("i",{className:"fa fa-th"})))),l.a.createElement("div",{id:"main-menu",className:this.state.showMainMenu?"show-menu":"hide-menu",onClick:this.toggleMenu},l.a.createElement("div",{className:"col-sm-8 col-md-6 col-lg-4",style:{minHeight:"250px",maxHeight:"500px",overflowY:"auto",float:"right",marginTop:"60px"}},l.a.createElement("div",{className:"card card-body py-4 px-2"},l.a.createElement("div",{className:"row col-12 mx-auto"},l.a.createElement(h.b,{className:"main-menu-menu text-center",to:"/"},l.a.createElement("i",{className:"fa fa-home"}),l.a.createElement("br",null),"Dashboard"),l.a.createElement(h.b,{className:"main-menu-menu text-center",to:"/hospital"},l.a.createElement("i",{className:"fa fa-h-square"}),l.a.createElement("br",null),"Hospital"),l.a.createElement(h.b,{className:"main-menu-menu text-center",to:"/hospital/users"},l.a.createElement("i",{className:"fa fa-users"}),l.a.createElement("br",null),"Users"),l.a.createElement(h.b,{className:"main-menu-menu text-center",to:"/records"},l.a.createElement("i",{className:"fa fa-pencil"}),l.a.createElement("br",null),"Records"),l.a.createElement(h.b,{className:"main-menu-menu text-center",to:"/outpatient"},l.a.createElement("i",{className:"fa fa-user-md"}),l.a.createElement("br",null),"Out-patient"),l.a.createElement(h.b,{className:"main-menu-menu text-center",to:"/laboratory"},l.a.createElement("i",{className:"fa fa-flask"}),l.a.createElement("br",null),"Laboratory"),l.a.createElement(h.b,{className:"main-menu-menu text-center",to:"/radiology"},l.a.createElement("i",{className:"fa fa-photo"}),l.a.createElement("br",null),"Radiology"),l.a.createElement(h.b,{className:"main-menu-menu text-center",to:"/pharmacy"},l.a.createElement("i",{className:"fa fa-medkit"}),l.a.createElement("br",null),"Pharmacy"),l.a.createElement(h.b,{className:"main-menu-menu text-center",to:"/inpatient"},l.a.createElement("i",{className:"fa fa-heartbeat"}),l.a.createElement("br",null),"In-patient"),l.a.createElement(h.b,{className:"main-menu-menu text-center",to:"/revenue/cashpoint/payment-queue"},l.a.createElement("i",{className:"fa fa-dollar"}),l.a.createElement("br",null),"Cashpoint"),l.a.createElement(h.b,{className:"main-menu-menu text-center",to:"/revenue/accounts"},l.a.createElement("i",{className:"fa fa-money"}),l.a.createElement("br",null),"Accounts"),l.a.createElement(h.b,{className:"main-menu-menu text-center",to:"/procurement"},l.a.createElement("i",{className:"fa fa-handshake-o"}),l.a.createElement("br",null),"Procurement"),l.a.createElement(h.b,{className:"main-menu-menu text-center",to:"/hospital/services"},l.a.createElement("i",{className:"fa fa-ambulance"}),l.a.createElement("br",null),"Services"),l.a.createElement(h.b,{className:"main-menu-menu text-center",to:"/payroll"},l.a.createElement("i",{className:"fa fa-credit-card"}),l.a.createElement("br",null),"Payroll"),l.a.createElement(h.b,{className:"main-menu-menu text-center",to:"/hospital/insurance"},l.a.createElement("i",{className:"fa fa-briefcase"}),l.a.createElement("br",null),"Insurance"))))))}}]),a}(n.Component),Ve=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={showModal:!1,selected_hospital:null,hospital_name:"",mfl_code:"",postal_address:"",physical_address:"",email:"",phone:""},e.onChange=function(t){return e.setState(Object(f.a)({},t.target.name,t.target.value))},e.toggleModal=function(){return e.setState({showModal:!e.state.showModal})},e.onSubmitHospital=function(t){t.preventDefault();var a=e.state,n=a.selected_hospital,l={hospital_name:a.hospital_name,mfl_code:a.mfl_code,postal_address:a.postal_address,physical_address:a.physical_address,email:a.email,phone:a.phone};n?e.props.updateHospital(n.id,l):e.props.addHospital(l),e.setState({showModal:!e.state.showModal})},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.loadHospital()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(e.hospital!==this.props.hospital){var t=e.hospital.hospital_profile;t&&this.setState({selected_hospital:t,hospital_name:t.hospital_name,mfl_code:t.mfl_code,postal_address:t.postal_address,physical_address:t.physical_address,email:t.email,phone:t.phone})}}},{key:"render",value:function(){var e=this.props.hospital.hospital_profile,t=l.a.createElement(Y.a,{isOpen:this.state.showModal,size:"md"},l.a.createElement(X.a,{toggle:this.toggleModal},l.a.createElement("span",null,l.a.createElement("i",{className:"fa fa-edit"})," Edit Hospital Profile")),l.a.createElement("form",{onSubmit:this.onSubmitHospital},l.a.createElement(Z.a,null,l.a.createElement("div",{className:"row mx-auto"},l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("label",null,"Hospital Name",l.a.createElement("sup",null,"*")),l.a.createElement("input",{className:"form-control form-control-sm",name:"hospital_name",onChange:this.onChange,value:this.state.hospital_name,required:!0,placeholder:"Hospital Name"})),l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("label",null,"MFL Code",l.a.createElement("sup",null,"*")),l.a.createElement("input",{className:"form-control form-control-sm",name:"mfl_code",onChange:this.onChange,value:this.state.mfl_code,required:!0,placeholder:"MFL Code"})),l.a.createElement("div",{className:"form-group col-6"},l.a.createElement("label",null,"Postal Address"),l.a.createElement("input",{className:"form-control form-control-sm",name:"postal_address",onChange:this.onChange,value:this.state.postal_address,required:!0,placeholder:"Postal Address"})),l.a.createElement("div",{className:"form-group col-6"},l.a.createElement("label",null,"Permanent Address",l.a.createElement("sup",null,"*")),l.a.createElement("input",{className:"form-control form-control-sm",name:"physical_address",onChange:this.onChange,value:this.state.physical_address,required:!0,placeholder:"Permanent Address"})),l.a.createElement("div",{className:"form-group col-6"},l.a.createElement("label",null,"Email Address",l.a.createElement("sup",null,"*")),l.a.createElement("input",{type:"email",className:"form-control form-control-sm",name:"email",onChange:this.onChange,value:this.state.email,required:!0,placeholder:"Email address"})),l.a.createElement("div",{className:"form-group col-6"},l.a.createElement("label",null,"Phone Number"),l.a.createElement("input",{className:"form-control form-control-sm",name:"phone",onChange:this.onChange,value:this.state.phone,required:!0,placeholder:"Phone number"})))),l.a.createElement($.a,null,l.a.createElement("button",{type:"submit",className:"btn btn-sm btn-primary",onSubmit:this.onSubmitHospital},l.a.createElement("i",{className:"fa fa-check"})," Save")," ",l.a.createElement(ee.a,{color:"secondary",size:"sm",onClick:this.toggleModal},l.a.createElement("i",{className:"fa fa-close"})," Cancel"))));return l.a.createElement(l.a.Fragment,null,t,l.a.createElement("div",{className:"col-12 mx-auto mt-3"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header py-1 px-3"},l.a.createElement("div",{style:{fontSize:"1.2vw",width:"300px",float:"left"},className:"py-1 px-2"},l.a.createElement("i",{className:"fa fa-globe"})," Browse hospital"),l.a.createElement("button",{style:{float:"right"},className:"btn btn-sm custom-bg-secondary py-1 px-2 text-light mr-auto",onClick:this.toggleModal},l.a.createElement("i",{className:"fa fa-edit mr-2"})," Edit Hospital")),l.a.createElement("div",{className:"card-body p-0 pb-2"},l.a.createElement("h5",{className:"pb-2 pt-3 px-5"},e?e.hospital_name:"Data not loaded")))))}}]),a}(n.Component),Ke=Object(d.b)((function(e){return{hospital:e.hospital,common:e.common}}),{loadHospital:function(){return function(e,t){g.a.get("".concat("/api/","registration/hospital/"),P(t)).then((function(t){e({type:_e,payload:t.data})})).catch((function(e){}))}},addHospital:function(e){return function(t,a){t({type:y}),g.a.post("".concat("/api/","registration/hospital/"),JSON.stringify(e),P(a)).then((function(e){t({type:Ae,payload:e.data}),t({type:N,message:"Hospital details updated succesfully"})})).catch((function(e){t({type:_,error:e})}))}},updateHospital:function(e,t){return function(a,n){a({type:y}),g.a.put("".concat("/api/","registration/hospital/").concat(e),JSON.stringify(t),P(n)).then((function(e){a({type:Se,payload:e.data}),a({type:N,message:"Hospital details saved succesfully"})})).catch((function(e){a({type:_,error:e})}))}}})(Ve),Ye=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={insurance_search_name:"",insurance_search_phone:"",showModal:!1,select_insurance:null,company_name:"",company_email:"",company_phone:"",is_primary:0},e.onChange=function(t){return e.setState(Object(f.a)({},t.target.name,t.target.value))},e.toggleCheck=function(t){e.setState(Object(f.a)({},t.target.name,t.target.checked?1:0))},e.toggleModal=function(){return e.setState({showModal:!e.state.showModal})},e.onNewInsurance=function(){e.setState({showModal:!e.state.showModal,select_insurance:null,company_name:"",company_email:"",company_phone:"",is_primary:0})},e.onEditInsurance=function(t){e.setState({showModal:!e.state.showModal,select_insurance:t,company_name:t.company_name,company_email:t.company_email,company_phone:t.company_phone,is_primary:t.is_primary})},e.onSubmitInsurance=function(t){t.preventDefault();var a=e.state,n=a.select_insurance,l={company_name:a.company_name,company_email:a.company_email,company_phone:a.company_phone,is_primary:a.is_primary};n?e.props.updateInsurance(n.id,l):e.props.addInsurance(l),e.setState({showModal:!e.state.showModal})},e.onsearchInsurance=function(){var t={company_name:e.state.insurance_search_name,company_phone:e.state.insurance_search_phone};e.props.searchInsurance(t)},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.loadInsurance()}},{key:"render",value:function(){var e=this,t=l.a.createElement(Y.a,{isOpen:this.state.showModal,size:"md"},l.a.createElement(X.a,{toggle:this.toggleModal},this.state.select_insurance?l.a.createElement("span",null,l.a.createElement("i",{className:"fa fa-edit"})," Edit Insurance Details"):l.a.createElement("span",null,l.a.createElement("i",{className:"fa fa-plus-circle"})," Register Insurance")),l.a.createElement("form",{onSubmit:this.onSubmitInsurance},l.a.createElement(Z.a,null,l.a.createElement("div",{className:"row mx-auto"},l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("label",null,"Company name",l.a.createElement("sup",null,"*")),l.a.createElement("input",{className:"form-control form-control-sm",name:"company_name",onChange:this.onChange,value:this.state.company_name,required:!0,placeholder:"Company full name"})),l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("label",null,"Email Address",l.a.createElement("sup",null,"*")),l.a.createElement("input",{type:"email",className:"form-control form-control-sm",name:"company_email",onChange:this.onChange,value:this.state.company_email,required:!0,placeholder:"Email Address"})),l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("label",null,"Phone Nunber",l.a.createElement("sup",null,"*")),l.a.createElement("input",{className:"form-control form-control-sm",name:"company_phone",onChange:this.onChange,value:this.state.company_phone,required:!0,placeholder:"Contact phone number"})),l.a.createElement("div",{className:"form-check col-12 pl-5 "},l.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"exampleCheck1",name:"is_primary",onChange:this.toggleCheck,checked:this.state.is_primary}),l.a.createElement("label",{className:"form-check-label custom-text-secondary py-1",htmlFor:"exampleCheck1"},"This is the hospital's primary insurance")))),l.a.createElement($.a,null,l.a.createElement("button",{type:"submit",className:"btn btn-sm btn-primary",onSubmit:this.onSubmitInsurance},l.a.createElement("i",{className:"fa fa-check"})," Save")," ",l.a.createElement(ee.a,{color:"secondary",size:"sm",onClick:this.toggleModal},l.a.createElement("i",{className:"fa fa-close"})," Cancel")))),a=this.props.insurance_list.map((function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,a+1),l.a.createElement("td",null,t.company_name),l.a.createElement("td",null,t.company_email),l.a.createElement("td",null,t.company_phone),l.a.createElement("td",{className:"text-center"},l.a.createElement("button",{className:"btn btn-sm p-0 border-none text-success",onClick:function(){return e.onEditInsurance(t)}},l.a.createElement("i",{className:"fa fa-edit"})," Edit")," | ",l.a.createElement("button",{className:"btn btn-sm p-0 border-none text-danger"},l.a.createElement("i",{className:"fa fa-trash"})," Delete")))}));return l.a.createElement(l.a.Fragment,null,t,l.a.createElement("div",{className:"col-12 mx-auto mt-3"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header py-1 px-3"},l.a.createElement("div",{style:{fontSize:"1.2vw",width:"300px",float:"left"},className:"py-1 px-2"},l.a.createElement("i",{className:"fa fa-globe"})," Browse insurance companies"),l.a.createElement("button",{style:{float:"right"},className:"btn btn-sm custom-bg-secondary py-1 px-2 text-light mr-auto",onClick:this.onNewInsurance},l.a.createElement("i",{className:"fa fa-plus-circle mr-2"})," Add Insurance")),l.a.createElement("div",{className:"card-body p-0 pb-2"},l.a.createElement("div",{className:"row col-12 mx-auto mt-3"},l.a.createElement("div",{className:"form-group  col-3"},l.a.createElement("label",null,"Insurance name"),l.a.createElement("input",{className:"form-control form-control-sm",name:"insurance_search_name",value:this.state.insurance_search_name,onChange:this.onChange,placeholder:"Enter name"})),l.a.createElement("div",{className:"form-group  col-3"},l.a.createElement("label",null,"Phone number"),l.a.createElement("input",{className:"form-control form-control-sm",name:"insurance_search_phone",value:this.state.insurance_search_phone,onChange:this.onChange,placeholder:"Enter phone number"}))),l.a.createElement("div",{className:"row col-12 mx-auto"},l.a.createElement("button",{className:"btn btn-sm btn-outline-success custom-text-primary ml-4",onClick:this.onsearchInsurance,disabled:this.props.common.isProcessing},l.a.createElement("i",{className:"fa fa-search mr-2"})," Find Insurance")))),l.a.createElement("div",{className:"card card-body mt-4"},l.a.createElement("table",{className:"table table-sm table-striped table-bordered table-responsive-sm m-0"},l.a.createElement("caption",{className:"px-2"},l.a.createElement("i",null,"Recent insurances | Search results")),l.a.createElement("thead",{className:"custom-bg-secondary"},l.a.createElement("tr",null,l.a.createElement("th",null,"#"),l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Email"),l.a.createElement("th",null,"Mobile"),l.a.createElement("th",{className:"text-center"},"Action"))),l.a.createElement("tbody",null,a)))))}}]),a}(n.Component),Xe=Object(d.b)((function(e){return{insurance_list:e.hospital.insurance_list,common:e.common}}),{loadInsurance:Ue,searchInsurance:function(e){return function(t,a){t({type:y}),g.a.get("".concat("/api/","registration/insurance/search/?company_name=").concat(e.company_name,"&company_phone=").concat(e.company_phone),P(a)).then((function(e){t({type:Oe,payload:e.data}),t({type:S})})).catch((function(e){})).finally((function(){t({type:S})}))}},addInsurance:function(e){return function(t,a){t({type:y}),g.a.post("".concat("/api/","registration/insurance/"),JSON.stringify(e),P(a)).then((function(e){t({type:Ce,payload:e.data}),t({type:N,message:"Insurance details saved succesfully"})})).catch((function(e){t({type:_,error:e})}))}},updateInsurance:function(e,t){return function(a,n){a({type:y}),g.a.put("".concat("/api/","registration/insurance/").concat(e),JSON.stringify(t),P(n)).then((function(e){a({type:xe,payload:e.data}),a({type:N,message:"Insurance details updated succesfully"})})).catch((function(e){a({type:_,error:e})}))}}})(Ye),Ze=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={users_search_name:"",users_search_phone:"",showModal:!1,select_users:null,company_name:"",company_email:"",company_phone:"",is_primary:0},e.onChange=function(t){return e.setState(Object(f.a)({},t.target.name,t.target.value))},e.toggleCheck=function(t){e.setState(Object(f.a)({},t.target.name,t.target.checked?1:0))},e.toggleModal=function(){return e.setState({showModal:!e.state.showModal})},e.onNewUser=function(){e.setState({showModal:!e.state.showModal,select_users:null,company_name:"",company_email:"",company_phone:"",is_primary:0})},e.onEditUser=function(t){e.setState({showModal:!e.state.showModal,select_users:t,company_name:t.company_name,company_email:t.company_email,company_phone:t.company_phone,is_primary:t.is_primary})},e.onSubmitUser=function(t){t.preventDefault();var a=e.state,n=a.select_users,l={company_name:a.company_name,company_email:a.company_email,company_phone:a.company_phone,is_primary:a.is_primary};n?e.props.updateUser(n.id,l):e.props.addUser(l),e.setState({showModal:!e.state.showModal})},e.onsearchUser=function(){var t={company_name:e.state.users_search_name,company_phone:e.state.users_search_phone};e.props.searchUser(t)},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.loadUsers()}},{key:"render",value:function(){var e=this,t=l.a.createElement(Y.a,{isOpen:this.state.showModal,size:"md"},l.a.createElement(X.a,{toggle:this.toggleModal},this.state.select_users?l.a.createElement("span",null,l.a.createElement("i",{className:"fa fa-edit"})," Edit User Details"):l.a.createElement("span",null,l.a.createElement("i",{className:"fa fa-plus-circle"})," Register User")),l.a.createElement("form",{onSubmit:this.onSubmitUser},l.a.createElement(Z.a,null,l.a.createElement("div",{className:"row mx-auto"},l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("label",null,"Company name",l.a.createElement("sup",null,"*")),l.a.createElement("input",{className:"form-control form-control-sm",name:"company_name",onChange:this.onChange,value:this.state.company_name,required:!0,placeholder:"Company full name"})),l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("label",null,"Email Address",l.a.createElement("sup",null,"*")),l.a.createElement("input",{type:"email",className:"form-control form-control-sm",name:"company_email",onChange:this.onChange,value:this.state.company_email,required:!0,placeholder:"Email Address"})),l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("label",null,"Phone Nunber",l.a.createElement("sup",null,"*")),l.a.createElement("input",{className:"form-control form-control-sm",name:"company_phone",onChange:this.onChange,value:this.state.company_phone,required:!0,placeholder:"Contact phone number"})),l.a.createElement("div",{className:"form-check col-12 pl-5 "},l.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"exampleCheck1",name:"is_primary",onChange:this.toggleCheck,checked:this.state.is_primary}),l.a.createElement("label",{className:"form-check-label custom-text-secondary py-1",htmlFor:"exampleCheck1"},"This is the hospital's primary users")))),l.a.createElement($.a,null,l.a.createElement("button",{type:"submit",className:"btn btn-sm btn-primary",onSubmit:this.onSubmitUser},l.a.createElement("i",{className:"fa fa-check"})," Save")," ",l.a.createElement(ee.a,{color:"secondary",size:"sm",onClick:this.toggleModal},l.a.createElement("i",{className:"fa fa-close"})," Cancel")))),a=this.props.users_list.map((function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,a+1),l.a.createElement("td",null,t.user_profile?t.user_profile.fullname:t.username),l.a.createElement("td",null,t.email),l.a.createElement("td",null,t.user_profile?t.user_profile.phone:"---"),l.a.createElement("td",null,t.is_admin?"Yes":"No"),l.a.createElement("td",null,t.is_staff?"Yes":"No"),l.a.createElement("td",{className:"text-center"},l.a.createElement("button",{className:"btn btn-sm p-0 border-none text-success",onClick:function(){return e.onEditUser(t)}},l.a.createElement("i",{className:"fa fa-edit"})," Edit")))}));return l.a.createElement(l.a.Fragment,null,t,l.a.createElement("div",{className:"row col-12 mx-auto mt-3"},l.a.createElement("div",{className:"card card-header bg-white py-1 px-3 col-12"},l.a.createElement("div",{className:"py-1 px-2"},l.a.createElement(h.b,{to:"/"},"Home"),"  \xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/hospital"},"Hospital"),"  \xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/hospital/users"},"Users"))),l.a.createElement("div",{className:"card col-12 p-0 mt-2"},l.a.createElement("div",{className:"card-header py-1 px-3"},l.a.createElement("div",{className:"py-1 px-2"},l.a.createElement("i",{className:"fa fa-globe"})," Browse system users")),l.a.createElement("div",{className:"card-body p-0 pb-2"},l.a.createElement("div",{className:"row col-12 mx-auto mt-3"},l.a.createElement("div",{className:"form-group  col-3"},l.a.createElement("label",null,"User name"),l.a.createElement("input",{className:"form-control form-control-sm",name:"users_search_name",value:this.state.users_search_name,onChange:this.onChange,placeholder:"Enter name"})),l.a.createElement("div",{className:"form-group  col-3"},l.a.createElement("label",null,"Phone number"),l.a.createElement("input",{className:"form-control form-control-sm",name:"users_search_phone",value:this.state.users_search_phone,onChange:this.onChange,placeholder:"Enter phone number"}))),l.a.createElement("div",{className:"row col-12 mx-auto"},l.a.createElement("button",{className:"btn btn-sm btn-outline-success custom-text-primary ml-4",onClick:this.onsearchUser,disabled:this.props.common.isProcessing},l.a.createElement("i",{className:"fa fa-search mr-2"})," Find User")))),l.a.createElement("div",{className:"card card-body mt-4 p-0"},l.a.createElement("table",{className:"table table-sm table-striped table-bordered table-responsive-sm m-0"},l.a.createElement("caption",{className:"px-2"},l.a.createElement("i",null,"Recent users | Search results")),l.a.createElement("thead",{className:"custom-bg-secondary"},l.a.createElement("tr",null,l.a.createElement("th",null,"#"),l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Email"),l.a.createElement("th",null,"Mobile"),l.a.createElement("th",null,"IS ADMIN"),l.a.createElement("th",null,"IS STAFF"),l.a.createElement("th",{className:"text-center"},"Action"))),l.a.createElement("tbody",null,a)))))}}]),a}(n.Component),$e=Object(d.b)((function(e){return{users_list:e.hospital.users_list,common:e.common}}),{loadUsers:function(){return function(e,t){g.a.get("".concat("/api/","system/users/"),P(t)).then((function(t){e({type:Re,payload:t.data})})).catch((function(e){}))}},searchUser:function(e){return function(t,a){t({type:y}),g.a.get("".concat("/api/","system/users/search/?name=").concat(e.name,"&phone=").concat(e.phone),P(a)).then((function(e){t({type:Re,payload:e.data}),t({type:S})})).catch((function(e){})).finally((function(){t({type:S})}))}},updateUser:function(e,t){return function(a,n){a({type:y}),g.a.put("".concat("/api/","system/users/").concat(e),JSON.stringify(t),P(n)).then((function(e){a({type:Le,payload:e.data}),a({type:N,message:"User details updated succesfully"})})).catch((function(e){a({type:_,error:e})}))}}})(Ze),et=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={service_search_name:"",service_search_department:"",showModal:!1,select_service:null,name:"",department:"",description:"",price:"",rebate:"",is_insured:!0},e.onChange=function(t){return e.setState(Object(f.a)({},t.target.name,t.target.value))},e.toggleCheck=function(t){e.setState(Object(f.a)({},t.target.name,t.target.checked?1:0))},e.toggleModal=function(){return e.setState({showModal:!e.state.showModal})},e.onNewService=function(){e.setState({showModal:!e.state.showModal,select_service:null,name:"",department:"",description:"",price:"",rebate:"",is_insured:!0})},e.onEditService=function(t){e.setState({showModal:!e.state.showModal,select_service:t,name:t.name,department:t.department,description:t.description,price:t.price,rebate:t.rebate,is_insured:t.is_insured})},e.onSubmitService=function(t){t.preventDefault();var a=e.state,n=a.select_service,l={name:a.name,department:a.department,description:a.description,price:a.price,rebate:a.rebate,is_insured:a.is_insured};n?e.props.updateService(n.id,l):e.props.addService(l),e.setState({showModal:!e.state.showModal})},e.onsearchService=function(){var t={name:e.state.service_search_name,department:e.state.service_search_department};e.props.searchService(t)},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.loadService()}},{key:"render",value:function(){var e=this,t=this.props.hospital.service_list,a=this.props.common.CONSTANTS.DEPARTMENTS,n=a.map((function(e,t){return l.a.createElement("option",{key:t,value:t},e)})),r=l.a.createElement(Y.a,{isOpen:this.state.showModal,size:"md"},l.a.createElement(X.a,{toggle:this.toggleModal},this.state.select_service?l.a.createElement("span",null,l.a.createElement("i",{className:"fa fa-edit"})," Edit Service Details"):l.a.createElement("span",null,l.a.createElement("i",{className:"fa fa-plus-circle"})," Register Service")),l.a.createElement("form",{onSubmit:this.onSubmitService},l.a.createElement(Z.a,null,l.a.createElement("div",{className:"row mx-auto"},l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("label",null,"Sevice Name",l.a.createElement("sup",null,"*")),l.a.createElement("input",{className:"form-control form-control-sm",name:"name",onChange:this.onChange,value:this.state.name,required:!0,placeholder:"Service full name"})),l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("label",null,"Department",l.a.createElement("sup",null,"*")),l.a.createElement("select",{className:"form-control form-control-sm",name:"department",onChange:this.onChange,value:this.state.department,required:!0},l.a.createElement("option",{value:null},"Select"),n)),l.a.createElement("div",{className:"form-group col-6"},l.a.createElement("label",null,"Price",l.a.createElement("sup",null,"*")),l.a.createElement("input",{className:"form-control form-control-sm",name:"price",onChange:this.onChange,value:this.state.price,required:!0,placeholder:"Service price"})),l.a.createElement("div",{className:"form-group col-6"},l.a.createElement("label",null,"Rebate (NHIF)",l.a.createElement("sup",null,"*")),l.a.createElement("input",{className:"form-control form-control-sm",name:"rebate",onChange:this.onChange,value:this.state.rebate,required:!0,placeholder:"Rebate amount"})),l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("label",null,"Is this service paid by insurance ?",l.a.createElement("sup",null,"*")),l.a.createElement("select",{className:"form-control form-control-sm",name:"is_insured",onChange:this.onChange,value:this.state.is_insured,required:!0},l.a.createElement("option",{value:!1},"No"),l.a.createElement("option",{value:!0},"Yes"))),l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("label",null,"Other descriptions"),l.a.createElement("textarea",{className:"form-control form-control-sm",name:"description",onChange:this.onChange,value:this.state.description,placeholder:"Other descriptions of this service"})))),l.a.createElement($.a,null,l.a.createElement("button",{type:"submit",className:"btn btn-sm btn-primary",onSubmit:this.onSubmitService},l.a.createElement("i",{className:"fa fa-check"})," Save")," ",l.a.createElement(ee.a,{color:"secondary",size:"sm",onClick:this.toggleModal},l.a.createElement("i",{className:"fa fa-close"})," Cancel")))),c=t.map((function(t,n){return l.a.createElement("tr",{key:n},l.a.createElement("td",null,n+1),l.a.createElement("td",null,t.name),l.a.createElement("td",null,a[t.department]),l.a.createElement("td",null,t.price),l.a.createElement("td",null,t.rebate),l.a.createElement("td",null,t.is_insured?"Yes":"No"),l.a.createElement("td",{className:"text-center"},l.a.createElement("button",{className:"btn btn-sm p-0 border-none text-success",onClick:function(){return e.onEditService(t)}},l.a.createElement("i",{className:"fa fa-edit"})," Edit")," | ",l.a.createElement("button",{className:"btn btn-sm p-0 border-none text-danger"},l.a.createElement("i",{className:"fa fa-trash"})," Delete")))}));return l.a.createElement(l.a.Fragment,null,r,l.a.createElement("div",{className:"col-12 mx-auto mt-3"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header py-1 px-3"},l.a.createElement("div",{style:{fontSize:"1.2vw",width:"300px",float:"left"},className:"py-1 px-2"},l.a.createElement("i",{className:"fa fa-globe"})," Browse service companies"),l.a.createElement("button",{style:{float:"right"},className:"btn btn-sm custom-bg-secondary py-1 px-2 text-light mr-auto",onClick:this.onNewService},l.a.createElement("i",{className:"fa fa-plus-circle mr-2"})," Add Service")),l.a.createElement("div",{className:"card-body p-0 pb-2"},l.a.createElement("div",{className:"row col-12 mx-auto mt-3"},l.a.createElement("div",{className:"form-group  col-3"},l.a.createElement("label",null,"Service name"),l.a.createElement("input",{className:"form-control form-control-sm",name:"service_search_name",value:this.state.service_search_name,onChange:this.onChange,placeholder:"Enter name"})),l.a.createElement("div",{className:"form-group  col-3"},l.a.createElement("label",null,"Department"),l.a.createElement("select",{className:"form-control form-control-sm",name:"service_search_department",value:this.state.service_search_department,onChange:this.onChange},l.a.createElement("option",{value:null},"Select"),n))),l.a.createElement("div",{className:"row col-12 mx-auto"},l.a.createElement("button",{className:"btn btn-sm btn-outline-success custom-text-primary ml-4",onClick:this.onsearchService,disabled:this.props.common.isProcessing},l.a.createElement("i",{className:"fa fa-search mr-2"})," Find Service")))),l.a.createElement("div",{className:"card card-body mt-4"},l.a.createElement("table",{className:"table table-sm table-striped table-bordered table-responsive-sm m-0"},l.a.createElement("caption",{className:"px-2"},l.a.createElement("i",null,"Recent services | Search results")),l.a.createElement("thead",{className:"custom-bg-secondary"},l.a.createElement("tr",null,l.a.createElement("th",null,"#"),l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Department"),l.a.createElement("th",null,"Price"),l.a.createElement("th",null,"Rebate"),l.a.createElement("th",null,"Scheme"),l.a.createElement("th",{className:"text-center"},"Action"))),l.a.createElement("tbody",null,c)))))}}]),a}(n.Component),tt=Object(d.b)((function(e){return{hospital:e.hospital,common:e.common}}),{loadService:Be,searchService:Fe,addService:Ge,updateService:He})(et),at=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={supplier_search_name:"",supplier_search_phone:"",showModal:!1,select_supplier:null,name:"",email:"",phone:"",address:0},e.onChange=function(t){return e.setState(Object(f.a)({},t.target.name,t.target.value))},e.toggleModal=function(){return e.setState({showModal:!e.state.showModal})},e.onNewSupplier=function(){e.setState({showModal:!e.state.showModal,select_supplier:null,name:"",email:"",phone:"",address:""})},e.onEditSupplier=function(t){e.setState({showModal:!e.state.showModal,select_supplier:t,name:t.name,email:t.email,phone:t.phone,address:t.address})},e.onSubmitSupplier=function(t){t.preventDefault();var a=e.state,n=a.select_supplier,l={name:a.name,email:a.email,phone:a.phone,address:a.address};n?e.props.updateSupplier(n.id,l):e.props.addSupplier(l),e.setState({showModal:!e.state.showModal})},e.onsearchSupplier=function(){var t={name:e.state.supplier_search_name,phone:e.state.supplier_search_phone};e.props.searchSupplier(t)},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.loadSupplier()}},{key:"render",value:function(){var e=this,t=l.a.createElement(Y.a,{isOpen:this.state.showModal,size:"md"},l.a.createElement(X.a,{toggle:this.toggleModal},this.state.select_supplier?l.a.createElement("span",null,l.a.createElement("i",{className:"fa fa-edit"})," Edit Supplier Details"):l.a.createElement("span",null,l.a.createElement("i",{className:"fa fa-plus-circle"})," Register Supplier")),l.a.createElement("form",{onSubmit:this.onSubmitSupplier},l.a.createElement(Z.a,null,l.a.createElement("div",{className:"row mx-auto"},l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("label",null,"Company name",l.a.createElement("sup",null,"*")),l.a.createElement("input",{className:"form-control form-control-sm",name:"name",onChange:this.onChange,value:this.state.name,required:!0,placeholder:"Company full name"})),l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("label",null,"Email Address",l.a.createElement("sup",null,"*")),l.a.createElement("input",{type:"email",className:"form-control form-control-sm",name:"email",onChange:this.onChange,value:this.state.email,required:!0,placeholder:"Email Address"})),l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("label",null,"Phone Nunber",l.a.createElement("sup",null,"*")),l.a.createElement("input",{className:"form-control form-control-sm",name:"phone",onChange:this.onChange,value:this.state.phone,required:!0,placeholder:"Contact phone number"})),l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("label",null,"Physical Address",l.a.createElement("sup",null,"*")),l.a.createElement("input",{className:"form-control form-control-sm",name:"address",onChange:this.onChange,value:this.state.address,required:!0,placeholder:"Physical address"})))),l.a.createElement($.a,null,l.a.createElement("button",{type:"submit",className:"btn btn-sm btn-primary",onSubmit:this.onSubmitSupplier},l.a.createElement("i",{className:"fa fa-check"})," Save")," ",l.a.createElement(ee.a,{color:"secondary",size:"sm",onClick:this.toggleModal},l.a.createElement("i",{className:"fa fa-close"})," Cancel")))),a=this.props.supplier_list.map((function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,a+1),l.a.createElement("td",null,t.name),l.a.createElement("td",null,t.email),l.a.createElement("td",null,t.phone),l.a.createElement("td",{className:"text-center"},l.a.createElement("button",{className:"btn btn-sm p-0 border-none text-success",onClick:function(){return e.onEditSupplier(t)}},l.a.createElement("i",{className:"fa fa-edit"})," Edit")," | ",l.a.createElement("button",{className:"btn btn-sm p-0 border-none text-danger"},l.a.createElement("i",{className:"fa fa-trash"})," Delete")))}));return l.a.createElement(l.a.Fragment,null,t,l.a.createElement("div",{className:"col-12 mx-auto mt-3"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header py-1 px-3"},l.a.createElement("div",{style:{fontSize:"1.2vw",width:"300px",float:"left"},className:"py-1 px-2"},l.a.createElement("i",{className:"fa fa-globe"})," Browse supplier companies"),l.a.createElement("button",{style:{float:"right"},className:"btn btn-sm custom-bg-secondary py-1 px-2 text-light mr-auto",onClick:this.onNewSupplier},l.a.createElement("i",{className:"fa fa-plus-circle mr-2"})," Add Supplier")),l.a.createElement("div",{className:"card-body p-0 pb-2"},l.a.createElement("div",{className:"row col-12 mx-auto mt-3"},l.a.createElement("div",{className:"form-group  col-3"},l.a.createElement("label",null,"Supplier name"),l.a.createElement("input",{className:"form-control form-control-sm",name:"supplier_search_name",value:this.state.supplier_search_name,onChange:this.onChange,placeholder:"Enter name"})),l.a.createElement("div",{className:"form-group  col-3"},l.a.createElement("label",null,"Phone number"),l.a.createElement("input",{className:"form-control form-control-sm",name:"supplier_search_phone",value:this.state.supplier_search_phone,onChange:this.onChange,placeholder:"Enter phone number"}))),l.a.createElement("div",{className:"row col-12 mx-auto"},l.a.createElement("button",{className:"btn btn-sm btn-outline-success custom-text-primary ml-4",onClick:this.onsearchSupplier,disabled:this.props.common.isProcessing},l.a.createElement("i",{className:"fa fa-search mr-2"})," Find Supplier")))),l.a.createElement("div",{className:"card card-body mt-4"},l.a.createElement("table",{className:"table table-sm table-striped table-bordered table-responsive-sm m-0"},l.a.createElement("caption",{className:"px-2"},l.a.createElement("i",null,"Recent suppliers | Search results")),l.a.createElement("thead",{className:"custom-bg-secondary"},l.a.createElement("tr",null,l.a.createElement("th",null,"#"),l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Email"),l.a.createElement("th",null,"Mobile"),l.a.createElement("th",{className:"text-center"},"Action"))),l.a.createElement("tbody",null,a)))))}}]),a}(n.Component),nt=Object(d.b)((function(e){return{supplier_list:e.hospital.supplier_list,common:e.common}}),{loadSupplier:Qe,searchSupplier:function(e){return function(t,a){t({type:y}),g.a.get("".concat("/api/","registration/supplier/search/?name=").concat(e.name,"&phone=").concat(e.phone),P(a)).then((function(e){t({type:Ie,payload:e.data}),t({type:S})})).catch((function(e){})).finally((function(){t({type:S})}))}},addSupplier:function(e){return function(t,a){t({type:y}),g.a.post("".concat("/api/","registration/supplier/"),JSON.stringify(e),P(a)).then((function(e){t({type:Te,payload:e.data}),t({type:N,message:"Supplier details saved succesfully"})})).catch((function(e){t({type:_,error:e})}))}},updateSupplier:function(e,t){return function(a,n){a({type:y}),g.a.put("".concat("/api/","registration/supplier/").concat(e),JSON.stringify(t),P(n)).then((function(e){a({type:qe,payload:e.data}),a({type:N,message:"Supplier details updated succesfully"})})).catch((function(e){a({type:_,error:e})}))}}})(at),lt=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=l.a.createElement("div",{className:"list-group"},l.a.createElement(h.b,{to:"/hospital",className:"list-group-item"},l.a.createElement("i",{className:"fa fa-h-square"})," Hospital"),l.a.createElement(h.b,{to:"/hospital/supplier",className:"list-group-item"},l.a.createElement("i",{className:"fa fa-briefcase"})," Suppliers"),l.a.createElement(h.b,{to:"/hospital/insurance",className:"list-group-item"},l.a.createElement("i",{className:"fa fa-briefcase"})," Insurance"),l.a.createElement(h.b,{to:"/hospital/services",className:"list-group-item"},l.a.createElement("i",{className:"fa fa-ambulance"})," Services"),l.a.createElement(h.b,{to:"/hospital/users",className:"list-group-item"},l.a.createElement("i",{className:"fa fa-user-md"})," System Users"));return l.a.createElement(l.a.Fragment,null,l.a.createElement(W,{menus:e}),l.a.createElement("div",{className:"row col-12 mx-auto page-container"},l.a.createElement(E.b,{path:"/hospital",render:function(e){var t=e.match.url;return l.a.createElement(l.a.Fragment,null,l.a.createElement(E.b,{path:"".concat(t),component:Ke,exact:!0}),l.a.createElement(E.b,{path:"".concat(t,"/supplier"),component:nt}),l.a.createElement(E.b,{path:"".concat(t,"/insurance"),component:Xe}),l.a.createElement(E.b,{path:"".concat(t,"/services"),component:tt}),l.a.createElement(E.b,{path:"".concat(t,"/users"),component:$e}))}})))}}]),a}(n.Component),rt=Object(d.b)(null)(lt),ct=a(13),st="GET_PAYMENT_QUEUE",ot="MAKE_PAYMENTS",it=a(51),mt=a.n(it),ut=a(52),pt=a.n(ut),dt=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={showModal:!1,selected_payment_data:null,cart_items:[],total_bill:0,receipt:!1},e.toggleModal=function(){return e.setState({showModal:!e.state.showModal})},e.onEditPayment=function(t){e.setState({showModal:!0,selected_payment_data:t,cart_items:[],receipt:!1})},e.onCheckChange=function(t){e.state.cart_items.filter((function(e){return e.id===t.id})).length>0?e.setState({cart_items:e.state.cart_items.filter((function(e){return e.id!==t.id}))},(function(){return e.calculateBill()})):e.setState({cart_items:[].concat(Object(ct.a)(e.state.cart_items),[t])},(function(){return e.calculateBill()}))},e.onSavePayment=function(){var t=e.state,a=t.selected_payment_data,n=t.cart_items,l={cart_items:n};n.length>0&&(e.props.savePayment(a.patient.id,l),e.setState({receipt:!0}))},e.printReceipt=function(){var t=document.getElementById("receipt_div");pt()(t).then((function(t){var a=70*t.height/t.width,n=t.toDataURL("image/png"),l=new mt.a("p","mm","a6");l.addImage(n,"JPEG",0,0,70,a),l.save("receipt.pdf"),e.setState({showModal:!e.state.showModal,receipt:!1})}))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.loadPaymentQueue()}},{key:"calculateBill",value:function(){for(var e=this.state.cart_items,t=0,a=0;a<e.length;a++)t=parseInt(e[a].amount);this.setState({total_bill:t})}},{key:"render",value:function(){var e=this,t=this.props.revenue.payment_queue,a=this.state.selected_payment_data,n=t.map((function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,t.patient.fullname),l.a.createElement("td",null,t.patient.id),l.a.createElement("td",null,t.patient.phone),l.a.createElement("td",null,t.total_bill),l.a.createElement("td",{className:"text-center"},l.a.createElement("button",{className:"btn btn-sm p-0 border-none text-success",onClick:function(){return e.onEditPayment(t)}},l.a.createElement("i",{className:"fa fa-edit"})," Make Payments")))})),r=l.a.createElement(Y.a,{isOpen:this.state.showModal,size:"md"},l.a.createElement(X.a,{toggle:this.toggleModal},this.state.receipt?"Print Receipt":"Requested Services"),l.a.createElement(Z.a,null,this.state.receipt?l.a.createElement("div",{className:"col-12 mx-auto",id:"receipt_div"},l.a.createElement("h5",{className:"text-center mt-3 pt-5"},"Payment Receipt"),l.a.createElement("p",{className:"p-0 m-0"},"Ochom Richard"),l.a.createElement("p",{className:"p-0 m-0"},(new Date).toLocaleString("en-UK")),l.a.createElement("table",{className:"table table-bordered table-sm"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"#"),l.a.createElement("th",null,"Item"),l.a.createElement("th",null,"Amount"))),l.a.createElement("tbody",null,this.state.cart_items.map((function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("td",null,t+1),l.a.createElement("td",null,e.service_name),l.a.createElement("td",null,e.amount))}))),l.a.createElement("tfoot",null,l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"2"},"Total Amount"),l.a.createElement("th",null,"".concat(this.state.total_bill,".00")))))):l.a.createElement("div",{className:"col-12 mx-auto"},l.a.createElement("table",{className:"table table-sm stripped"},l.a.createElement("tbody",null,a?a.service_requests.map((function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,a+1),l.a.createElement("td",null,t.service_name),l.a.createElement("td",null,t.amount),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox",onClick:function(){return e.onCheckChange(t)}})))})):null)),l.a.createElement("div",null,l.a.createElement("span",null,"Total Payable Amount: "),l.a.createElement("b",null,this.state.total_bill)))),l.a.createElement($.a,null,this.state.receipt?l.a.createElement(ee.a,{type:"submit",color:"success",size:"sm",onClick:this.printReceipt}," ",l.a.createElement("i",{className:"fa fa-print"})," Print"):l.a.createElement(ee.a,{type:"submit",color:"primary",size:"sm",onClick:this.onSavePayment},l.a.createElement("i",{className:"fa fa-check"})," Submit")," ",l.a.createElement(ee.a,{color:"secondary",size:"sm",onClick:this.toggleModal},l.a.createElement("i",{className:"fa fa-close"})," Cancel")));return l.a.createElement("div",{className:"col-md-12 mx-auto mt-3"},r,l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header bg-white py-1 px-3"},l.a.createElement("div",{style:{fontSize:"1vw",width:"300px",float:"left"},className:"py-1 px-2"},l.a.createElement(h.b,{to:"/revenue"},"Revenue")," \xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/revenue/cashpoint"},"Cashpoint")," \xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/revenue/cashpoint/payment-queue"},"Payment Queue"))),l.a.createElement("div",{className:"card-body p-0 pb-2"},l.a.createElement("table",{className:"table table-sm table-striped table-bordered"},l.a.createElement("thead",{className:"custom-text-primary"},l.a.createElement("tr",null,l.a.createElement("th",null,"Patient's Name"),l.a.createElement("th",null,"# Reg."),l.a.createElement("th",null,"Mobile"),l.a.createElement("th",null,"Total Bill"),l.a.createElement("th",{className:"text-center"},"Action"))),l.a.createElement("tbody",null,n)))))}}]),a}(n.Component),ht=Object(d.b)((function(e){return{revenue:e.revenue}}),{loadPaymentQueue:function(){return function(e,t){e({type:y}),g.a.get("".concat("/api/","revenue/payment-queue/"),P(t)).then((function(t){e({type:st,payload:t.data})})).catch((function(t){e({type:_,error:t})})).finally((function(){e({type:S})}))}},savePayment:function(e,t){return function(a,n){a({type:y}),g.a.post("".concat("/api/","revenue/payment-queue/"),JSON.stringify(t),P(n)).then((function(t){a({type:ot,payload:e}),a({type:N,message:"Payment saved succesfully"})})).catch((function(e){a({type:_,error:e})})).finally((function(){a({type:S})}))}}})(dt),Et=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.loadInsurance(),this.props.loadService()}},{key:"render",value:function(){var e=l.a.createElement("div",{className:"list-group"},l.a.createElement(h.b,{to:"/revenue/cashpoint/payment-queue",className:"list-group-item"},l.a.createElement("i",{className:"fa fa-users"})," Clients Queue"),l.a.createElement(h.b,{to:"/revenue/cashpoint/custom-payments",className:"list-group-item"},l.a.createElement("i",{className:"fa fa-credit-card"})," Custom payments"),l.a.createElement(h.b,{to:"/revenue/accounts/invoices",className:"list-group-item"},l.a.createElement("i",{className:"fa fa-list"})," Billing Invoices"),l.a.createElement(h.b,{to:"/revenue/accounts/claims",className:"list-group-item"},l.a.createElement("i",{className:"fa fa-briefcase"})," Claims"));return l.a.createElement(l.a.Fragment,null,l.a.createElement(W,{menus:e}),l.a.createElement("div",{className:"row col-12 mx-auto page-container"},l.a.createElement(E.b,{path:"/revenue",render:function(e){var t=e.match.url;return l.a.createElement(l.a.Fragment,null,l.a.createElement(E.b,{path:"".concat(t),component:ht,exact:!0}),l.a.createElement(E.b,{path:"".concat(t,"/cashpoint"),component:ht,exact:!0}),l.a.createElement(E.b,{path:"".concat(t,"/cashpoint/payment-queue"),component:ht}),l.a.createElement(E.b,{path:"".concat(t,"/cashpoint/custom-payments"),component:ht}))}})))}}]),a}(n.Component),ft=Object(d.b)((function(e){return{}}),{loadService:Be,loadInsurance:Ue})(Et),bt=a(20),gt=a.n(bt),yt="GET_TRIAGE_QUEUE",vt="ADD_VITALS",Nt="GET_APPOINTMENT_QUEUE",_t="GET_OBSERVATIONS",At="ADD_OBSERVATION",St="UPDATE_OBSERVATION",Ot="DELETE_OBSERVATION",wt="GET_INVESTIGATIONS",Ct="ADD_INVESTIGATION",xt="UPDATE_INVESTIGATION",jt="DELETE_INVESTIGATION",kt="GET_PRESCRIPTIONS",Dt="ADD_PRESCRIPTION",Mt="UPDATE_PRESCRIPTION",It="DELETE_PRESCRIPTION",Pt="SAVE_DISCHARGE",Tt=function(e,t){return function(a,n){a({type:y}),g.a.post("".concat("/api/","outpatient/appointments/").concat(e,"/observations/"),JSON.stringify(t),P(n)).then((function(e){a({type:At,payload:e.data})})).catch((function(e){})).finally((function(){return a({type:S})}))}},qt=function(e,t,a){return function(n,l){n({type:y}),g.a.put("".concat("/api/","outpatient/appointments/").concat(e,"/observations/").concat(t),JSON.stringify(a),P(l)).then((function(e){n({type:St,payload:e.data})})).catch((function(e){})).finally((function(){return n({type:S})}))}},Rt=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={showModal:!1,selected_observation:null,complaint:"",period:"",period_units:"",pre_med_note:"",physical_examination_note:""},e.componentDidMount=function(){e.props.getObservations(e.props.health_file.id)},e.onChange=function(t){return e.setState(Object(f.a)({},t.target.name,t.target.value))},e.toggleModal=function(){return e.setState({showModal:!e.state.showModal})},e.onNewObservation=function(){e.setState({showModal:!e.state.showModal,selected_observation:null,complaint:"",period:"",period_units:"",pre_med_note:"",physical_examination_note:""})},e.onEditObservation=function(t){e.setState({showModal:!e.state.showModal,selected_observation:t,complaint:t.complaint,period:t.period,period_units:t.period_units,pre_med_note:t.pre_med_note,physical_examination_note:t.physical_examination_note})},e.onSubmit=function(t){t.preventDefault();var a=e.state,n=a.selected_observation,l=a.complaint,r=a.period,c=a.period_units,s=a.pre_med_note,o=a.physical_examination_note,i={health_file:e.props.health_file.id,complaint:l,period:r,period_units:c,pre_med_note:s,physical_examination_note:o};n?e.props.updateObservation(e.props.health_file.id,n.id,i):e.props.addObservation(e.props.health_file.id,i),e.setState({showModal:!e.state.showModal})},e.onDelete=function(t){e.props.deleteObservation(e.props.health_file.id,t.id)},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props.common.CONSTANTS.TIME_UNITS,a=this.props,n=a.health_file,r=a.observations,c=l.a.createElement(Y.a,{isOpen:this.state.showModal,size:"md"},l.a.createElement(X.a,{toggle:this.toggleModal},this.state.selected_observation?"Edit observation details":"Add observation and examination"),l.a.createElement("form",{onSubmit:this.onSubmit},l.a.createElement(Z.a,null,l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-5"},l.a.createElement("label",null,"Complaint"),l.a.createElement("input",{className:"form-control form-control-sm",name:"complaint",required:!0,value:this.state.complaint,onChange:this.onChange,placeholder:"Complaint..."})),l.a.createElement("div",{className:"form-group col-3"},l.a.createElement("label",null,"Period"),l.a.createElement("input",{className:"form-control form-control-sm",name:"period",required:!0,value:this.state.period,onChange:this.onChange,placeholder:"0"})),l.a.createElement("div",{className:"form-group col-4"},l.a.createElement("label",null,"Units"),l.a.createElement("select",{className:"form-control form-control-sm",name:"period_units",required:!0,value:this.state.period_units,onChange:this.onChange},l.a.createElement("option",{value:""},"Select"),t.map((function(e,t){return l.a.createElement("option",{key:t,value:e},e)})))),l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("label",null,"Pre-medication Note"),l.a.createElement("textarea",{className:"form-control form-control-sm",name:"pre_med_note",value:this.state.pre_med_note,onChange:this.onChange,placeholder:"Pre Meds..."})),l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("label",null,"Physical Examination Note"),l.a.createElement("textarea",{className:"form-control form-control-sm",name:"physical_examination_note",value:this.state.physical_examination_note,onChange:this.onChange,placeholder:"Any physical Examination..."})))),l.a.createElement($.a,null,l.a.createElement(ee.a,{type:"submit",color:"primary",size:"sm",onClick:this.onSubmit},l.a.createElement("i",{className:"fa fa-check"})," Submit"),l.a.createElement(ee.a,{color:"secondary",size:"sm",onClick:this.toggleModal},l.a.createElement("i",{className:"fa fa-close"})," Cancel"))));return l.a.createElement(l.a.Fragment,null,c,l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header custom-bg-secondary py-1 px-3"},l.a.createElement("div",{style:{float:"left"},className:"py-1 px-2"},"Observations \xa0 & \xa0 Pre-medications"),l.a.createElement("button",{style:{float:"right"},className:"btn btn-sm bg-light text-dark py-0 px-2 mr-auto mt-1",onClick:this.onNewObservation},l.a.createElement("i",{className:"fa fa-plus-circle mr-2"})," Add")),l.a.createElement("div",{className:"card-body p-0 mt-0"},l.a.createElement("table",{className:"table table-sm table-bordered m-0"},l.a.createElement("thead",{className:""},l.a.createElement("tr",null,l.a.createElement("th",null,"#"),l.a.createElement("th",null,"Complaint"),l.a.createElement("th",null,"Period"),l.a.createElement("th",null,"Pre-med"),l.a.createElement("th",null,"P.E"),l.a.createElement("th",{className:"text-center"},"Action"))),l.a.createElement("tbody",null,r.map((function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,a+1),l.a.createElement("td",null,t.complaint),l.a.createElement("td",null,t.period," ",t.period_units),l.a.createElement("td",null,t.pre_med_note),l.a.createElement("td",null,t.physical_examination_note),l.a.createElement("td",{className:"text-center"},l.a.createElement("button",{className:"btn btn-sm p-0 border-none text-success",onClick:function(){return e.onEditObservation(t)}},l.a.createElement("i",{className:"fa fa-edit"}))," | ",l.a.createElement("button",{className:"btn btn-sm p-0 border-none text-danger",onClick:function(){return e.onDelete(t)}},l.a.createElement("i",{className:"fa fa-close"}))))})))))),l.a.createElement("div",{className:"card mt-3"},l.a.createElement("div",{className:"card-header custom-bg-secondary py-1 px-3"},l.a.createElement("div",{className:"py-1 px-2"},l.a.createElement("b",null,"Triage Vitals"))),l.a.createElement("div",{className:"card-body p-0"},n.file_vitals.length>0?l.a.createElement("ul",{className:"list-group"},l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Blood Pressure:"),l.a.createElement("span",{style:{float:"right"}},"".concat(n.file_vitals[0].bp_systolic,"/").concat(n.file_vitals[0].bp_diastolic)," bpm")),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Pulse:"),l.a.createElement("span",{style:{float:"right"}},n.file_vitals[0].pulse," bpm")),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Temperature:"),l.a.createElement("span",{style:{float:"right"}},n.file_vitals[0].temperature," ",l.a.createElement("sup",null,"o"),"C")),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Weight:"),l.a.createElement("span",{style:{float:"right"}},n.file_vitals[0].mass," Kgs")),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Height:"),l.a.createElement("span",{style:{float:"right"}},n.file_vitals[0].height," m"))):null)))}}]),a}(n.Component),Lt=Object(d.b)((function(e){return{health_file:e.outpatient.selected_health_file,observations:e.outpatient.observations,common:e.common}}),{getObservations:function(e){return function(t,a){t({type:y}),g.a.get("".concat("/api/","outpatient/appointments/").concat(e,"/observations/"),P(a)).then((function(e){t({type:_t,payload:e.data})})).catch((function(e){})).finally((function(){return t({type:S})}))}},addObservation:Tt,updateObservation:qt,deleteObservation:function(e,t){return function(a,n){a({type:y}),g.a.delete("".concat("/api/","outpatient/appointments/").concat(e,"/observations/").concat(t),P(n)).then((function(e){a({type:Ot,payload:t})})).catch((function(e){})).finally((function(){return a({type:S})}))}}})(Rt),Ut=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={showModal:!1,search_result:[]},e.componentDidMount=function(){e.props.getInvestigations(e.props.health_file.id)},e.onChange=function(t){var a=t.target.value,n=e.props.service_list.filter((function(e){return(3===e.department||4===e.department)&&e.name.toLowerCase().includes(a.toLowerCase())}));n=n.slice(0,10),e.setState({search_result:n})},e.toggleModal=function(){return e.setState({showModal:!e.state.showModal})},e.onNewObservation=function(){e.setState({showModal:!e.state.showModal,search_result:[]})},e.onAddInvestigation=function(t){var a={service:t.id};e.props.addInvestigation(e.props.health_file.id,a),e.setState({showModal:!e.state.showModal})},e.onDeleteInvestigation=function(t){e.props.deleteInvestigation(e.props.health_file.id,t.id)},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props.investigations,a=l.a.createElement(Y.a,{isOpen:this.state.showModal,size:"md"},l.a.createElement(X.a,{toggle:this.toggleModal},"Add investigation requests"),l.a.createElement(Z.a,null,l.a.createElement("div",{className:"form-row"},l.a.createElement("input",{className:"form-control col-12",name:"search_name",onChange:this.onChange,placeholder:"Search..."}),this.state.search_result.length>0?l.a.createElement("table",{className:"table table-sm table-bordered mt-2"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"#"),l.a.createElement("th",null,"Service name"),l.a.createElement("th",null,"Price"),l.a.createElement("th",{className:"text-center"},"Action"))),l.a.createElement("tbody",null,this.state.search_result.map((function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,a+1),l.a.createElement("td",null,t.name),l.a.createElement("td",null,t.price),l.a.createElement("td",{className:"text-center"},l.a.createElement("button",{className:"btn btn-sm p-0 border-none text-primary",onClick:function(){return e.onAddInvestigation(t)}},l.a.createElement("i",{className:"fa fa-plus"})," Add")))})))):null)));return l.a.createElement(l.a.Fragment,null,a,l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header custom-bg-secondary py-1 px-3"},l.a.createElement("div",{style:{fontSize:"1vw",float:"left"},className:"py-1 px-2"},"Laboratory  \xa0 & \xa0 Radiology Requests"),l.a.createElement("button",{style:{float:"right"},className:"btn btn-sm bg-light text-dark py-0 px-2 mr-auto mt-1",onClick:this.onNewObservation},l.a.createElement("i",{className:"fa fa-plus-circle mr-2"})," Add")),l.a.createElement("div",{className:"card-body p-0 mt-0"},l.a.createElement("table",{className:"table table-sm table-bordered m-0"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"#"),l.a.createElement("th",null,"Investigation"),l.a.createElement("th",null,"Status"),l.a.createElement("th",null,"Result"),l.a.createElement("th",{className:"text-center"},"Action"))),l.a.createElement("tbody",null,t.map((function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,a+1),l.a.createElement("td",null,t.service_details.name),l.a.createElement("td",null,t.is_paid&&t.is_served?"Ready":t.is_paid&&!t.is_served?"In progress":"Not paid"),l.a.createElement("td",null,t.description?t.description:"--"),l.a.createElement("td",{className:"text-center"},t.is_paid?l.a.createElement("span",{className:"text-success"},"Already paid"):l.a.createElement("button",{className:"btn btn-sm p-0 border-none text-danger",onClick:function(){return e.onDeleteInvestigation(t)}},l.a.createElement("i",{className:"fa fa-close"})," Remove")))})))))))}}]),a}(n.Component),Bt=Object(d.b)((function(e){return{health_file:e.outpatient.selected_health_file,investigations:e.outpatient.investigations,common:e.common,service_list:e.hospital.service_list}}),{getInvestigations:function(e){return function(t,a){t({type:y}),g.a.get("".concat("/api/","outpatient/appointments/").concat(e,"/investigations/"),P(a)).then((function(e){t({type:wt,payload:e.data})})).catch((function(e){})).finally((function(){return t({type:S})}))}},addInvestigation:function(e,t){return function(a,n){a({type:y}),g.a.post("".concat("/api/","outpatient/appointments/").concat(e,"/investigations/"),JSON.stringify(t),P(n)).then((function(e){a({type:Ct,payload:e.data})})).catch((function(e){})).finally((function(){return a({type:S})}))}},deleteInvestigation:function(e,t){return function(a,n){a({type:y}),g.a.delete("".concat("/api/","outpatient/appointments/").concat(e,"/investigations/").concat(t),P(n)).then((function(e){a({type:jt,payload:t})})).catch((function(e){})).finally((function(){return a({type:S})}))}}})(Ut),Ft=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={showModal:!1,selected_observation:null,complaint:"",period:"",period_units:"",pre_med_note:"",physical_examination_note:""},e.onChange=function(t){return e.setState(Object(f.a)({},t.target.name,t.target.value))},e.toggleModal=function(){return e.setState({showModal:!e.state.showModal})},e.onNewObservation=function(){e.setState({showModal:!e.state.showModal,selected_observation:null,complaint:"",period:"",period_units:"",pre_med_note:"",physical_examination_note:""})},e.onEditObservation=function(t){e.setState({showModal:!e.state.showModal,selected_observation:t,complaint:t.complaint,period:t.period,period_units:t.period_units,pre_med_note:t.pre_med_note,physical_examination_note:t.physical_examination_note})},e.onSubmit=function(t){t.preventDefault();var a=e.state,n=a.selected_observation,l=a.complaint,r=a.period,c=a.period_units,s=a.pre_med_note,o=a.physical_examination_note,i={health_file:e.props.health_file.id,complaint:l,period:r,period_units:c,pre_med_note:s,physical_examination_note:o};n?e.props.updateObservation(n.id,i):e.props.addObservation(i),e.setState({showModal:!e.state.showModal})},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props.common.CONSTANTS.TIME_UNITS,a=this.props.diagnosis,n=l.a.createElement(Y.a,{isOpen:this.state.showModal,size:"md"},l.a.createElement(X.a,{toggle:this.toggleModal},this.state.selected_observation?"Edit observation details":"Add observation and examination"),l.a.createElement("form",{onSubmit:this.onSubmit},l.a.createElement(Z.a,null,l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-5"},l.a.createElement("label",null,"Complaint"),l.a.createElement("input",{className:"form-control form-control-sm",name:"complaint",required:!0,value:this.state.complaint,onChange:this.onChange,placeholder:"Complaint..."})),l.a.createElement("div",{className:"form-group col-3"},l.a.createElement("label",null,"Period"),l.a.createElement("input",{className:"form-control form-control-sm",name:"period",required:!0,value:this.state.period,onChange:this.onChange,placeholder:"0"})),l.a.createElement("div",{className:"form-group col-4"},l.a.createElement("label",null,"Units"),l.a.createElement("select",{className:"form-control form-control-sm",name:"period_units",required:!0,value:this.state.period_units,onChange:this.onChange},l.a.createElement("option",{value:""},"Select"),t.map((function(e,t){return l.a.createElement("option",{key:t,value:e},e)})))),l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("label",null,"Pre-medication Note"),l.a.createElement("textarea",{className:"form-control form-control-sm",name:"pre_med_note",value:this.state.pre_med_note,onChange:this.onChange,placeholder:"Pre Meds..."})),l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("label",null,"Physical Examination Note"),l.a.createElement("textarea",{className:"form-control form-control-sm",name:"physical_examination_note",value:this.state.physical_examination_note,onChange:this.onChange,placeholder:"Any physical Examination..."})))),l.a.createElement($.a,null,l.a.createElement(ee.a,{type:"submit",color:"primary",size:"sm",onClick:this.onSubmit},l.a.createElement("i",{className:"fa fa-check"})," Submit"),l.a.createElement(ee.a,{color:"secondary",size:"sm",onClick:this.toggleModal},l.a.createElement("i",{className:"fa fa-close"})," Cancel"))));return l.a.createElement(l.a.Fragment,null,n,l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header custom-bg-secondary py-1 px-3"},l.a.createElement("div",{style:{fontSize:"1vw",float:"left"},className:"py-1 px-2"},"Disease diagnosis"),l.a.createElement("button",{style:{float:"right"},className:"btn btn-sm bg-light text-dark py-0 px-2 mr-auto mt-1",onClick:this.onNewObservation},l.a.createElement("i",{className:"fa fa-plus-circle mr-2"})," Add")),l.a.createElement("div",{className:"card-body p-0 mt-0"},l.a.createElement("table",{className:"table table-sm table-bordered m-0"},l.a.createElement("thead",{className:""},l.a.createElement("tr",null,l.a.createElement("th",null,"#"),l.a.createElement("th",null,"Diagnosis"),l.a.createElement("th",null,"ICD 10"),l.a.createElement("th",{className:"text-center"},"Action"))),l.a.createElement("tbody",null,a.map((function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,a+1),l.a.createElement("td",null,t.complaint),l.a.createElement("td",null,t.period),l.a.createElement("td",null,t.pre_med_note),l.a.createElement("td",null,t.physical_examination_note),l.a.createElement("td",{className:"text-center"},l.a.createElement("button",{className:"btn btn-sm p-0 border-none text-success",onClick:function(){return e.onEditObservation(t)}},l.a.createElement("i",{className:"fa fa-edit"}))," | ",l.a.createElement("button",{className:"btn btn-sm p-0 border-none text-danger",onClick:function(){return e.onDelete(t)}},l.a.createElement("i",{className:"fa fa-close"}))))})))))))}}]),a}(n.Component),Gt=Object(d.b)((function(e){return{health_file:e.outpatient.selected_health_file,diagnosis:e.outpatient.diagnosis,common:e.common}}),{addObservation:Tt,updateObservation:qt})(Ft),Ht=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={showModal:!1,search_list:[],selected_drug:null,dosage:"",frequency:"",days:"",dos_2_qnty:0,quantity:1},e.componentDidMount=function(){e.props.getPrescriptions(e.props.health_file.id)},e.onSearch=function(t){var a=t.target.value,n=e.props.service_list.filter((function(e){return e.name.toLowerCase().includes(a.toLowerCase())&&5===e.department})).slice(0,15);e.setState({search_list:n})},e.onChange=function(t){return e.setState(Object(f.a)({},t.target.name,t.target.value),(function(){return e.calculateDosage()}))},e.calculateDosage=function(){var t=1;1===parseInt(e.state.dos_2_qnty)&&(t=e.state.dosage*e.state.frequency*e.state.days),e.setState({quantity:t})},e.toggleModal=function(){return e.setState({showModal:!e.state.showModal})},e.onNewPrescription=function(t){e.setState({selected_drug:null,dosage:"",frequency:"",days:"",quantity:1}),e.toggleModal()},e.onSelectDrug=function(t){e.setState({selected_drug:t,dosage:"",frequency:"",days:"",quantity:1})},e.onSubmit=function(t){t.preventDefault();var a=e.state,n=a.selected_drug,l=a.dosage,r=a.frequency,c=a.days,s=a.quantity,o={service:n.id,description:l+"x"+r+"x"+c,quantity:s};e.props.addPrescription(e.props.health_file.id,o),e.toggleModal()},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.state.selected_drug,a=this.props.prescriptions,n=l.a.createElement(Y.a,{isOpen:this.state.showModal,size:"lg"},l.a.createElement(X.a,{toggle:this.toggleModal},l.a.createElement("i",{className:"fa fa-plus-circle"})," Add prescription"),l.a.createElement("form",{onSubmit:this.onSubmit},l.a.createElement(Z.a,null,l.a.createElement("div",{className:"row col-12"},l.a.createElement("div",{className:"col-5"},l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("input",{className:"form-control form-control-sm",onChange:this.onSearch,placeholder:"Search..."})),l.a.createElement("div",{className:"col-12"},l.a.createElement("table",{className:"table table-sm table-bordered"},l.a.createElement("caption",null,"Drugs list"),l.a.createElement("thead",{className:"custom-bg-primary"},l.a.createElement("tr",null,l.a.createElement("td",null,"Drug name"),l.a.createElement("td",null,"Cost"))),l.a.createElement("tbody",null,this.state.search_list.map((function(t,a){return l.a.createElement("tr",{key:a,style:{cursor:"pointer"},onClick:function(){return e.onSelectDrug(t)}},l.a.createElement("td",null,t.name),l.a.createElement("td",null,t.price))})))))),t?l.a.createElement("div",{className:"row col-7"},l.a.createElement("div",{className:"form-group  col-12"},l.a.createElement("label",null,"Drug name"),l.a.createElement("input",{className:"form-control form-control-sm",readOnly:!0,value:t.name})),l.a.createElement("div",{className:"form-group col-6"},l.a.createElement("label",null,"In store"),l.a.createElement("input",{className:"form-control form-control-sm",readOnly:!0,value:t.quantity_in_store})),l.a.createElement("div",{className:"form-group col-6"},l.a.createElement("label",null,"Cost"),l.a.createElement("input",{className:"form-control form-control-sm",readOnly:!0,value:t.price,onChange:this.onChange})),l.a.createElement("div",{className:"form-group col-4"},l.a.createElement("label",null,"Dosage"),l.a.createElement("input",{className:"form-control form-control-sm",name:"dosage",required:!0,value:this.state.dosage,onChange:this.onChange})),l.a.createElement("div",{className:"form-group col-4"},l.a.createElement("label",null,"Frequency"),l.a.createElement("input",{className:"form-control form-control-sm",name:"frequency",required:!0,value:this.state.frequency,onChange:this.onChange})),l.a.createElement("div",{className:"form-group col-4"},l.a.createElement("label",null,"Days"),l.a.createElement("input",{className:"form-control form-control-sm",name:"days",required:!0,value:this.state.days,onChange:this.onChange})),l.a.createElement("div",{className:"form-group col-6"},l.a.createElement("label",null,"Dosage to Quantity ?"),l.a.createElement("select",{className:"form-control form-control-sm",name:"dos_2_qnty",required:!0,value:this.state.dos_2_qnty,onChange:this.onChange},l.a.createElement("option",{value:0},"No"),l.a.createElement("option",{value:1},"Yes"))),l.a.createElement("div",{className:"form-group col-6"},l.a.createElement("label",null,"Prescription Quantity"),l.a.createElement("input",{className:"form-control form-control-sm",name:"quantity",required:!0,value:this.state.quantity,onChange:this.onChange}))):null)),l.a.createElement($.a,null,l.a.createElement(ee.a,{type:"submit",color:"primary",size:"sm",onClick:this.onSubmit},l.a.createElement("i",{className:"fa fa-check"})," Submit"),l.a.createElement(ee.a,{color:"secondary",size:"sm",onClick:this.toggleModal},l.a.createElement("i",{className:"fa fa-close"})," Cancel"))));return l.a.createElement(l.a.Fragment,null,n,l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header custom-bg-secondary py-1 px-3"},l.a.createElement("div",{style:{fontSize:"1vw",float:"left"},className:"py-1 px-2"},"Drug  \xa0 & \xa0 Medicine Prescriptions"),l.a.createElement("button",{style:{float:"right"},className:"btn btn-sm bg-light text-dark py-0 px-2 mr-auto mt-1",onClick:this.onNewPrescription},l.a.createElement("i",{className:"fa fa-plus-circle mr-2"})," Add")),l.a.createElement("div",{className:"card-body p-0 mt-0"},l.a.createElement("table",{className:"table table-sm table-bordered m-0"},l.a.createElement("thead",{className:""},l.a.createElement("tr",null,l.a.createElement("th",null,"#"),l.a.createElement("th",null,"Drug"),l.a.createElement("th",null,"Dosage"),l.a.createElement("th",null,"Status"))),l.a.createElement("tbody",null,a.map((function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("td",null,t+1),l.a.createElement("td",null,e.service_details.name),l.a.createElement("td",null,e.description),l.a.createElement("td",null,e.is_paid&&e.is_served?"Served":e.is_paid&&!e.is_served?"In progress":"Not paid"))})))))))}}]),a}(n.Component),Qt=Object(d.b)((function(e){return{health_file:e.outpatient.selected_health_file,prescriptions:e.outpatient.prescriptions,common:e.common,service_list:e.hospital.service_list}}),{getPrescriptions:function(e){return function(t,a){t({type:y}),g.a.get("".concat("/api/","outpatient/appointments/").concat(e,"/prescriptions/"),P(a)).then((function(e){t({type:kt,payload:e.data})})).catch((function(e){})).finally((function(){return t({type:S})}))}},addPrescription:function(e,t){return function(a,n){a({type:y}),g.a.post("".concat("/api/","outpatient/appointments/").concat(e,"/prescriptions/"),JSON.stringify(t),P(n)).then((function(e){a({type:Dt,payload:e.data})})).catch((function(e){})).finally((function(){return a({type:S})}))}},deletePrescription:function(e,t){return function(a,n){a({type:y}),g.a.delete("".concat("/api/","outpatient/appointments/").concat(e,"/prescriptions/").concat(t),P(n)).then((function(e){a({type:It,payload:t})})).catch((function(e){})).finally((function(){return a({type:S})}))}}})(Ht),Jt=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={discharge_note:""},e.onChange=function(t){return e.setState(Object(f.a)({},t.target.name,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a={discharge_note:e.state.discharge_note};e.props.saveDischarge(e.props.health_file.id,a)},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){console.log(this.props.health_file.discharge_note),this.setState({discharge_note:this.props.health_file.discharge_note})}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"card m-0"},l.a.createElement("div",{className:"card-header custom-bg-secondary py-1 px-3"},l.a.createElement("div",{style:{fontSize:"1vw",float:"left"},className:"py-1 px-2"},"Discharge")),l.a.createElement("div",{className:"card-body p-0 mt-0"},l.a.createElement("form",{onSubmit:this.onSubmit},l.a.createElement("div",{className:"form-row col-12 mx-auto my-3"},l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("label",null,"Discharge Note/Cause"),l.a.createElement("textarea",{type:"text",className:"form-control",name:"discharge_note",required:!0,onChange:this.onChange,value:this.state.discharge_note,placeholder:"Discharge statement..."})),l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("button",{className:"btn btn-primary btn-sm",onSubmit:this.onSubmit},l.a.createElement("i",{className:"fa fa-check"})," Save")))))))}}]),a}(n.Component),zt=Object(d.b)((function(e){return{health_file:e.outpatient.selected_health_file,discharge_note:e.outpatient.discharge_note,common:e.common}}),{saveDischarge:function(e,t){return function(a,n){a({type:y}),g.a.put("".concat("/api/","outpatient/health-files/").concat(e),JSON.stringify(t),P(n)).then((function(e){a({type:N,message:"Discharge note saved succesfully"}),a({type:Pt,payload:t.discharge_note})})).catch((function(e){a({type:_,error:e})})).finally((function(){return a({type:S})}))}}})(Jt),Wt=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.common.CONSTANTS,t=e.GENDERS,a=e.MARITAL_STATUSES,n=this.props.health_file;return n?l.a.createElement("div",{className:"col-12 mx-auto mt-3"},l.a.createElement("div",{className:"card card-header bg-white py-1 px-3"},l.a.createElement("div",{className:"py-1 px-2"},l.a.createElement(h.b,{to:"/"},"Home"),"  \xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/outpatient"},"Outpatient")," \xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/outpatient/appointment-queue"},"Appointment Queue"),"\xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/outpatient/appointments/file/".concat(this.props.match.params.file_id)},n.patient_details.fullname))),l.a.createElement("div",{className:"row col-12 mx-auto mt-2",style:{minHeight:"80vh"}},l.a.createElement("div",{className:"col-3"},l.a.createElement("div",{className:"patient_profile p-0 border border-light rounded "},l.a.createElement("div",{className:"row mx-auto justify-content-center mt-4"},l.a.createElement("img",{src:gt.a,alt:"DP",style:{height:"5vw",width:"5vw",borderRadius:"50%"}}),l.a.createElement("p",{className:"custom-text-primary col-12 text-center text-white mt-2"},"Patient Profile")),l.a.createElement("ul",{className:"w-100 mx-auto list-group mt-2"},l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Name:")," ",l.a.createElement("span",{style:{float:"right"}},n.patient_details.fullname)),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Sex:")," ",l.a.createElement("span",{style:{float:"right"}},t[n.patient_details.sex])),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"DoB:")," ",l.a.createElement("span",{style:{float:"right"}},new Date(n.patient_details.dob).toDateString("en-UK"))),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Marriage:")," ",l.a.createElement("span",{style:{float:"right"}},a[n.patient_details.marital_status])),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Mobile:")," ",l.a.createElement("span",{style:{float:"right"}},n.patient_details.phone)),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Address:")," ",l.a.createElement("span",{style:{float:"right"}},"".concat(n.patient_details.county,", ").concat(n.patient_details.country)))))),l.a.createElement("div",{className:"col-7"},l.a.createElement("div",{style:{maxHeight:"75vh",overflowY:"auto"}},l.a.createElement(E.b,{path:"/outpatient/appointments/file/:file_id",render:function(e){var t=e.match.url;return l.a.createElement(l.a.Fragment,null,l.a.createElement(E.b,{path:"".concat(t),component:Lt,exact:!0}),l.a.createElement(E.b,{path:"".concat(t,"/observations"),component:Lt}),l.a.createElement(E.b,{path:"".concat(t,"/investigations"),component:Bt}),l.a.createElement(E.b,{path:"".concat(t,"/diagnosis"),component:Gt}),l.a.createElement(E.b,{path:"".concat(t,"/prescriptions"),component:Qt}),l.a.createElement(E.b,{path:"".concat(t,"/discharge"),component:zt}),l.a.createElement(E.b,{path:"".concat(t,"/summary"),component:Lt}))}}))),l.a.createElement("div",{className:"col-2"},l.a.createElement("div",{className:"patient_page_tabs"},l.a.createElement("div",{className:"list-group"},l.a.createElement(h.b,{className:"list-group-item",to:"/outpatient/appointments/file/".concat(n.id,"/observations")},"Observations"),l.a.createElement(h.b,{className:"list-group-item",to:"/outpatient/appointments/file/".concat(n.id,"/investigations")},"Investigations"),l.a.createElement(h.b,{className:"list-group-item",to:"/outpatient/appointments/file/".concat(n.id,"/diagnosis")},"Diagnosis"),l.a.createElement(h.b,{className:"list-group-item",to:"/outpatient/appointments/file/".concat(n.id,"/prescriptions")},"Prescriptions"),l.a.createElement(h.b,{className:"list-group-item",to:"/outpatient/appointments/file/".concat(n.id,"/discharge")},"Discharge"),l.a.createElement(h.b,{className:"list-group-item",to:"/outpatient/appointments/file/".concat(n.id,"/summary")},"Summary (Rx)")))))):l.a.createElement(E.a,{to:"/outpatient/appointment-queue"})}}]),a}(n.Component),Vt=Object(d.b)((function(e){return{health_file:e.outpatient.selected_health_file,common:e.common}}))(Wt),Kt=a(25),Yt=a(53),Xt=a(54),Zt=a(1),$t={isProcessing:!1,CONSTANTS:{DEPARTMENTS:["Records","Revenue","Outpatient","Laboratory","Radiology","Pharmacy","Inpatient","General"],TREATMENT_SCHEMES:["Cash","Corporate"],GENDERS:["Female","Male","Inter-sex"],ID_TYPES:["Birth Certificate","National ID","Alien ID","Military ID","Passport"],MARITAL_STATUSES:["Child","Single ","Married ","Separated "," Divorced "],KIN_RELATIONSHIPS:["Father","Mother","Brother","Sister","Husband","Wife","Guardian"],TIME_UNITS:["Minutes","Hours","Days","Weeks","Months","Years"]}},ea={token:localStorage.getItem("token"),isAuthenticated:null,isLoading:!1,user:null},ta={patients_list:[],patient_insurance_list:[],patient_health_files:[]},aa={hospital_profile:null,supplier_list:[],insurance_list:[],service_list:[],users_list:[]},na={triage_queue:[],appointment_queue:[],selected_health_file:null,observations:[],investigations:[],diagnosis:[],prescriptions:[]},la={payment_queue:[]},ra="GET_LAB_SAMPLING_QUEUE",ca="GET_LAB_RESULTS_QUEUE",sa="ADD_LAB_RESULT",oa="GET_LAB_VERIFICATION_QUEUE",ia="ADD_LAB_VERIFICATION",ma="GET_LAB_LOGBOOKS",ua={sampling_queue:[],results_queue:[],verification_queue:[],logbooks:[],selected_logbook:null},pa="GET_RAD_SAMPLING_QUEUE",da="GET_RAD_RESULTS_QUEUE",ha="ADD_RAD_RESULT",Ea="GET_RAD_LOGBOOKS",fa={sampling_queue:[],results_queue:[],logbooks:[],selected_logbook:null},ba="GET_PHARM_QUEUE",ga="GET_PATIENT_REQUESTS",ya="ADD_DRUG_DISPENSE",va="GET_PHARM_REORDER_HISTORY",Na="ADD_PHARM_REORDER",_a=function(e){return function(t,a){t({type:y}),g.a.post("".concat("/api/","pharmacy/reorders/"),JSON.stringify(e),P(a)).then((function(e){Be(),Aa(),t({type:Na,payload:e.data}),t({type:N,message:"Reorder saved succesfully"})})).catch((function(e){t({type:_,error:e})})).finally((function(){return t({type:S})}))}},Aa=function(){return function(e,t){e({type:v}),g.a.get("".concat("/api/","pharmacy/reorders/"),P(t)).then((function(t){e({type:va,payload:t.data})})).catch((function(e){})).finally((function(){return e({type:S})}))}},Sa={service_queue:[],patient_requests:[],pharm_selected_queue:null,reorder_history:[]},Oa="GET_INTERVENTIONS",wa="ADD_INTERVENTION",Ca="UPDATE_INTERVENTION",xa="DELETE_INTERVENTION",ja="GET_REVIEWS",ka="ADD_REVIEW",Da="UPDATE_REVIEW",Ma="DELETE_REVIEW",Ia="GET_IPD_INVESTIGATIONS",Pa="ADD_IPD_INVESTIGATION",Ta="DELETE_IPD_INVESTIGATION",qa="GET_IPD_PRESCRIPTIONS",Ra="ADD_IPD_PRESCRIPTION",La="DELETE_IPD_PRESCRIPTION",Ua="GET_CHARGEABLES",Ba="ADD_CHARGEABLE",Fa="DELETE_CHARGEABLE",Ga="GET_WARDS",Ha="ADD_WARD",Qa="UPDATE_WARD",Ja="DELETE_WARD",za="GET_ADMITED_PATIENT",Wa="ADMIT_PATIENT",Va=function(){return function(e,t){g.a.get("".concat("/api/","inpatient/wards/"),P(t)).then((function(t){e({type:Ga,payload:t.data})})).catch((function(e){})).finally((function(){e({type:S})}))}},Ka=function(e){return function(t,a){t({type:y}),g.a.post("".concat("/api/","inpatient/wards/"),JSON.stringify(e),P(a)).then((function(e){t({type:Ha,payload:e.data}),t({type:N,message:"Ward details saved succesfully"})})).catch((function(e){t({type:_,error:e})})).finally((function(){t({type:S})}))}},Ya=function(e,t){return function(a,n){a({type:y}),g.a.put("".concat("/api/","inpatient/wards/").concat(e),JSON.stringify(t),P(n)).then((function(e){a({type:Qa,payload:e.data}),a({type:N,message:"Ward details updated succesfully"})})).catch((function(e){a({type:_,error:e})})).finally((function(){a({type:S})}))}},Xa={ward_list:[],selected_patient:null,inpatient_files:[],selected_health_file:null,interventions:[],reviews:[],investigations:[],prescriptions:[],chargeables:[]},Za="GET_PAYMENT_QUEUE",$a="ADD_STORE",en="UPDATE_STORE",tn="DELETE_STORE",an={stores:[],store:null},nn=Object(Kt.combineReducers)({common:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(Zt.a)(Object(Zt.a)({},e),{},{isProcessing:!0,isSuccessful:!1,isError:!1,error:null,message:null});case v:return Object(Zt.a)(Object(Zt.a)({},e),{},{silent_processing:!0});case N:return Object(Zt.a)(Object(Zt.a)({},e),{},{isProcessing:!1,isSuccessful:!0,isError:!1,error:null,message:t.message});case _:return Object(Zt.a)(Object(Zt.a)({},e),{},{isProcessing:!1,isSuccessful:!1,isError:!0,message:null,error:t.error});case A:return Object(Zt.a)(Object(Zt.a)({},e),{},{isProcessing:!1,dashboard_data:t.payload});case S:return Object(Zt.a)(Object(Zt.a)({},e),{},{isProcessing:!1,silent_processing:!1});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ea,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(Zt.a)(Object(Zt.a)({},e),{},{isLoading:!0});case O:return Object(Zt.a)(Object(Zt.a)({},e),{},{isAuthenticated:!0,isLoading:!1,user:t.payload});case x:case D:return localStorage.setItem("token",t.payload.token),Object(Zt.a)(Object(Zt.a)(Object(Zt.a)({},e),t.payload),{},{isAuthenticated:!0,isLoading:!1});case C:case j:case k:case M:return localStorage.removeItem("token"),Object(Zt.a)(Object(Zt.a)({},e),{},{token:null,user:null,isAuthenticated:!1,isLoading:!1});default:return e}},patients:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ta,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te:return Object(Zt.a)(Object(Zt.a)({},e),{},{patients_list:t.payload});case ne:case le:return Object(Zt.a)(Object(Zt.a)({},e),{},{patients_list:[t.payload]});case ae:return Object(Zt.a)(Object(Zt.a)({},e),{},{patients_list:e.patients_list.filter((function(e){return e.id!==t.payload}))});case re:return Object(Zt.a)(Object(Zt.a)({},e),{},{patient_insurance_list:t.payload});case se:return Object(Zt.a)(Object(Zt.a)({},e),{},{patient_insurance_list:[].concat(Object(ct.a)(e.patient_insurance_list),[t.payload])});case oe:return Object(Zt.a)(Object(Zt.a)({},e),{},{patient_insurance_list:[].concat(Object(ct.a)(e.patient_insurance_list.filter((function(e){return e.id!==t.payload.id}))),[t.payload])});case ce:return Object(Zt.a)(Object(Zt.a)({},e),{},{patient_insurance_list:e.patient_insurance_list.filter((function(e){return e.id!==t.payload}))});case ie:return Object(Zt.a)(Object(Zt.a)({},e),{},{patient_health_files:t.payload});case me:return Object(Zt.a)(Object(Zt.a)({},e),{},{patient_health_files:[].concat(Object(ct.a)(e.patient_health_files.filter((function(e){return e.id!==t.payload.id}))),[t.payload])});default:return e}},hospital:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _e:return Object(Zt.a)(Object(Zt.a)({},e),{},{hospital_profile:t.payload[0]});case Ae:case Se:return Object(Zt.a)(Object(Zt.a)({},e),{},{hospital_profile:t.payload});case Ie:return Object(Zt.a)(Object(Zt.a)({},e),{},{supplier_list:t.payload});case Te:return Object(Zt.a)(Object(Zt.a)({},e),{},{supplier_list:[].concat(Object(ct.a)(e.supplier_list),[t.payload])});case qe:return Object(Zt.a)(Object(Zt.a)({},e),{},{supplier_list:[t.payload]});case Pe:return Object(Zt.a)(Object(Zt.a)({},e),{},{supplier_list:e.supplier_list.filter((function(e){return e.id!==t.payload}))});case Oe:return Object(Zt.a)(Object(Zt.a)({},e),{},{insurance_list:t.payload});case Ce:return Object(Zt.a)(Object(Zt.a)({},e),{},{insurance_list:[].concat(Object(ct.a)(e.insurance_list),[t.payload])});case xe:return Object(Zt.a)(Object(Zt.a)({},e),{},{insurance_list:[t.payload]});case we:return Object(Zt.a)(Object(Zt.a)({},e),{},{insurance_list:e.insurance_list.filter((function(e){return e.id!==t.payload}))});case je:return Object(Zt.a)(Object(Zt.a)({},e),{},{service_list:t.payload});case De:return Object(Zt.a)(Object(Zt.a)({},e),{},{service_list:[].concat(Object(ct.a)(e.service_list),[t.payload])});case Me:return Object(Zt.a)(Object(Zt.a)({},e),{},{service_list:[t.payload]});case ke:return Object(Zt.a)(Object(Zt.a)({},e),{},{service_list:e.service_list.filter((function(e){return e.id!==t.payload}))});case Re:return Object(Zt.a)(Object(Zt.a)({},e),{},{users_list:t.payload});default:return e}},outpatient:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:na,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case yt:return Object(Zt.a)(Object(Zt.a)({},e),{},{triage_queue:t.payload});case vt:return Object(Zt.a)(Object(Zt.a)({},e),{},{triage_queue:e.triage_queue.filter((function(e){return e.id!==t.payload}))});case Nt:return Object(Zt.a)(Object(Zt.a)({},e),{},{appointment_queue:t.payload});case"SELECT_HEALTH_FILE":return Object(Zt.a)(Object(Zt.a)({},e),{},{selected_health_file:t.payload});case _t:return Object(Zt.a)(Object(Zt.a)({},e),{},{observations:t.payload});case At:return Object(Zt.a)(Object(Zt.a)({},e),{},{observations:[].concat(Object(ct.a)(e.observations),[t.payload])});case St:return Object(Zt.a)(Object(Zt.a)({},e),{},{observations:[].concat(Object(ct.a)(e.observations.filter((function(e){return e.id!==t.payload.id}))),[t.payload])});case Ot:return Object(Zt.a)(Object(Zt.a)({},e),{},{observations:e.observations.filter((function(e){return e.id!==t.payload}))});case wt:return Object(Zt.a)(Object(Zt.a)({},e),{},{investigations:t.payload});case Ct:return Object(Zt.a)(Object(Zt.a)({},e),{},{investigations:[].concat(Object(ct.a)(e.investigations),[t.payload])});case xt:return Object(Zt.a)(Object(Zt.a)({},e),{},{investigations:[].concat(Object(ct.a)(e.investigations.filter((function(e){return e.id!==t.payload.id}))),[t.payload])});case jt:return Object(Zt.a)(Object(Zt.a)({},e),{},{investigations:e.investigations.filter((function(e){return e.id!==t.payload}))});case kt:return Object(Zt.a)(Object(Zt.a)({},e),{},{prescriptions:t.payload});case Dt:return Object(Zt.a)(Object(Zt.a)({},e),{},{prescriptions:[].concat(Object(ct.a)(e.prescriptions),[t.payload])});case Mt:return Object(Zt.a)(Object(Zt.a)({},e),{},{prescriptions:[].concat(Object(ct.a)(e.prescriptions.filter((function(e){return e.id!==t.payload.id}))),[t.payload])});case It:return Object(Zt.a)(Object(Zt.a)({},e),{},{prescriptions:e.prescriptions.filter((function(e){return e.id!==t.payload}))});case Pt:return Object(Zt.a)({},e);default:return e}},revenue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:la,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case st:return Object(Zt.a)(Object(Zt.a)({},e),{},{payment_queue:t.payload});case ot:return Object(Zt.a)(Object(Zt.a)({},e),{},{payment_queue:e.payment_queue.filter((function(e){return e.patient.id!==t.payload}))});default:return e}},laboratory:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ua,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ra:return Object(Zt.a)(Object(Zt.a)({},e),{},{sampling_queue:t.payload});case ca:return Object(Zt.a)(Object(Zt.a)({},e),{},{results_queue:t.payload});case sa:return Object(Zt.a)(Object(Zt.a)({},e),{},{results_queue:e.results_queue.filter((function(e){return e.id!==t.payload.id}))});case oa:return Object(Zt.a)(Object(Zt.a)({},e),{},{verification_queue:t.payload});case ia:return Object(Zt.a)(Object(Zt.a)({},e),{},{verification_queue:e.verification_queue.filter((function(e){return e.id!==t.payload.id}))});case ma:return Object(Zt.a)(Object(Zt.a)({},e),{},{logbooks:t.payload});case"SELECT_LOGBOOK":return Object(Zt.a)(Object(Zt.a)({},e),{},{selected_logbook:t.payload});default:return e}},radiology:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pa:return Object(Zt.a)(Object(Zt.a)({},e),{},{sampling_queue:t.payload});case da:return Object(Zt.a)(Object(Zt.a)({},e),{},{results_queue:t.payload});case ha:return Object(Zt.a)(Object(Zt.a)({},e),{},{results_queue:e.results_queue.filter((function(e){return e.id!==t.payload.id}))});case Ea:return Object(Zt.a)(Object(Zt.a)({},e),{},{logbooks:t.payload});case"SELECT_RAD_LOGBOOK":return Object(Zt.a)(Object(Zt.a)({},e),{},{selected_logbook:t.payload});default:return e}},pharmacy:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ba:return Object(Zt.a)(Object(Zt.a)({},e),{},{service_queue:t.payload});case"PHARMACY_SELECT_QUEUE":return Object(Zt.a)(Object(Zt.a)({},e),{},{pharm_selected_queue:t.payload});case ga:return Object(Zt.a)(Object(Zt.a)({},e),{},{patient_requests:t.payload});case ya:return Object(Zt.a)(Object(Zt.a)({},e),{},{patient_requests:Object(ct.a)(e.patient_requests.filter((function(e){return e.id!==t.payload.id})))});case va:return Object(Zt.a)(Object(Zt.a)({},e),{},{reorder_history:t.payload});default:return Object(Zt.a)({},e)}},inpatient:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_PATIENT_TO_ADMIT":return Object(Zt.a)(Object(Zt.a)({},e),{},{selected_patient:t.payload});case za:return Object(Zt.a)(Object(Zt.a)({},e),{},{inpatient_files:t.payload});case"SELECT_INPATIENT_FILE":return Object(Zt.a)(Object(Zt.a)({},e),{},{selected_health_file:t.payload});case Oa:return Object(Zt.a)(Object(Zt.a)({},e),{},{interventions:t.payload});case wa:return Object(Zt.a)(Object(Zt.a)({},e),{},{interventions:[].concat(Object(ct.a)(e.interventions),[t.payload])});case Ca:return Object(Zt.a)(Object(Zt.a)({},e),{},{interventions:[].concat(Object(ct.a)(e.interventions.filter((function(e){return e.id!==t.payload.id}))),[t.payload])});case xa:return Object(Zt.a)(Object(Zt.a)({},e),{},{interventions:e.interventions.filter((function(e){return e.id!==t.payload}))});case ja:return Object(Zt.a)(Object(Zt.a)({},e),{},{reviews:t.payload});case ka:return Object(Zt.a)(Object(Zt.a)({},e),{},{reviews:[].concat(Object(ct.a)(e.reviews),[t.payload])});case Da:return Object(Zt.a)(Object(Zt.a)({},e),{},{reviews:[].concat(Object(ct.a)(e.reviews.filter((function(e){return e.id!==t.payload.id}))),[t.payload])});case Ma:return Object(Zt.a)(Object(Zt.a)({},e),{},{reviews:e.reviews.filter((function(e){return e.id!==t.payload}))});case Ia:return Object(Zt.a)(Object(Zt.a)({},e),{},{investigations:t.payload});case Pa:return Object(Zt.a)(Object(Zt.a)({},e),{},{investigations:[].concat(Object(ct.a)(e.investigations),[t.payload])});case Ta:return Object(Zt.a)(Object(Zt.a)({},e),{},{investigations:e.investigations.filter((function(e){return e.id!==t.payload}))});case qa:return Object(Zt.a)(Object(Zt.a)({},e),{},{prescriptions:t.payload});case Ra:return Object(Zt.a)(Object(Zt.a)({},e),{},{prescriptions:[].concat(Object(ct.a)(e.prescriptions),[t.payload])});case La:return Object(Zt.a)(Object(Zt.a)({},e),{},{prescriptions:e.prescriptions.filter((function(e){return e.id!==t.payload}))});case Ua:return Object(Zt.a)(Object(Zt.a)({},e),{},{chargeables:t.payload});case Ba:return Object(Zt.a)(Object(Zt.a)({},e),{},{chargeables:[].concat(Object(ct.a)(e.chargeables),[t.payload])});case Fa:return Object(Zt.a)(Object(Zt.a)({},e),{},{chargeables:e.chargeables.filter((function(e){return e.id!==t.payload}))});case Ga:return Object(Zt.a)(Object(Zt.a)({},e),{},{ward_list:t.payload});case Ha:return Object(Zt.a)(Object(Zt.a)({},e),{},{ward_list:[].concat(Object(ct.a)(e.ward_list),[t.payload])});case Qa:return Object(Zt.a)(Object(Zt.a)({},e),{},{ward_list:[].concat(Object(ct.a)(e.ward_list.filter((function(e){return e.id!==t.payload.id}))),[t.payload])});case Ja:return Object(Zt.a)(Object(Zt.a)({},e),{},{ward_list:e.ward_list.filter((function(e){return e.id!==t.payload}))});default:return e}},procurement:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Za:return Object(Zt.a)(Object(Zt.a)({},e),{},{stores:t.payload});case $a:case en:return Object(Zt.a)(Object(Zt.a)({},e),{},{stores:[].concat(Object(ct.a)(e.stores.filter((function(e){return e.id!==t.payload.id}))),[t.payload])});case tn:return Object(Zt.a)(Object(Zt.a)({},e),{},{stores:e.stores.filter((function(e){return e.id!==t.payload}))});default:return e}}}),ln=[Xt.a],rn=Object(Kt.createStore)(nn,{},Object(Yt.composeWithDevTools)(Kt.applyMiddleware.apply(void 0,ln))),cn=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).selectHealthFile=function(t){rn.dispatch({type:"SELECT_HEALTH_FILE",payload:t}),e.props.history.push("/outpatient/appointments/file/".concat(t.id))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.loadAppointmentQueue()}},{key:"render",value:function(){var e=this,t=this.props.outpatient.appointment_queue.map((function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,t.patient_details.fullname),l.a.createElement("td",null,t.patient_details.id),l.a.createElement("td",null,t.patient_details.phone),l.a.createElement("td",null,new Date(t.created_at).toLocaleString("en-UK")),l.a.createElement("td",null,t.is_discharged?"YES":"NO"),l.a.createElement("td",{className:"text-center"},l.a.createElement("button",{onClick:function(){return e.selectHealthFile(t)},className:"btn btn-sm p-0 border-none text-success"},l.a.createElement("i",{className:"fa fa-edit"})," Open File")," | ",l.a.createElement("button",{onClick:function(){return e.selectHealthFile(t)},className:"btn btn-sm p-0 border-none text-danger"},l.a.createElement("i",{className:"fa fa-close"})," Close File")))}));return l.a.createElement("div",{className:"col-md-12 mx-auto mt-3"},l.a.createElement("div",{className:"card card-header bg-white py-1 px-3"},l.a.createElement("div",{className:"py-1 px-2"},l.a.createElement(h.b,{to:"/"},"Home"),"  \xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/outpatient"},"Outpatient")," \xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/outpatient/appointment-queue"},"Appointment Queue"))),l.a.createElement("div",{className:"card mt-3"},l.a.createElement("div",{className:"card-body p-0 pb-2"},l.a.createElement("table",{className:"table table-sm table-striped table-bordered"},l.a.createElement("thead",{className:"custom-text-primary"},l.a.createElement("tr",null,l.a.createElement("th",null,"Patient's Name"),l.a.createElement("th",null,"# Reg."),l.a.createElement("th",null,"Mobile"),l.a.createElement("th",null,"Queued at"),l.a.createElement("th",null,"Discharged"),l.a.createElement("th",{className:"text-center"},"Action"))),l.a.createElement("tbody",null,t)))))}}]),a}(n.Component),sn=Object(d.b)((function(e){return{outpatient:e.outpatient}}),{loadAppointmentQueue:function(){return function(e,t){e({type:y}),g.a.get("".concat("/api/","outpatient/appointments/queue/"),P(t)).then((function(t){e({type:Nt,payload:t.data})})).catch((function(e){})).finally((function(){return e({type:S})}))}}})(cn),on=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={showModal:!1,selected_queue_data:null,patient:null,health_file:null,bp_systolic:"",bp_diastolic:"",hypertensive:"",pulse:"",mass:"",height:"",bmi:"",bmi_index:"",temperature:"",triage_note:""},e.toggleModal=function(){return e.setState({showModal:!e.state.showModal})},e.onEditVitals=function(t){return e.setState({showModal:!0,hypertension:"secondary",bmi:"secondary",selected_queue_data:t,patient:t.patient_details.id,health_file:t.id,bp_systolic:"",bp_diastolic:"",pulse:"",mass:"",height:"",temperature:"",triage_note:""})},e.onChange=function(t){return e.setState(Object(f.a)({},t.target.name,t.target.value),(function(){return e.calcBMI_HP()}))},e.calcBMI_HP=function(){var t=e.state,a=t.mass,n=t.height,l=t.bp_systolic,r=t.bp_diastolic,c=null;c=l>=100&&l<130&&r>=60&&r<85?"success":l>=130&&l<140&&r>=85&&r<90?"info":l>=140&&l<150&&r>=90&&r<100?"primary":l>=150&&l<160&&r>=100&&r<110?"warning":"danger";var s=(1*a/(n*n)).toFixed(2),o=null;o=s<18.5?"warning":s>=18.5&&s<25?"success":s>=25&&s<30?"warning":"danger",e.setState({hypertension:c,bmi:o})},e.onSubmitVitals=function(t){t.preventDefault();var a=e.state,n={patient:a.patient,health_file:a.health_file,bp_systolic:a.bp_systolic,bp_diastolic:a.bp_diastolic,pulse:a.pulse,mass:a.mass,height:a.height,temperature:a.temperature,triage_note:a.triage_note};e.props.addVitals(n),e.setState({showModal:!e.state.showModal})},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.loadTriageQueue()}},{key:"render",value:function(){var e=this,t=this.props.outpatient.triage_queue.map((function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,t.patient_details.fullname),l.a.createElement("td",null,t.patient_details.id),l.a.createElement("td",null,t.patient_details.phone),l.a.createElement("td",null,new Date(t.created_at).toLocaleString("en-UK")),l.a.createElement("td",null,"In line"),l.a.createElement("td",{className:"text-center"},l.a.createElement("button",{className:"btn btn-sm p-0 border-none text-success",onClick:function(){return e.onEditVitals(t)}},l.a.createElement("i",{className:"fa fa-edit"})," Edit")))})),a=l.a.createElement(Y.a,{isOpen:this.state.showModal,size:"lg"},l.a.createElement(X.a,{toggle:this.toggleModal},"Create patient vitals"),l.a.createElement("form",{onSubmit:this.onSubmitVitals},l.a.createElement(Z.a,null,l.a.createElement("div",{className:"custom-bg-primary py-1 px-3 my-2 rounded"},"Hypertension Screening/Blood Pressure"),l.a.createElement("div",{className:"row col-12 mx-auto"},l.a.createElement("div",{className:"form-group col-3"},l.a.createElement("label",null,"BP Systolic"),l.a.createElement("input",{className:"form-control form-control-sm",name:"bp_systolic",onChange:this.onChange,value:this.state.bp_systolic,placeholder:"100-130"})),l.a.createElement("div",{className:"form-group col-3"},l.a.createElement("label",null,"BP Diastolic"),l.a.createElement("input",{className:"form-control form-control-sm",name:"bp_diastolic",onChange:this.onChange,value:this.state.bp_diastolic,placeholder:"60-85"})),l.a.createElement("div",{className:"form-group col-3"},l.a.createElement("label",null,"Pulse (Heart Rate)"),l.a.createElement("input",{className:"form-control form-control-sm",name:"pulse",onChange:this.onChange,value:this.state.pulse,placeholder:"60-77"})),l.a.createElement("div",{className:"form-group col-3 mx-auto"},l.a.createElement("label",null,"Hypertension Meter"),l.a.createElement("div",{className:"form-control form-control-sm bg-".concat(this.state.hypertension)}))),l.a.createElement("div",{className:"custom-bg-primary py-1 px-3 my-2 rounded"},"Physical Vitals"),l.a.createElement("div",{className:"row col-12 mx-auto"},l.a.createElement("div",{className:"form-group col-3"},l.a.createElement("label",null,"Temperature ",l.a.createElement("small",null,"(",l.a.createElement("sup",null,"o"),"C)")),l.a.createElement("input",{className:"form-control form-control-sm",required:!0,name:"temperature",onChange:this.onChange,value:this.state.temperature,placeholder:"0.0"})),l.a.createElement("div",{className:"form-group col-3"},l.a.createElement("label",null,"Mass ",l.a.createElement("small",null,"(Kg)")," "),l.a.createElement("input",{className:"form-control form-control-sm",name:"mass",onChange:this.onChange,value:this.state.mass,placeholder:"0.0"})),l.a.createElement("div",{className:"form-group col-3"},l.a.createElement("label",null,"Height (m)"),l.a.createElement("input",{className:"form-control form-control-sm",name:"height",onChange:this.onChange,value:this.state.height,placeholder:"0.0"})),l.a.createElement("div",{className:"form-group col-3 mx-auto"},l.a.createElement("label",null,"BMI Meter"),l.a.createElement("div",{className:"form-control form-control-sm bg-".concat(this.state.bmi)}))),l.a.createElement("div",{className:"custom-bg-primary py-1 px-3 my-2 rounded"},"Nursing/Vitals Notes"),l.a.createElement("div",{className:"row col-12 mx-auto"},l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("label",null,"Nursing notes"),l.a.createElement("textarea",{className:"form-control form-control-sm",name:"triage_note",onChange:this.onChange,value:this.state.triage_note,placeholder:"Other nusing observations..."})))),l.a.createElement($.a,null,l.a.createElement(ee.a,{type:"submit",color:"primary",size:"sm",onSubmit:this.onSubmitVitals},l.a.createElement("i",{className:"fa fa-check"})," Save")," ",l.a.createElement(ee.a,{color:"secondary",size:"sm",onClick:this.toggleModal},l.a.createElement("i",{className:"fa fa-close"})," Cancel"))));return l.a.createElement("div",{className:"col-md-12 mx-auto mt-3"},a,l.a.createElement("div",{className:"card card-header bg-white py-1 px-3"},l.a.createElement("div",{className:"py-1 px-2"},l.a.createElement(h.b,{to:"/"},"Home"),"  \xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/outpatient"},"Outpatient")," \xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/outpatient/triage"},"Triage Queue"))),l.a.createElement("div",{className:"card mt-3"},l.a.createElement("div",{className:"card-body p-0 pb-2"},l.a.createElement("table",{className:"table table-sm table-striped table-bordered"},l.a.createElement("thead",{className:"custom-text-primary"},l.a.createElement("tr",null,l.a.createElement("th",null,"Patient's Name"),l.a.createElement("th",null,"# Reg."),l.a.createElement("th",null,"Mobile"),l.a.createElement("th",null,"Queued at"),l.a.createElement("th",null,"Status"),l.a.createElement("th",{className:"text-center"},"Action"))),l.a.createElement("tbody",null,t)))))}}]),a}(n.Component),mn=Object(d.b)((function(e){return{outpatient:e.outpatient}}),{loadTriageQueue:function(){return function(e,t){e({type:y}),g.a.get("".concat("/api/","outpatient/triage/queues/"),P(t)).then((function(t){e({type:yt,payload:t.data})})).catch((function(e){})).finally((function(){return e({type:S})}))}},addVitals:function(e){return function(t,a){t({type:y}),g.a.post("".concat("/api/","outpatient/triage/vitals/"),JSON.stringify(e),P(a)).then((function(a){console.log(e),t({type:vt,payload:e.health_file}),t({type:N,message:"Vitals saved succesfully"})})).catch((function(e){t({type:_,error:e})})).finally((function(){t({type:S})}))}}})(on),un=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.loadService()}},{key:"render",value:function(){var e=l.a.createElement("div",{className:"list-group"},l.a.createElement(h.b,{to:"/outpatient/triage",className:"list-group-item"},l.a.createElement("i",{className:"fa fa-thermometer-half"})," Triage"),l.a.createElement(h.b,{to:"/outpatient/appointment-queue",className:"list-group-item"},l.a.createElement("i",{className:"fa fa-user-md"})," Appointments"));return l.a.createElement(l.a.Fragment,null,l.a.createElement(W,{menus:e}),l.a.createElement("div",{className:"row col-12 mx-auto page-container"},l.a.createElement(E.b,{path:"/outpatient",render:function(e){var t=e.match.url;return l.a.createElement(l.a.Fragment,null,l.a.createElement(E.b,{path:"".concat(t),component:mn,exact:!0}),l.a.createElement(E.b,{path:"".concat(t,"/triage"),component:mn}),l.a.createElement(E.b,{path:"".concat(t,"/appointment-queue"),component:sn}),l.a.createElement(E.b,{path:"".concat(t,"/appointments/file/:file_id"),component:Vt}))}})))}}]),a}(n.Component),pn=Object(d.b)((function(e){return{}}),{loadService:Be})(un),dn=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={service_search_name:"",showModal:!1,select_service:null,name:"",department:5,quantity_in_store:"",reorder_level:"",description:"",price:"",rebate:"",is_insured:!0},e.onChange=function(t){return e.setState(Object(f.a)({},t.target.name,t.target.value))},e.toggleCheck=function(t){e.setState(Object(f.a)({},t.target.name,t.target.checked?1:0))},e.toggleModal=function(){return e.setState({showModal:!e.state.showModal})},e.onNewService=function(){e.setState({showModal:!e.state.showModal,select_service:null,name:"",quantity_in_store:"",reorder_level:"",description:"",price:"",rebate:"",is_insured:!0})},e.onEditService=function(t){e.setState({showModal:!e.state.showModal,select_service:t,name:t.name,quantity_in_store:t.quantity_in_store,reorder_level:t.reorder_level,description:t.description,price:t.price,rebate:t.rebate,is_insured:t.is_insured})},e.onSubmitService=function(t){t.preventDefault();var a=e.state,n=a.select_service,l={name:a.name,department:a.department,quantity_in_store:a.quantity_in_store,reorder_level:a.reorder_level,description:a.description,price:a.price,rebate:a.rebate,is_insured:a.is_insured};n?e.props.updateService(n.id,l):e.props.addService(l),e.setState({showModal:!e.state.showModal})},e.onsearchService=function(){var t={name:e.state.service_search_name,department:e.state.department};e.props.searchService(t)},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.loadService()}},{key:"render",value:function(){var e=this,t=this.props.hospital.service_list,a=l.a.createElement(Y.a,{isOpen:this.state.showModal,size:"md"},l.a.createElement(X.a,{toggle:this.toggleModal},this.state.select_service?l.a.createElement("span",null,l.a.createElement("i",{className:"fa fa-edit"})," Edit Drug Details"):l.a.createElement("span",null,l.a.createElement("i",{className:"fa fa-plus-circle"})," Add Drug")),l.a.createElement("form",{onSubmit:this.onSubmitService},l.a.createElement(Z.a,null,l.a.createElement("div",{className:"row mx-auto"},l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("label",null,"Drug Name",l.a.createElement("sup",null,"*")),l.a.createElement("input",{className:"form-control form-control-sm",name:"name",onChange:this.onChange,value:this.state.name,required:!0,placeholder:"Drug name"})),l.a.createElement("div",{className:"form-group col-6"},l.a.createElement("label",null,"Quantity in store ",l.a.createElement("sup",null,"*")),l.a.createElement("input",{className:"form-control form-control-sm",name:"quantity_in_store",required:!0,value:this.state.quantity_in_store,placeholder:"0",onChange:this.onChange})),l.a.createElement("div",{className:"form-group col-6"},l.a.createElement("label",null,"Re-order Level ",l.a.createElement("sup",null,"*")),l.a.createElement("input",{className:"form-control form-control-sm",name:"reorder_level",required:!0,value:this.state.reorder_level,placeholder:"0",onChange:this.onChange})),l.a.createElement("div",{className:"form-group col-6"},l.a.createElement("label",null,"Price",l.a.createElement("sup",null,"*")),l.a.createElement("input",{className:"form-control form-control-sm",name:"price",onChange:this.onChange,value:this.state.price,required:!0,placeholder:"Service price"})),l.a.createElement("div",{className:"form-group col-6"},l.a.createElement("label",null,"Rebate (NHIF)",l.a.createElement("sup",null,"*")),l.a.createElement("input",{className:"form-control form-control-sm",name:"rebate",onChange:this.onChange,value:this.state.rebate,required:!0,placeholder:"Rebate amount"})),l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("label",null,"Is this drug paid by insurance ?",l.a.createElement("sup",null,"*")),l.a.createElement("select",{className:"form-control form-control-sm",name:"is_insured",onChange:this.onChange,value:this.state.is_insured,required:!0},l.a.createElement("option",{value:!1},"No"),l.a.createElement("option",{value:!0},"Yes"))),l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("label",null,"Other descriptions"),l.a.createElement("textarea",{className:"form-control form-control-sm",name:"description",onChange:this.onChange,value:this.state.description,placeholder:"Other descriptions of this drug"})))),l.a.createElement($.a,null,l.a.createElement("button",{type:"submit",className:"btn btn-sm btn-primary",onSubmit:this.onSubmitService},l.a.createElement("i",{className:"fa fa-check"})," Save")," ",l.a.createElement(ee.a,{color:"secondary",size:"sm",onClick:this.toggleModal},l.a.createElement("i",{className:"fa fa-close"})," Cancel")))),n=t.filter((function(e){return 5===e.department})).map((function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,a+1),l.a.createElement("td",null,t.name),l.a.createElement("td",null,t.quantity_in_store),l.a.createElement("td",null,t.price),l.a.createElement("td",null,t.rebate),l.a.createElement("td",null,t.is_insured?"Yes":"No"),l.a.createElement("td",{className:"text-center"},l.a.createElement("button",{className:"btn btn-sm p-0 border-none text-success",onClick:function(){return e.onEditService(t)}},l.a.createElement("i",{className:"fa fa-edit"})," Edit")," | ",l.a.createElement("button",{className:"btn btn-sm p-0 border-none text-danger"},l.a.createElement("i",{className:"fa fa-trash"})," Delete")))}));return l.a.createElement(l.a.Fragment,null,a,l.a.createElement("div",{className:"row col-12 mx-auto mt-3"},l.a.createElement("div",{className:"card card-header bg-white py-1 px-3 col-12"},l.a.createElement("div",{className:"py-1 px-2"},l.a.createElement(h.b,{to:"/"},"Home"),"  \xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/pharmacy"},"Pharmacy"),"  \xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/pharmacy/drugs"},"Drugs"))),l.a.createElement("div",{className:"card col-12 p-0 mt-2"},l.a.createElement("div",{className:"card-header py-1 px-3"},l.a.createElement("div",{style:{fontSize:"1.2vw",width:"300px",float:"left"},className:"py-1 px-2"},l.a.createElement("i",{className:"fa fa-globe"})," Browse drugs list"),l.a.createElement("button",{style:{float:"right"},className:"btn btn-sm custom-bg-secondary py-1 px-2 text-light mr-auto",onClick:this.onNewService},l.a.createElement("i",{className:"fa fa-plus-circle mr-2"})," Add Drug")),l.a.createElement("div",{className:"card-body p-0 pb-2"},l.a.createElement("div",{className:"row col-12 mx-auto mt-3"},l.a.createElement("div",{className:"form-group  col-5"},l.a.createElement("input",{className:"form-control form-control-sm",name:"service_search_name",value:this.state.service_search_name,onChange:this.onChange,placeholder:"Search drugs by name..."})),l.a.createElement("div",{className:"form-group"},l.a.createElement("button",{className:"btn btn-sm btn-outline-success custom-text-primary ml-4",onClick:this.onsearchService,disabled:this.props.common.isProcessing},l.a.createElement("i",{className:"fa fa-search mr-2"})," Find Service"))))),l.a.createElement("div",{className:"card card-body col-12 p-0 mt-2"},l.a.createElement("table",{className:"table table-sm table-striped table-bordered"},l.a.createElement("caption",{className:"px-2"},l.a.createElement("i",null,"All drugs | Drug search results")),l.a.createElement("thead",{className:"custom-bg-secondary"},l.a.createElement("tr",null,l.a.createElement("th",null,"#"),l.a.createElement("th",null,"Drug"),l.a.createElement("th",null,"Quantity"),l.a.createElement("th",null,"Price"),l.a.createElement("th",null,"Rebate"),l.a.createElement("th",null,"Scheme"),l.a.createElement("th",{className:"text-center"},"Action"))),l.a.createElement("tbody",null,n)))))}}]),a}(n.Component),hn=Object(d.b)((function(e){return{hospital:e.hospital,common:e.common}}),{loadService:Be,searchService:Fe,addService:Ge,updateService:He})(dn),En=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).selectQueue=function(t){rn.dispatch({type:"PHARMACY_SELECT_QUEUE",payload:t}),e.props.history.push("/pharmacy/queue/patient/"+t.patient_details.id)},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.getQueue(),setInterval((function(){return e.props.getQueue()}),3e5)}},{key:"render",value:function(){var e=this,t=this.props.constants.GENDERS,a=this.props.pharmacy.service_queue.map((function(a,n){return l.a.createElement("tr",{key:n},l.a.createElement("td",null,a.patient_details.fullname),l.a.createElement("td",null,a.patient_details.id),l.a.createElement("td",null,t[a.patient_details.sex]),l.a.createElement("td",null,a.patient_details.phone),l.a.createElement("td",{className:"text-center"},l.a.createElement("button",{className:"btn btn-sm p-0 border-none custom-text-primary",onClick:function(){return e.selectQueue(a)},to:"/pharmacy/queue/patient/".concat(a.patient_details.id)},l.a.createElement("i",{className:"fa fa-edit"})," Servce")))}));return l.a.createElement("div",{className:"row col-md-12 mx-auto mt-3"},l.a.createElement("div",{className:"card card-header bg-white py-1 px-3 col-12"},l.a.createElement("div",{className:"py-1 px-2"},l.a.createElement(h.b,{to:"/"},"Home"),"  \xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/pharmacy"},"Pharmacy")," \xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/pharmacy/queue"},"Queue"))),l.a.createElement("div",{className:"card card-body mt-3 p-0 pb-2"},this.props.common.silent_processing?l.a.createElement("span",{className:"text-success"},l.a.createElement("i",{className:"fa fa-refresh fa-spin"})):null,l.a.createElement("table",{className:"table table-sm table-striped table-bordered"},l.a.createElement("thead",{className:"custom-text-primary"},l.a.createElement("tr",null,l.a.createElement("th",null,"Patient's Name"),l.a.createElement("th",null,"# Reg."),l.a.createElement("th",null,"Sex"),l.a.createElement("th",null,"Mobile"),l.a.createElement("th",{className:"text-center"},"Action"))),l.a.createElement("tbody",null,a))))}}]),a}(n.Component),fn=Object(d.b)((function(e){return{pharmacy:e.pharmacy,service_list:e.hospital.service_list,constants:e.common.CONSTANTS,common:e.common}}),{getQueue:function(){return function(e,t){e({type:v}),g.a.get("".concat("/api/","pharmacy/queue/"),P(t)).then((function(t){e({type:ba,payload:t.data})})).catch((function(e){})).finally((function(){return e({type:S})}))}}})(En),bn=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.hospital.service_list,t=this.props.pharmacy.reorder_history,a=e.filter((function(e){return 5===e.department&&e.quantity_in_store<=e.reorder_level})).map((function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("td",null,t+1),l.a.createElement("td",null,e.name),l.a.createElement("td",{className:"text-danger"},e.quantity_in_store),l.a.createElement("td",{className:"text-success"},e.reorder_level),l.a.createElement("td",{className:"text-center"},l.a.createElement(h.b,{className:"btn btn-sm p-0 border-none text-primary",to:"/pharmacy/drugs-reorders/".concat(e.id,"/edit")},l.a.createElement("i",{className:"fa fa-edit"})," Adjust Stock")))})),n=t.slice(0,50).map((function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,a+1),l.a.createElement("td",null,new Date(t.created_at).toLocaleDateString("en-UK")),l.a.createElement("td",null,e.filter((function(e){return e.id===t.service}))[0].name),l.a.createElement("td",null,t.created_by_user.username),l.a.createElement("td",{className:"text-center"},l.a.createElement(h.b,{className:"btn btn-sm p-0 border-none text-primary",to:"/pharmacy/drugs-reorders/".concat(t.id,"/history")},l.a.createElement("i",{className:"fa fa-book"})," More")))}));return l.a.createElement("div",{className:"row col-12 mx-auto  mt-3"},l.a.createElement("div",{className:"card card-header bg-white py-1 px-3 col-12"},l.a.createElement("div",{className:"py-1 px-2"},l.a.createElement(h.b,{to:"/"},"Home"),"  \xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/pharmacy"},"Pharmacy"),"  \xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/pharmacy/drugs-reorders"},"Reorders & History"))),l.a.createElement("div",{className:"col-6 mx-auto mt-2"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header custom-bg-secondary py-1 px-3"},l.a.createElement("div",{className:"py-1 px-2"},l.a.createElement("i",{className:"fa fa-edit"})," Stock Deficit")),l.a.createElement("div",{className:"card-body p-0 pb-2"},l.a.createElement("table",{className:"table table-sm table-striped table-bordered table-responsive-sm m-0"},l.a.createElement("caption",{className:"px-2"},l.a.createElement("i",null,"Drug reorder list")),l.a.createElement("thead",{className:"bg-info text-light"},l.a.createElement("tr",null,l.a.createElement("th",null,"#"),l.a.createElement("th",null,"Drug"),l.a.createElement("th",null,"Quantity in store"),l.a.createElement("th",null,"Reorder Level"),l.a.createElement("th",{className:"text-center"},"Action"))),l.a.createElement("tbody",null,a))))),l.a.createElement("div",{className:"col-6 mx-auto mt-2"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header custom-bg-secondary py-1 px-3"},l.a.createElement("div",{className:"py-1 px-2"},l.a.createElement("i",{className:"fa fa-globe"})," Stock history")),l.a.createElement("div",{className:"card-body p-0 pb-2"},l.a.createElement("table",{className:"table table-sm table-striped table-bordered table-responsive-sm m-0"},l.a.createElement("caption",{className:"px-2"},l.a.createElement("i",null,"Drug reorder history")),l.a.createElement("thead",{className:"bg-info text-light"},l.a.createElement("tr",null,l.a.createElement("th",null,"#"),l.a.createElement("th",null,"Date"),l.a.createElement("th",null,"Drug"),l.a.createElement("th",null,"User"),l.a.createElement("th",{className:"text-center"},"Action"))),l.a.createElement("tbody",null,n))))))}}]),a}(n.Component),gn=Object(d.b)((function(e){return{hospital:e.hospital,common:e.common,pharmacy:e.pharmacy}}),{saveReorder:_a})(bn),yn=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={service_search_name:"",showModal:!1,select_service:null,name:"",quantity_in_store:"",new_stock:"",batch:"",supplier:""},e.onChange=function(t){return e.setState(Object(f.a)({},t.target.name,t.target.value))},e.onSubmitService=function(t){t.preventDefault();var a=e.state,n=a.select_service,l=a.quantity_in_store,r=a.new_stock,c=a.batch,s=a.supplier,o={service_id:n.id,quantity_in_store:l,new_stock:r,batch:c,supplier:s};e.props.saveReorder(o),e.props.history.push("/pharmacy/drugs-reorders/")},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.hospital.service_list.filter((function(t){return t.id===parseInt(e.props.match.params.pk)}));t.length>0&&(t=t[0],this.setState({select_service:t,name:t.name,quantity_in_store:t.quantity_in_store}))}},{key:"render",value:function(){var e=this.props.hospital.supplier_list;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"row col-12 mx-auto mt-3"},l.a.createElement("div",{className:"card card-header bg-white py-1 px-3 col-12"},l.a.createElement("div",{className:"py-1 px-2"},l.a.createElement(h.b,{to:"/pharmacy"},"Pharmacy"),"  \xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/pharmacy/drugs-reorders"},"Drug Reorders")," \xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/pharmacy/drugs-reorders/".concat(this.state.select_service?this.state.select_service.id:"0","/edit")},this.state.select_service?this.state.select_service.name:""))),l.a.createElement("div",{className:"card col-md-7 mx-auto mt-3"},l.a.createElement("div",{className:"card-body"},l.a.createElement("form",{onSubmit:this.onSubmitService},l.a.createElement("div",{className:"row mx-auto"},l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("label",null,"Drug Name",l.a.createElement("sup",null,"*")),l.a.createElement("input",{className:"form-control form-control-sm",readOnly:!0,name:"name",onChange:this.onChange,value:this.state.name,required:!0,placeholder:"Drug name"})),l.a.createElement("div",{className:"form-group col-6"},l.a.createElement("label",null,"Quantity in store ",l.a.createElement("sup",null,"*")),l.a.createElement("input",{className:"form-control form-control-sm",readOnly:!0,name:"quantity_in_store",required:!0,value:this.state.quantity_in_store,placeholder:"0",onChange:this.onChange})),l.a.createElement("div",{className:"form-group col-6"},l.a.createElement("label",null,"New Stock ",l.a.createElement("sup",null,"*")),l.a.createElement("input",{className:"form-control form-control-sm",name:"new_stock",required:!0,value:this.state.new_stock,placeholder:"0",onChange:this.onChange})),l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("label",null,"Batch Number",l.a.createElement("sup",null,"*")),l.a.createElement("input",{className:"form-control form-control-sm",name:"batch",onChange:this.onChange,value:this.state.batch,required:!0,placeholder:"Batch number"})),l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("label",null,"Supplier"),l.a.createElement("select",{className:"form-control form-control-sm",name:"supplier",onChange:this.onChange,value:this.state.supplier,required:!0,placeholder:"supplier"},l.a.createElement("option",{value:""},"Select"),e.map((function(e,t){return l.a.createElement("option",{key:t,value:e.id},e.name)}))))),l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("button",{type:"submit",className:"btn btn-sm btn-primary mr-3",onSubmit:this.onSubmitService},l.a.createElement("i",{className:"fa fa-check"})," Save")," ",l.a.createElement(h.b,{to:"/pharmacy/drugs-reorders/",className:"btn btn-sm btn-secondary"},l.a.createElement("i",{className:"fa fa-close"})," Cancel")))))))}}]),a}(n.Component),vn=Object(d.b)((function(e){return{hospital:e.hospital,common:e.common}}),{saveReorder:_a})(yn),Nn=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={reorder:null},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({reorder:this.props.reorder_history.filter((function(t){return t.id===parseInt(e.props.match.params.pk)}))[0]})}},{key:"render",value:function(){var e=this.props.service_list,t=this.state.reorder;return l.a.createElement(l.a.Fragment,null,t?l.a.createElement("div",{className:"col-12 mx-auto mt-3"},l.a.createElement("div",{className:"card card-header bg-white py-1 px-3"},l.a.createElement("div",{className:"py-1 px-2"},l.a.createElement(h.b,{to:"/"},"Home"),"  \xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/pharmacy"},"Pharmacy"),"  \xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/pharmacy/drugs-reorders"},"Reorder History")," \xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/pharmacy/drugs-reorders/".concat(this.props.match.params.pk,"/history")},e.filter((function(e){return e.id===t.service}))[0].name))),l.a.createElement("div",{className:"row col-12 mt-3",style:{minHeight:"80vh"}},l.a.createElement("div",{className:"col-3"},l.a.createElement("div",{className:"patient_profile p-0 border border-light rounded "},l.a.createElement("div",{className:"row col-12 mx-auto justify-content-center",style:{marginTop:"2vw",zIndex:"1"}},l.a.createElement("img",{src:gt.a,alt:"DP",style:{height:"5vw",width:"5vw",borderRadius:"50%"}}),l.a.createElement("p",{className:"custom-text-primary col-12 text-center text-white mt-2"},"Supplier Profile")),l.a.createElement("ul",{className:"w-100 mx-auto list-group mt-2"},l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Name:")," ",l.a.createElement("span",{style:{float:"right"}},t.supplier_details.name)),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Email:")," ",l.a.createElement("span",{style:{float:"right"}},t.supplier_details.email)),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Phone:")," ",l.a.createElement("span",{style:{float:"right"}},t.supplier_details.phone)),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Address:")," ",l.a.createElement("span",{style:{float:"right"}},t.supplier_details.address))))),l.a.createElement("div",{className:"col-7"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header custom-bg-secondary py-1 px-3"},l.a.createElement("div",{style:{fontSize:"1vw",float:"left"},className:"py-1 px-2"},l.a.createElement("b",null,"Supply Information"))),l.a.createElement("div",{className:"card-body p-0"},l.a.createElement("ul",{className:"list-group"},l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Product:"),l.a.createElement("span",{style:{float:"right"}},e.filter((function(e){return e.id===t.service}))[0].name)),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Date:"),l.a.createElement("span",{style:{float:"right"}},new Date(t.created_at).toDateString("en-UK"))),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Batch:"),l.a.createElement("span",{style:{float:"right"}},t.batch)),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Supply Quantity:"),l.a.createElement("span",{style:{float:"right"}},t.new_stock_quantity)),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Quantity Before:"),l.a.createElement("span",{style:{float:"right"}},t.quantity_before)),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Quantity After:"),l.a.createElement("span",{style:{float:"right"}},t.quantity_after)),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Received By:"),l.a.createElement("span",{style:{float:"right"}},t.created_by_user?t.created_by_user.username:"---")))))))):null)}}]),a}(n.Component),_n=Object(d.b)((function(e){return{reorder_history:e.pharmacy.reorder_history,service_list:e.hospital.service_list,constants:e.common.CONSTANTS}}))(Nn),An=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).onSubmit=function(t){var a={service_request:t.id};e.props.saveDrugDispense(a)},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.getPatientRequests(this.props.match.params.patient_id)}},{key:"render",value:function(){var e=this,t=this.props.constants,a=t.GENDERS,n=t.MARITAL_STATUSES,r=this.props.pharmacy,c=r.patient_requests,s=r.pharm_selected_queue;if(!s)return l.a.createElement(E.a,{to:"/pharmacy/queue"});var o=c.map((function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,a+1),l.a.createElement("td",null,t.service_details.name),l.a.createElement("td",null,t.description),l.a.createElement("td",null,t.quantity),l.a.createElement("td",{className:"text-center"},l.a.createElement("button",{className:"btn btn-sm btn-primary p-0 px-1",onClick:function(){return e.onSubmit(t)}},l.a.createElement("i",{className:"fa fa-check"})," Dispense")))}));return l.a.createElement(l.a.Fragment,null,s?l.a.createElement("div",{className:"row col-12 mx-auto mt-3"},l.a.createElement("div",{className:"card card-header bg-white py-1 px-3 col-12"},l.a.createElement("div",{className:"py-1 px-2"},l.a.createElement(h.b,{to:"/"},"Home"),"  \xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/pharmacy"},"Pharmacy")," \xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/pharmacy/queue"},"Queue")," \xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/pharmacy/queue/patient/".concat(s.patient_details.id)},s.patient_details.fullname))),l.a.createElement("div",{className:"row col-12 mt-2",style:{minHeight:"80vh"}},l.a.createElement("div",{className:"col-3"},l.a.createElement("div",{className:"patient_profile p-0 border border-light rounded "},l.a.createElement("div",{className:"row col-12 mx-auto justify-content-center",style:{marginTop:"2vw",zIndex:"1"}},l.a.createElement("img",{src:gt.a,alt:"DP",style:{height:"5vw",width:"5vw",borderRadius:"50%"}}),l.a.createElement("p",{className:"custom-text-primary col-12 text-center text-white mt-2"},"Patient Profile")),l.a.createElement("ul",{className:"w-100 mx-auto list-group mt-2"},l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Name:")," ",l.a.createElement("span",{style:{float:"right"}},s.patient_details.fullname)),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Sex:")," ",l.a.createElement("span",{style:{float:"right"}},a[s.patient_details.sex])),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"DoB:")," ",l.a.createElement("span",{style:{float:"right"}},new Date(s.patient_details.dob).toDateString("en-UK"))),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Marriage:")," ",l.a.createElement("span",{style:{float:"right"}},n[s.patient_details.marital_status])),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Mobile:")," ",l.a.createElement("span",{style:{float:"right"}},s.patient_details.phone)),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Address:")," ",l.a.createElement("span",{style:{float:"right"}},"".concat(s.patient_details.county,", ").concat(s.patient_details.country)))))),l.a.createElement("div",{className:"col-7"},l.a.createElement("div",{className:"row bg-transparent pb-3 rounded "},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header custom-bg-secondary py-1 px-3"},l.a.createElement("div",{className:"py-1 px-2"},l.a.createElement("b",null,"Prescription List"))),l.a.createElement("div",{className:"card-body p-0"},l.a.createElement("table",{className:"table table-sm table-striped table-bordered"},l.a.createElement("caption",{className:"px-3"},"Client prescription list"),l.a.createElement("thead",{className:"custom-text-primary"},l.a.createElement("tr",null,l.a.createElement("th",null,"#"),l.a.createElement("th",null,"Drug"),l.a.createElement("th",null,"Prescription"),l.a.createElement("th",null,"Quantity"),l.a.createElement("th",{className:"text-center"},"Action"))),l.a.createElement("tbody",null,o))))))))):null)}}]),a}(n.Component),Sn=Object(d.b)((function(e){return{pharmacy:e.pharmacy,service_list:e.hospital.service_list,constants:e.common.CONSTANTS,common:e.common}}),{getPatientRequests:function(e){return function(t,a){t({type:y}),g.a.get("".concat("/api/","pharmacy/queue/").concat(e),P(a)).then((function(e){t({type:ga,payload:e.data})})).catch((function(e){})).finally((function(){return t({type:S})}))}},saveDrugDispense:function(e){return function(t,a){t({type:y}),g.a.post("".concat("/api/","pharmacy/dispense/"),JSON.stringify(e),P(a)).then((function(e){t({type:ya,payload:e.data}),t({type:N,message:"Dispense saved succesfully"})})).catch((function(e){t({type:_,error:e})})).finally((function(){return t({type:S})}))}}})(An),On=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.loadService(),this.props.loadSupplier(),this.props.getReordersHistory()}},{key:"render",value:function(){var e=l.a.createElement("div",{className:"list-group"},l.a.createElement(h.b,{to:"/pharmacy/queue",className:"list-group-item"},l.a.createElement("i",{className:"fa fa-users"})," Queue"),l.a.createElement(h.b,{to:"/pharmacy/drugs",className:"list-group-item"},l.a.createElement("i",{className:"fa fa-list"})," Drugs"),l.a.createElement(h.b,{to:"/pharmacy/drugs-reorders",className:"list-group-item"},l.a.createElement("i",{className:"fa fa-edit"})," Re-orders")),t=l.a.createElement("div",{className:"row col-12 mx-auto mt-3"},l.a.createElement("div",{className:"card card-header bg-white py-1 px-3 col-12"},l.a.createElement("div",{className:"py-1 px-2"},l.a.createElement(h.b,{to:"/pharmacy"},"Pharmacy"))));return l.a.createElement(l.a.Fragment,null,l.a.createElement(W,{menus:e}),l.a.createElement("div",{className:"row col-12 mx-auto page-container"},l.a.createElement(E.b,{path:"/pharmacy",render:function(e){var a=e.match.url;return l.a.createElement(l.a.Fragment,null,l.a.createElement(E.b,{path:"".concat(a),exact:!0,render:function(){return t}}),l.a.createElement(E.b,{path:"".concat(a,"/queue"),component:fn,exact:!0}),l.a.createElement(E.b,{path:"".concat(a,"/queue/patient/:patient_id"),component:Sn}),l.a.createElement(E.b,{path:"".concat(a,"/drugs"),component:hn}),l.a.createElement(E.b,{path:"".concat(a,"/drugs-reorders"),component:gn,exact:!0}),l.a.createElement(E.b,{path:"".concat(a,"/drugs-reorders/:pk/edit"),component:vn}),l.a.createElement(E.b,{path:"".concat(a,"/drugs-reorders/:pk/history"),component:_n}))}})))}}]),a}(n.Component),wn=Object(d.b)((function(e){return{}}),{loadService:Be,loadSupplier:Qe,getReordersHistory:Aa})(On),Cn=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={showModal:!1,selected_queue_data:null,result:"",analysis_comment:""},e.onEditInvestigations=function(t){e.setState({selected_queue_data:t,investigation_list:t.lab_requests})},e.onChange=function(t){return e.setState(Object(f.a)({},t.target.name,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a=e.state,n=a.selected_queue_data,l=a.result,r=a.analysis_comment,c={log_id:n.id,result:l,analysis_comment:r};e.props.saveResults(c),e.setState({selected_queue_data:null,result:"",analysis_comment:""})},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.getResultsQueue(),setInterval((function(){return e.props.getResultsQueue()}),3e5),window.looper=setInterval((function(){e.props.laboratory.results_queue.map((function(e){var t=new Date(e.sampled_at),a=new Date-t,n=Math.floor(a/864e5),l=Math.floor(a%864e5/36e5),r=Math.floor(a%36e5/6e4),c=Math.floor(a%6e4/1e3),s=n+":"+(l=l<10?"0"+l:l)+":"+(r=r<10?"0"+r:r)+":"+(c=c<10?"0"+c:c);return document.getElementById("td-"+e.id).innerText=s,null}))}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(window.looper)}},{key:"render",value:function(){var e=this,t=this.props.constants.GENDERS,a=this.props.laboratory.results_queue.map((function(a,n){return l.a.createElement("tr",{key:n},l.a.createElement("td",null,a.patient_details.fullname),l.a.createElement("td",null,t[a.patient_details.sex]),l.a.createElement("td",null,a.investigation),l.a.createElement("td",{id:"td-".concat(a.id)},"---"),l.a.createElement("td",{className:"text-center"},l.a.createElement("button",{className:"btn btn-sm p-0 border-none custom-text-primary",onClick:function(){return e.onEditInvestigations(a)}},l.a.createElement("i",{className:"fa fa-edit"})," Results")))}));return l.a.createElement("div",{className:"col-12 mx-auto mt-3"},l.a.createElement("div",{className:"card card-header bg-white py-1 px-3"},l.a.createElement("div",{className:"py-1 px-2"},l.a.createElement(h.b,{to:"/"},"Home"),"  \xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/laboratory"},"Laboratory")," \xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/laboratory/results"},"Running Tests"))),l.a.createElement("div",{className:"row col-12 mt-2"},l.a.createElement("div",{className:"".concat(this.state.selected_queue_data?"col-7":"col-12"," mx-auto")},l.a.createElement("div",{className:"card card-body p-0 pb-2"},this.props.common.silent_processing?l.a.createElement("span",{className:"text-success"},l.a.createElement("i",{className:"fa fa-refresh fa-spin"})):null,l.a.createElement("table",{className:"table table-sm table-striped table-bordered"},l.a.createElement("thead",{className:"custom-bg-primary"},l.a.createElement("tr",null,l.a.createElement("th",null,"Patient's Name"),l.a.createElement("th",null,"Sex"),l.a.createElement("th",null,"Investigation"),l.a.createElement("th",null,"T.T"),l.a.createElement("th",{className:"text-center"},"Action"))),l.a.createElement("tbody",null,a)))),this.state.selected_queue_data?l.a.createElement("div",{className:"col-5 mx-auto"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header custom-bg-secondary py-1 px-3"},l.a.createElement("div",{className:"py-1 px-2"},"Result Entry")),l.a.createElement("div",{className:"card-body"},l.a.createElement("form",{onSubmit:this.onSubmit},l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-9"},l.a.createElement("label",null,"Patient name"),l.a.createElement("input",{className:"form-control form-control-sm",readOnly:!0,value:this.state.selected_queue_data.patient_details.fullname})),l.a.createElement("div",{className:"form-group col-3"},l.a.createElement("label",null,"Sex"),l.a.createElement("input",{className:"form-control form-control-sm",readOnly:!0,value:t[this.state.selected_queue_data.patient_details.sex]})),l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("label",null,"Investigation"),l.a.createElement("input",{className:"form-control form-control-sm",readOnly:!0,value:this.state.selected_queue_data.investigation})),l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("label",null,"Result ",l.a.createElement("sup",null,"*")),l.a.createElement("textarea",{className:"form-control form-control-sm",name:"result",required:!0,value:this.state.result,onChange:this.onChange})),l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("label",null,"Results Note:"),l.a.createElement("textarea",{className:"form-control form-control-sm",name:"analysis_comment",value:this.state.analysis_comment,onChange:this.onChange})),l.a.createElement("div",{className:"form-group col-12"},l.a.createElement(ee.a,{size:"sm",color:"primary",onClick:this.onSubmit},"Submit")))),l.a.createElement("hr",{className:"border-primary"})))):null))}}]),a}(n.Component),xn=Object(d.b)((function(e){return{laboratory:e.laboratory,service_list:e.hospital.service_list,constants:e.common.CONSTANTS,common:e.common}}),{getResultsQueue:function(){return function(e,t){e({type:v}),g.a.get("".concat("/api/","laboratory/results/"),P(t)).then((function(t){e({type:ca,payload:t.data})})).catch((function(e){})).finally((function(){return e({type:S})}))}},saveResults:function(e){return function(t,a){t({type:y}),g.a.post("".concat("/api/","laboratory/results/"),JSON.stringify(e),P(a)).then((function(e){t({type:sa,payload:e.data}),t({type:N,message:"Results saved succesfully"})})).catch((function(e){t({type:_,error:e})})).finally((function(){return t({type:S})}))}}})(Cn),jn=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={showModal:!1,selected_queue_data:null,investigation_list:[],specimen:"",sampling_comment:""},e.onEditInvestigations=function(t){e.setState({selected_queue_data:t,investigation_list:t.lab_requests,specimen:"",sampling_comment:""})},e.onChange=function(t){return e.setState(Object(f.a)({},t.target.name,t.target.value))},e.onSubmit=function(t){var a=e.state,n=a.specimen,l=a.sampling_comment,r={service_request:t.id,specimen:n,sampling_comment:l};e.props.saveSample(r),e.setState({investigation_list:e.state.investigation_list.filter((function(e){return e.id!==t.id})),specimen:"",sampling_comment:""}),e.props.getSamplingQueue()},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.getSamplingQueue(),setInterval((function(){return e.props.getSamplingQueue()}),3e5)}},{key:"render",value:function(){var e=this,t=this.props.constants.GENDERS,a=this.props.laboratory.sampling_queue.map((function(a,n){return l.a.createElement("tr",{key:n},l.a.createElement("td",null,a.patient_details.fullname),l.a.createElement("td",null,a.patient_details.id),l.a.createElement("td",null,t[a.patient_details.sex]),l.a.createElement("td",null,a.patient_details.phone),l.a.createElement("td",{className:"text-center"},l.a.createElement("button",{className:"btn btn-sm p-0 border-none custom-text-primary",onClick:function(){return e.onEditInvestigations(a)}},l.a.createElement("i",{className:"fa fa-edit"})," Sample")))}));return l.a.createElement("div",{className:"col-12 mx-auto mt-3"},l.a.createElement("div",{className:"card card-header bg-white py-1 px-3"},l.a.createElement("div",{className:"py-1 px-2"},l.a.createElement(h.b,{to:"/"},"Home"),"  \xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/laboratory"},"Laboratory")," \xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/laboratory/sampling"},"Sampling Queue"))),l.a.createElement("div",{className:"row col-12 mt-2"},l.a.createElement("div",{className:"".concat(this.state.selected_queue_data?"col-7":"col-12"," mx-auto")},l.a.createElement("div",{className:"card card-body p-0 pb-2"},this.props.common.silent_processing?l.a.createElement("span",{className:"text-success"},l.a.createElement("i",{className:"fa fa-refresh fa-spin"})):null,l.a.createElement("table",{className:"table table-sm table-striped table-bordered"},l.a.createElement("thead",{className:"custom-bg-primary"},l.a.createElement("tr",null,l.a.createElement("th",null,"Patient's Name"),l.a.createElement("th",null,"# Reg."),l.a.createElement("th",null,"Sex"),l.a.createElement("th",null,"Mobile"),l.a.createElement("th",{className:"text-center"},"Action"))),l.a.createElement("tbody",null,a)))),this.state.selected_queue_data?l.a.createElement("div",{className:"col-5 mx-auto"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header custom-bg-secondary py-1 px-3"},l.a.createElement("div",{className:"py-1 px-2"},"Sample details")),l.a.createElement("div",{className:"card-body",style:{maxHeight:"75vh",overflowY:"auto"}},this.state.investigation_list.map((function(a,n){return l.a.createElement("div",{key:n},l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-8"},l.a.createElement("label",null,"Patient name"),l.a.createElement("input",{className:"form-control form-control-sm",readOnly:!0,value:e.state.selected_queue_data.patient_details.fullname})),l.a.createElement("div",{className:"form-group col-4"},l.a.createElement("label",null,"Sex"),l.a.createElement("input",{className:"form-control form-control-sm",readOnly:!0,value:t[e.state.selected_queue_data.patient_details.sex]})),l.a.createElement("div",{className:"form-group col-8"},l.a.createElement("label",null,"Investigation"),l.a.createElement("input",{className:"form-control form-control-sm",readOnly:!0,value:e.props.service_list.filter((function(e){return e.id===a.service}))[0].name})),l.a.createElement("div",{className:"form-group col-4"},l.a.createElement("label",null,"Specimen ",l.a.createElement("sup",null,"*")),l.a.createElement("input",{className:"form-control form-control-sm",name:"specimen",value:e.state.specimen,onChange:e.onChange})),l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("label",null,"Sampling Note:"),l.a.createElement("textarea",{className:"form-control form-control-sm",name:"sampling_comment",value:e.state.sampling_comment,onChange:e.onChange})),l.a.createElement("div",{className:"form-group col-12"},l.a.createElement(ee.a,{size:"sm",color:"primary",onClick:function(){return e.onSubmit(a)}},"Submit"))),l.a.createElement("hr",{className:"border-primary"}))}))))):null))}}]),a}(n.Component),kn=Object(d.b)((function(e){return{laboratory:e.laboratory,service_list:e.hospital.service_list,constants:e.common.CONSTANTS,common:e.common}}),{getSamplingQueue:function(){return function(e,t){e({type:v}),g.a.get("".concat("/api/","laboratory/sampling/"),P(t)).then((function(t){e({type:ra,payload:t.data})})).catch((function(e){})).finally((function(){return e({type:S})}))}},saveSample:function(e){return function(t,a){t({type:y}),g.a.post("".concat("/api/","laboratory/sampling/"),JSON.stringify(e),P(a)).then((function(e){t({type:N,message:"Sample saved succesfully"})})).catch((function(e){t({type:_,error:e})})).finally((function(){return t({type:S})}))}}})(jn),Dn=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={showModal:!1,selected_queue_data:null,verification_comment:""},e.onEditInvestigations=function(t){e.setState({selected_queue_data:t,investigation_list:t.lab_requests})},e.onChange=function(t){return e.setState(Object(f.a)({},t.target.name,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a=e.state,n=a.selected_queue_data,l=a.verification_comment,r={log_id:n.id,verification_comment:l};e.props.saveVerification(r),e.setState({selected_queue_data:null,verification_comment:""})},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.getVerificationQueue()}},{key:"componentWillUnmount",value:function(){clearInterval()}},{key:"render",value:function(){var e=this,t=this.props.constants.GENDERS,a=this.props.laboratory.verification_queue.map((function(a,n){return l.a.createElement("tr",{key:n},l.a.createElement("td",null,a.patient_details.fullname),l.a.createElement("td",null,t[a.patient_details.sex]),l.a.createElement("td",null,a.investigation),l.a.createElement("td",null,new Date(a.analysed_at).toLocaleString("en-UK")),l.a.createElement("td",{className:"text-center"},l.a.createElement("button",{className:"btn btn-sm p-0 border-none custom-text-primary",onClick:function(){return e.onEditInvestigations(a)}},l.a.createElement("i",{className:"fa fa-edit"})," Verify")))}));return l.a.createElement("div",{className:"col-12 mx-auto mt-3"},l.a.createElement("div",{className:"card card-header bg-white py-1 px-3"},l.a.createElement("div",{className:"py-1 px-2"},l.a.createElement(h.b,{to:"/"},"Home"),"  \xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/laboratory"},"Laboratory")," \xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/laboratory/results-verification"},"Result verification"))),l.a.createElement("div",{className:"row col-12 mx-auto mt-2"},l.a.createElement("div",{className:"".concat(this.state.selected_queue_data?"col-7":"col-12"," mx-auto")},l.a.createElement("div",{className:"card card-body p-0 pb-2"},this.props.common.silent_processing?l.a.createElement("span",{className:"text-success"},l.a.createElement("i",{className:"fa fa-refresh fa-spin"})):null,l.a.createElement("table",{className:"table table-sm table-striped table-bordered"},l.a.createElement("thead",{className:"custom-bg-primary"},l.a.createElement("tr",null,l.a.createElement("th",null,"Patient's Name"),l.a.createElement("th",null,"Sex"),l.a.createElement("th",null,"Investigation"),l.a.createElement("th",null,"Result Time"),l.a.createElement("th",{className:"text-center"},"Action"))),l.a.createElement("tbody",null,a)))),this.state.selected_queue_data?l.a.createElement("div",{className:"col-5 mx-auto"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header custom-bg-secondary py-1 px-3"},l.a.createElement("div",{className:"py-1 px-2"},"Results Verification")),l.a.createElement("div",{className:"card-body"},l.a.createElement("form",{onSubmit:this.onSubmit},l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-9"},l.a.createElement("label",null,"Patient name"),l.a.createElement("input",{className:"form-control form-control-sm",readOnly:!0,value:this.state.selected_queue_data.patient_details.fullname})),l.a.createElement("div",{className:"form-group col-3"},l.a.createElement("label",null,"Sex"),l.a.createElement("input",{className:"form-control form-control-sm",readOnly:!0,value:t[this.state.selected_queue_data.patient_details.sex]})),l.a.createElement("div",{className:"form-group col-6"},l.a.createElement("label",null,"Investigation"),l.a.createElement("input",{className:"form-control form-control-sm",readOnly:!0,value:this.state.selected_queue_data.investigation})),l.a.createElement("div",{className:"form-group col-6"},l.a.createElement("label",null,"Result"),l.a.createElement("input",{className:"form-control form-control-sm",readOnly:!0,value:this.state.selected_queue_data.result})),l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("label",null,"Verification Note:"),l.a.createElement("textarea",{className:"form-control form-control-sm",name:"verification_comment",value:this.state.verification_comment,onChange:this.onChange})),l.a.createElement("div",{className:"form-group col-12"},l.a.createElement(ee.a,{size:"sm",color:"primary",onClick:this.onSubmit},"Submit")))),l.a.createElement("hr",{className:"border-primary"})))):null))}}]),a}(n.Component),Mn=Object(d.b)((function(e){return{laboratory:e.laboratory,service_list:e.hospital.service_list,constants:e.common.CONSTANTS,common:e.common}}),{getVerificationQueue:function(){return function(e,t){e({type:v}),g.a.get("".concat("/api/","laboratory/verifications/"),P(t)).then((function(t){e({type:oa,payload:t.data})})).catch((function(e){})).finally((function(){return e({type:S})}))}},saveVerification:function(e){return function(t,a){t({type:y}),g.a.post("".concat("/api/","laboratory/verifications/"),JSON.stringify(e),P(a)).then((function(e){t({type:ia,payload:e.data}),t({type:N,message:"Verification saved succesfully"})})).catch((function(e){t({type:_,error:e})})).finally((function(){return t({type:S})}))}}})(Dn),In=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={showModal:!1,selected_queue_data:null,verification_comment:""},e.onViewLogbook=function(t){rn.dispatch({type:"SELECT_LOGBOOK",payload:t}),e.props.history.push("/laboratory/logbooks/"+t.id)},e.onChange=function(t){return e.setState(Object(f.a)({},t.target.name,t.target.value))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.getLogBooks()}},{key:"componentWillUnmount",value:function(){clearInterval()}},{key:"render",value:function(){var e=this,t=this.props.constants.GENDERS,a=this.props.laboratory.logbooks.map((function(a,n){return l.a.createElement("tr",{key:n},l.a.createElement("td",null,a.id),l.a.createElement("td",null,a.patient_details.fullname),l.a.createElement("td",null,t[a.patient_details.sex]),l.a.createElement("td",null,a.investigation),l.a.createElement("td",null,a.result?a.result:"---"),l.a.createElement("td",null,a.is_analysed?"Yes":"NO"),l.a.createElement("td",null,a.is_verified?"Yes":"NO"),l.a.createElement("td",{className:"text-center"},l.a.createElement("button",{className:"btn btn-sm p-0 border-none text-success",onClick:function(){return e.onViewLogbook(a)}},l.a.createElement("i",{className:"fa fa-book"})," Open")))}));return l.a.createElement("div",{className:"row col-12 mx-auto mt-3"},l.a.createElement("div",{className:"card col-12 card-header bg-white py-1 px-3"},l.a.createElement("div",{className:"py-1 px-2"},l.a.createElement(h.b,{to:"/"},"Home"),"  \xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/laboratory"},"Laboratory")," \xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/laboratory/logbooks"},"Logbooks"))),l.a.createElement("div",{className:"card card-body p-0 pb-2 mt-2"},this.props.common.silent_processing?l.a.createElement("span",{className:"text-success"},l.a.createElement("i",{className:"fa fa-refresh fa-spin"})):null,l.a.createElement("table",{className:"table table-sm table-striped table-bordered"},l.a.createElement("thead",{className:"custom-bg-primary"},l.a.createElement("tr",null,l.a.createElement("th",null,"#Log"),l.a.createElement("th",null,"Patient's Name"),l.a.createElement("th",null,"Sex"),l.a.createElement("th",null,"Test"),l.a.createElement("th",null,"Result"),l.a.createElement("th",null,"Analyzed"),l.a.createElement("th",null,"Verified"),l.a.createElement("th",{className:"text-center"},"Action"))),l.a.createElement("tbody",null,a))))}}]),a}(n.Component),Pn=Object(d.b)((function(e){return{laboratory:e.laboratory,constants:e.common.CONSTANTS,common:e.common}}),{getLogBooks:function(){return function(e,t){e({type:v}),g.a.get("".concat("/api/","laboratory/logbooks/"),P(t)).then((function(t){e({type:ma,payload:t.data})})).catch((function(e){})).finally((function(){return e({type:S})}))}}})(In),Tn=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={tt:"---"},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.logbook;if(e&&e.sampled_at&&e.verified_at){var t=new Date(e.sampled_at),a=new Date(e.verified_at)-t,n=Math.floor(a/864e5),l=Math.floor(a%864e5/36e5),r=Math.floor(a%36e5/6e4),c=Math.floor(a%6e4/1e3),s=n+"d "+(l=l<10?"0"+l:l)+"h "+(r=r<10?"0"+r:r)+"m "+(c=c<10?"0"+c:c)+"s";this.setState({tt:s})}}},{key:"render",value:function(){var e=this.props.constants,t=e.GENDERS,a=e.MARITAL_STATUSES,n=this.props.logbook;return n?l.a.createElement("div",{className:"row col-12 mx-auto mt-3"},l.a.createElement("div",{className:"card col-12 card-header bg-white py-1 px-3"},l.a.createElement("div",{className:"py-1 px-2"},l.a.createElement(h.b,{to:"/"},"Home"),"  \xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/laboratory"},"Laboratory"),"  \xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/laboratory/logbooks"},"Logbooks")," \xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/laboratory/logbooks/".concat(this.props.match.params.pk)},n.patient_details.fullname))),l.a.createElement("div",{className:"row col-12 mx-auto mt-2",style:{minHeight:"80vh"}},l.a.createElement("div",{className:"col-3"},l.a.createElement("div",{className:"patient_profile row border border-light rounded "},l.a.createElement("div",{className:"row col-12 mx-auto justify-content-center",style:{marginTop:"2vw",zIndex:"1"}},l.a.createElement("img",{src:gt.a,alt:"DP",style:{height:"5vw",width:"5vw",borderRadius:"50%"}}),l.a.createElement("p",{className:"custom-text-primary col-12 text-center text-white mt-2"},"Patient Profile")),l.a.createElement("ul",{className:"w-100 mx-auto list-group mt-2"},l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Name:")," ",l.a.createElement("span",{style:{float:"right"}},n.patient_details.fullname)),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Sex:")," ",l.a.createElement("span",{style:{float:"right"}},t[n.patient_details.sex])),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"DoB:")," ",l.a.createElement("span",{style:{float:"right"}},new Date(n.patient_details.dob).toDateString())),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Marriage:")," ",l.a.createElement("span",{style:{float:"right"}},a[n.patient_details.marital_status])),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Mobile:")," ",l.a.createElement("span",{style:{float:"right"}},n.patient_details.phone)),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Address:")," ",l.a.createElement("span",{style:{float:"right"}},"".concat(n.patient_details.county,", ").concat(n.patient_details.country)))))),l.a.createElement("div",{className:"col-7"},l.a.createElement("div",{style:{maxHeight:"75vh",overflowY:"auto"},className:"row bg-transparent pb-3 rounded "},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header custom-bg-secondary py-1 px-3"},l.a.createElement("div",{className:"py-1 px-2"},l.a.createElement("b",null,"Logbook Details"))),l.a.createElement("div",{className:"card-body p-0"},l.a.createElement("ul",{className:"list-group"},l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Logbook Number:"),l.a.createElement("span",{style:{float:"right"}},n.id)),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Date:"),l.a.createElement("span",{style:{float:"right"}},new Date(n.sampled_at).toDateString("en-UK"))),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Investigation:"),l.a.createElement("span",{style:{float:"right"}},n.investigation)),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Sampled By:"),l.a.createElement("span",{style:{float:"right"}},n.sampled_by_user?n.sampled_by_user.username:"---")),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Sampling Notes:"),l.a.createElement("br",null),l.a.createElement("span",{style:{float:"right",marginLeft:"10vw"}},n.sampling_comment)))))),l.a.createElement("div",{className:"col-12 mt-2"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header custom-bg-secondary py-1 px-3"},l.a.createElement("div",{className:"py-1 px-2"},l.a.createElement("b",null,"Result Data"))),l.a.createElement("div",{className:"card-body p-0"},l.a.createElement("ul",{className:"list-group"},l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Result"),l.a.createElement("span",{style:{float:"right"}},n.is_analysed?n.result:"---")),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Turn around:"),l.a.createElement("span",{style:{float:"right"}},this.state.tt)),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Analysed By:"),l.a.createElement("span",{style:{float:"right"}},n.is_analysed?n.analysed_by_user.username:"---")),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Analysis Notes:"),l.a.createElement("br",null),l.a.createElement("span",{style:{float:"right",marginLeft:"10vw"}},n.is_analysed?n.analysis_comment:"---")))))),l.a.createElement("div",{className:"col-12 mt-2"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header custom-bg-secondary py-1 px-3"},l.a.createElement("div",{className:"py-1 px-2"},l.a.createElement("b",null,"Data Verification"))),l.a.createElement("div",{className:"card-body p-0"},l.a.createElement("ul",{className:"list-group"},l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Result verified"),l.a.createElement("span",{style:{float:"right"}},n.is_verified?"Yes":"No")),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"verified By:"),l.a.createElement("span",{style:{float:"right"}},n.is_verified?n.verified_by_user.username:"---")),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Verification Notes:"),l.a.createElement("br",null),l.a.createElement("span",{style:{float:"right",marginLeft:"10vw"}},n.is_verified?n.verification_comment:"---")))))))))):l.a.createElement(E.a,{to:"/laboratory/logbooks"})}}]),a}(n.Component),qn=Object(d.b)((function(e){return{logbook:e.laboratory.selected_logbook,service_list:e.hospital.service_list,constants:e.common.CONSTANTS}}))(Tn),Rn=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.loadService()}},{key:"render",value:function(){var e=l.a.createElement("div",{className:"list-group"},l.a.createElement(h.b,{to:"/laboratory/sampling",className:"list-group-item"},l.a.createElement("i",{className:"fa fa-flask"})," Sampling"),l.a.createElement(h.b,{to:"/laboratory/results",className:"list-group-item"},l.a.createElement("i",{className:"fa fa-edit"})," Result entry"),l.a.createElement(h.b,{to:"/laboratory/result-verification",className:"list-group-item"},l.a.createElement("i",{className:"fa fa-check-circle"})," Verification"),l.a.createElement(h.b,{to:"/laboratory/logbooks",className:"list-group-item"},l.a.createElement("i",{className:"fa fa-book"})," Logbook"));return l.a.createElement(l.a.Fragment,null,l.a.createElement(W,{menus:e}),l.a.createElement("div",{className:"row col-12 mx-auto page-container"},l.a.createElement(E.b,{path:"/laboratory",render:function(e){var t=e.match.url;return l.a.createElement(l.a.Fragment,null,l.a.createElement(E.b,{path:"".concat(t),component:kn,exact:!0}),l.a.createElement(E.b,{path:"".concat(t,"/sampling"),component:kn}),l.a.createElement(E.b,{path:"".concat(t,"/results"),component:xn}),l.a.createElement(E.b,{path:"".concat(t,"/result-verification"),component:Mn}),l.a.createElement(E.b,{path:"".concat(t,"/logbooks"),component:Pn,exact:!0}),l.a.createElement(E.b,{path:"".concat(t,"/logbooks/:pk"),component:qn}))}})))}}]),a}(n.Component),Ln=Object(d.b)((function(e){return{}}),{loadService:Be})(Rn),Un=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={showModal:!1,selected_queue_data:null,result:""},e.onEditInvestigations=function(t){e.setState({selected_queue_data:t,investigation_list:t.lab_requests})},e.onChange=function(t){return e.setState(Object(f.a)({},t.target.name,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a=e.state,n=a.selected_queue_data,l=a.result,r={log_id:n.id,result:l};e.props.saveResults(r),e.setState({selected_queue_data:null,result:""})},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.getResultsQueue(),setInterval((function(){return e.props.getResultsQueue()}),3e5),window.loooper=setInterval((function(){e.props.radiology.results_queue.map((function(e){var t=new Date(e.sampled_at),a=new Date-t,n=Math.floor(a/864e5),l=Math.floor(a%864e5/36e5),r=Math.floor(a%36e5/6e4),c=Math.floor(a%6e4/1e3),s=n+":"+(l=l<10?"0"+l:l)+":"+(r=r<10?"0"+r:r)+":"+(c=c<10?"0"+c:c);return document.getElementById("td-"+e.id).innerText=s,null}))}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(window.loooper)}},{key:"render",value:function(){var e=this,t=this.props.constants.GENDERS,a=this.props.radiology.results_queue.map((function(a,n){return l.a.createElement("tr",{key:n},l.a.createElement("td",null,a.patient_details.fullname),l.a.createElement("td",null,t[a.patient_details.sex]),l.a.createElement("td",null,a.investigation),l.a.createElement("td",{id:"td-".concat(a.id)},"---"),l.a.createElement("td",{className:"text-center"},l.a.createElement("button",{className:"btn btn-sm p-0 border-none custom-text-primary",onClick:function(){return e.onEditInvestigations(a)}},l.a.createElement("i",{className:"fa fa-edit"})," Results")))}));return l.a.createElement("div",{className:"row col-12 mx-auto mt-3"},l.a.createElement("div",{className:"card col-12 card-header bg-white py-1 px-3"},l.a.createElement("div",{className:"py-1 px-2"},l.a.createElement(h.b,{to:"/"},"Home"),"  \xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/radiology"},"Radiology")," \xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/radiology/results"},"Running Tests"))),l.a.createElement("div",{className:"row col-12 mx-auto mt-2"},l.a.createElement("div",{className:"".concat(this.state.selected_queue_data?"col-7":"col-12"," mx-auto")},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-body p-0 pb-2"},this.props.common.silent_processing?l.a.createElement("span",{className:"text-success"},l.a.createElement("i",{className:"fa fa-refresh fa-spin"})):null,l.a.createElement("table",{className:"table table-sm table-striped table-bordered"},l.a.createElement("thead",{className:"custom-bg-primary"},l.a.createElement("tr",null,l.a.createElement("th",null,"Patient's Name"),l.a.createElement("th",null,"Sex"),l.a.createElement("th",null,"Investigation"),l.a.createElement("th",null,"T.T"),l.a.createElement("th",{className:"text-center"},"Action"))),l.a.createElement("tbody",null,a))))),this.state.selected_queue_data?l.a.createElement("div",{className:"col-5 mx-auto"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header custom-bg-secondary py-1 px-3"},l.a.createElement("div",{className:"py-1 px-2"},"Result Entry")),l.a.createElement("div",{className:"card-body"},l.a.createElement("form",{onSubmit:this.onSubmit},l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-9"},l.a.createElement("label",null,"Patient name"),l.a.createElement("input",{className:"form-control form-control-sm",readOnly:!0,value:this.state.selected_queue_data.patient_details.fullname})),l.a.createElement("div",{className:"form-group col-3"},l.a.createElement("label",null,"Sex"),l.a.createElement("input",{className:"form-control form-control-sm",readOnly:!0,value:t[this.state.selected_queue_data.patient_details.sex]})),l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("label",null,"Investigation"),l.a.createElement("input",{className:"form-control form-control-sm",readOnly:!0,value:this.state.selected_queue_data.investigation})),l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("label",null,"Result ",l.a.createElement("sup",null,"*")),l.a.createElement("textarea",{className:"form-control form-control-sm",name:"result",required:!0,value:this.state.result,onChange:this.onChange})),l.a.createElement("div",{className:"form-group col-12"},l.a.createElement(ee.a,{size:"sm",color:"primary",onClick:this.onSubmit},"Submit")))),l.a.createElement("hr",{className:"border-primary"})))):null))}}]),a}(n.Component),Bn=Object(d.b)((function(e){return{radiology:e.radiology,service_list:e.hospital.service_list,constants:e.common.CONSTANTS,common:e.common}}),{getResultsQueue:function(){return function(e,t){e({type:v}),g.a.get("".concat("/api/","radiology/results/"),P(t)).then((function(t){e({type:da,payload:t.data})})).catch((function(e){})).finally((function(){return e({type:S})}))}},saveResults:function(e){return function(t,a){t({type:y}),g.a.post("".concat("/api/","radiology/results/"),JSON.stringify(e),P(a)).then((function(e){t({type:ha,payload:e.data}),t({type:N,message:"Results saved succesfully"})})).catch((function(e){t({type:_,error:e})})).finally((function(){return t({type:S})}))}}})(Un),Fn=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={showModal:!1,selected_queue_data:null,investigation_list:[]},e.onEditInvestigations=function(t){e.setState({selected_queue_data:t,investigation_list:t.requests})},e.onChange=function(t){return e.setState(Object(f.a)({},t.target.name,t.target.value))},e.onSubmit=function(t){var a={service_request:t.id};e.props.saveSample(a),e.setState({investigation_list:e.state.investigation_list.filter((function(e){return e.id!==t.id}))}),e.props.getSamplingQueue()},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.getSamplingQueue(),setInterval((function(){return e.props.getSamplingQueue()}),3e5)}},{key:"render",value:function(){var e=this,t=this.props.constants.GENDERS,a=this.props.radiology.sampling_queue.map((function(a,n){return l.a.createElement("tr",{key:n},l.a.createElement("td",null,a.patient_details.fullname),l.a.createElement("td",null,a.patient_details.id),l.a.createElement("td",null,t[a.patient_details.sex]),l.a.createElement("td",null,a.patient_details.phone),l.a.createElement("td",{className:"text-center"},l.a.createElement("button",{className:"btn btn-sm p-0 border-none custom-text-primary",onClick:function(){return e.onEditInvestigations(a)}},l.a.createElement("i",{className:"fa fa-edit"})," Sample")))}));return l.a.createElement("div",{className:"row col-12 mx-auto mt-3"},l.a.createElement("div",{className:"card col-12 card-header bg-white py-1 px-3"},l.a.createElement("div",{className:"py-1 px-2"},l.a.createElement(h.b,{to:"/"},"Home"),"  \xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/radiology"},"Radiology")," \xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/radiology/queue"},"Queue"))),l.a.createElement("div",{className:"row col-12 mx-auto mt-2"},l.a.createElement("div",{className:"".concat(this.state.selected_queue_data?"col-7":"col-12"," mx-auto")},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-body p-0 pb-2"},this.props.common.silent_processing?l.a.createElement("span",{className:"text-success"},l.a.createElement("i",{className:"fa fa-refresh fa-spin"})):null,l.a.createElement("table",{className:"table table-sm table-striped table-bordered"},l.a.createElement("thead",{className:"custom-bg-primary"},l.a.createElement("tr",null,l.a.createElement("th",null,"Patient's Name"),l.a.createElement("th",null,"# Reg."),l.a.createElement("th",null,"Sex"),l.a.createElement("th",null,"Mobile"),l.a.createElement("th",{className:"text-center"},"Action"))),l.a.createElement("tbody",null,a))))),this.state.selected_queue_data?l.a.createElement("div",{className:"col-5 mx-auto"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header custom-bg-secondary py-1 px-3"},l.a.createElement("div",{className:"py-1 px-2"},"Start Test")),l.a.createElement("div",{className:"card-body",style:{maxHeight:"75vh",overflowY:"auto"}},this.state.investigation_list.map((function(a,n){return l.a.createElement("div",{key:n},l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-8"},l.a.createElement("label",null,"Patient name"),l.a.createElement("input",{className:"form-control form-control-sm",readOnly:!0,value:e.state.selected_queue_data.patient_details.fullname})),l.a.createElement("div",{className:"form-group col-4"},l.a.createElement("label",null,"Sex"),l.a.createElement("input",{className:"form-control form-control-sm",readOnly:!0,value:t[e.state.selected_queue_data.patient_details.sex]})),l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("label",null,"Investigation"),l.a.createElement("input",{className:"form-control form-control-sm",readOnly:!0,value:e.props.service_list.filter((function(e){return e.id===a.service}))[0].name})),l.a.createElement("div",{className:"form-group col-12"},l.a.createElement(ee.a,{size:"sm",color:"primary",onClick:function(){return e.onSubmit(a)}},"Start Test"))),l.a.createElement("hr",{className:"border-primary"}))}))))):null))}}]),a}(n.Component),Gn=Object(d.b)((function(e){return{radiology:e.radiology,service_list:e.hospital.service_list,constants:e.common.CONSTANTS,common:e.common}}),{getSamplingQueue:function(){return function(e,t){e({type:v}),g.a.get("".concat("/api/","radiology/sampling/"),P(t)).then((function(t){e({type:pa,payload:t.data})})).catch((function(e){})).finally((function(){return e({type:S})}))}},saveSample:function(e){return function(t,a){t({type:y}),g.a.post("".concat("/api/","radiology/sampling/"),JSON.stringify(e),P(a)).then((function(e){t({type:N,message:"Sample saved succesfully"})})).catch((function(e){t({type:_,error:e})})).finally((function(){return t({type:S})}))}}})(Fn),Hn=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={showModal:!1,selected_queue_data:null,verification_comment:""},e.onViewLogbook=function(t){rn.dispatch({type:"SELECT_RAD_LOGBOOK",payload:t}),e.props.history.push("/radiology/logbooks/"+t.id)},e.onChange=function(t){return e.setState(Object(f.a)({},t.target.name,t.target.value))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.getLogBooks()}},{key:"componentWillUnmount",value:function(){clearInterval()}},{key:"render",value:function(){var e=this,t=this.props.constants.GENDERS,a=this.props.radiology.logbooks.map((function(a,n){return l.a.createElement("tr",{key:n},l.a.createElement("td",null,a.id),l.a.createElement("td",null,a.patient_details.fullname),l.a.createElement("td",null,t[a.patient_details.sex]),l.a.createElement("td",null,a.investigation),l.a.createElement("td",null,a.result?a.result:"---"),l.a.createElement("td",null,a.is_analysed?"Yes":"NO"),l.a.createElement("td",{className:"text-center"},l.a.createElement("button",{className:"btn btn-sm p-0 border-none text-success",onClick:function(){return e.onViewLogbook(a)}},l.a.createElement("i",{className:"fa fa-book"})," Open")))}));return l.a.createElement("div",{className:"row col-12 mx-auto mt-3"},l.a.createElement("div",{className:"card col-12 card-header bg-white py-1 px-3"},l.a.createElement("div",{className:"py-1 px-2"},l.a.createElement(h.b,{to:"/"},"Home"),"  \xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/radiology"},"Radiology")," \xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/radiology/logbooks"},"Logbooks"))),l.a.createElement("div",{className:"card card-body p-0 pb-2 mt-2"},this.props.common.silent_processing?l.a.createElement("span",{className:"text-success"},l.a.createElement("i",{className:"fa fa-refresh fa-spin"})):null,l.a.createElement("table",{className:"table table-sm table-striped table-bordered"},l.a.createElement("thead",{className:"custom-bg-primary"},l.a.createElement("tr",null,l.a.createElement("th",null,"#Log"),l.a.createElement("th",null,"Patient's Name"),l.a.createElement("th",null,"Sex"),l.a.createElement("th",null,"Test"),l.a.createElement("th",null,"Result"),l.a.createElement("th",null,"Analyzed"),l.a.createElement("th",{className:"text-center"},"Action"))),l.a.createElement("tbody",null,a))))}}]),a}(n.Component),Qn=Object(d.b)((function(e){return{radiology:e.radiology,constants:e.common.CONSTANTS,common:e.common}}),{getLogBooks:function(){return function(e,t){e({type:v}),g.a.get("".concat("/api/","radiology/logbooks/"),P(t)).then((function(t){e({type:Ea,payload:t.data})})).catch((function(e){})).finally((function(){return e({type:S})}))}}})(Hn),Jn=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={tt:"---"},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.logbook;if(e&&e.sampled_at&&e.verified_at){var t=new Date(e.sampled_at),a=new Date(e.verified_at)-t,n=Math.floor(a/864e5),l=Math.floor(a%864e5/36e5),r=Math.floor(a%36e5/6e4),c=Math.floor(a%6e4/1e3),s=n+"d "+(l=l<10?"0"+l:l)+"h "+(r=r<10?"0"+r:r)+"m "+(c=c<10?"0"+c:c)+"s";this.setState({tt:s})}}},{key:"render",value:function(){var e=this.props.constants,t=e.GENDERS,a=e.MARITAL_STATUSES,n=this.props.logbook;return n?l.a.createElement("div",{className:"row col-12 mx-auto mt-3"},l.a.createElement("div",{className:"card col-12 card-header bg-white py-1 px-3"},l.a.createElement("div",{className:"py-1 px-2"},l.a.createElement(h.b,{to:"/"},"Home"),"  \xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/radiology"},"Radiology"),"  \xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/radiology/logbooks"},"Logbooks")," \xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/radiology/logbooks/".concat(this.props.match.params.pk)},n.patient_details.fullname))),l.a.createElement("div",{className:"row col-12 mx-auto mt-2",style:{minHeight:"80vh"}},l.a.createElement("div",{className:"col-3"},l.a.createElement("div",{className:"patient_profile row border border-light rounded "},l.a.createElement("div",{className:"row col-12 mx-auto justify-content-center",style:{marginTop:"2vw",zIndex:"1"}},l.a.createElement("img",{src:gt.a,alt:"DP",style:{height:"5vw",width:"5vw",borderRadius:"50%"}}),l.a.createElement("p",{className:"custom-text-primary col-12 text-center text-white mt-2"},"Patient Profile")),l.a.createElement("ul",{className:"w-100 mx-auto list-group mt-2"},l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Name:")," ",l.a.createElement("span",{style:{float:"right"}},n.patient_details.fullname)),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Sex:")," ",l.a.createElement("span",{style:{float:"right"}},t[n.patient_details.sex])),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"DoB:")," ",l.a.createElement("span",{style:{float:"right"}},new Date(n.patient_details.dob).toDateString())),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Marriage:")," ",l.a.createElement("span",{style:{float:"right"}},a[n.patient_details.marital_status])),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Mobile:")," ",l.a.createElement("span",{style:{float:"right"}},n.patient_details.phone)),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Address:")," ",l.a.createElement("span",{style:{float:"right"}},"".concat(n.patient_details.county,", ").concat(n.patient_details.country)))))),l.a.createElement("div",{className:"col-7"},l.a.createElement("div",{style:{maxHeight:"75vh",overflowY:"auto"},className:"row bg-transparent pb-3 rounded "},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header custom-bg-secondary py-1 px-3"},l.a.createElement("div",{className:"py-1 px-2"},l.a.createElement("b",null,"Logbook Details"))),l.a.createElement("div",{className:"card-body p-0"},l.a.createElement("ul",{className:"list-group"},l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Logbook Number:"),l.a.createElement("span",{style:{float:"right"}},n.id)),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Date:"),l.a.createElement("span",{style:{float:"right"}},new Date(n.sampled_at).toDateString())),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Investigation:"),l.a.createElement("span",{style:{float:"right"}},n.investigation)),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Received By:"),l.a.createElement("span",{style:{float:"right"}},n.sampled_by_user.username)))))),l.a.createElement("div",{className:"col-12 mt-2"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header custom-bg-secondary py-1 px-3"},l.a.createElement("div",{className:"py-1 px-2"},l.a.createElement("b",null,"Result Data"))),l.a.createElement("div",{className:"card-body p-0"},l.a.createElement("ul",{className:"list-group"},l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Result"),l.a.createElement("span",{style:{float:"right"}},n.is_analysed?n.result:"---")),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Turn around:"),l.a.createElement("span",{style:{float:"right"}},this.state.tt)),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Analysed By:"),l.a.createElement("span",{style:{float:"right"}},n.is_analysed?n.analysed_by_user.username:"---")))))))))):l.a.createElement(E.a,{to:"/radiology/logbooks"})}}]),a}(n.Component),zn=Object(d.b)((function(e){return{logbook:e.radiology.selected_logbook,service_list:e.hospital.service_list,constants:e.common.CONSTANTS}}))(Jn),Wn=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.loadService()}},{key:"render",value:function(){var e=l.a.createElement("div",{className:"list-group"},l.a.createElement(h.b,{to:"/radiology/queue",className:"list-group-item"},l.a.createElement("i",{className:"fa fa-users"})," Queue"),l.a.createElement(h.b,{to:"/radiology/results",className:"list-group-item"},l.a.createElement("i",{className:"fa fa-edit"})," Result entry"),l.a.createElement(h.b,{to:"/radiology/logbooks",className:"list-group-item"},l.a.createElement("i",{className:"fa fa-book"})," Logbook"));return l.a.createElement(l.a.Fragment,null,l.a.createElement(W,{menus:e}),l.a.createElement("div",{className:"row col-12 mx-auto page-container"},l.a.createElement(E.b,{path:"/radiology",render:function(e){var t=e.match.url;return l.a.createElement(l.a.Fragment,null,l.a.createElement(E.b,{path:"".concat(t),component:Gn,exact:!0}),l.a.createElement(E.b,{path:"".concat(t,"/queue"),component:Gn}),l.a.createElement(E.b,{path:"".concat(t,"/results"),component:Bn}),l.a.createElement(E.b,{path:"".concat(t,"/logbooks"),component:Qn,exact:!0}),l.a.createElement(E.b,{path:"".concat(t,"/logbooks/:pk"),component:zn}))}})))}}]),a}(n.Component),Vn=Object(d.b)((function(e){return{}}),{loadService:Be})(Wn),Kn=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={showModal:!1,selected_ward:null,name:"",bed_capacity:"",admission_fee:"",daily_fee:"",description:""},e.toggleModal=function(){return e.setState({showModal:!e.state.showModal})},e.onChange=function(t){return e.setState(Object(f.a)({},t.target.name,t.target.value))},e.onNewWard=function(){e.setState({selected_ward:null,name:"",bed_capacity:"",admission_fee:"",daily_fee:"",description:""}),e.toggleModal()},e.onEditWard=function(t){e.setState({selected_ward:t,name:t.name,bed_capacity:t.bed_capacity,admission_fee:t.admission_fee,daily_fee:t.daily_fee,description:t.description}),e.toggleModal()},e.onSubmit=function(t){t.preventDefault();var a=e.state,n=a.selected_ward,l={selected_ward:n,name:a.name,bed_capacity:a.bed_capacity,admission_fee:a.admission_fee,daily_fee:a.daily_fee,description:a.description};n?e.props.updateWard(n.id,l):e.props.addWard(l),e.toggleModal()},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props.inpatient.ward_list,a=l.a.createElement(Y.a,{isOpen:this.state.showModal},l.a.createElement(X.a,{toggle:this.toggleModal},this.state.selected_ward?l.a.createElement("span",null,l.a.createElement("i",{className:"fa fa-edit"})," Update Ward"):l.a.createElement("span",null,l.a.createElement("i",{className:"fa fa-plus-circle"})," Reister Ward")),l.a.createElement("form",{onSubmit:this.onSubmit},l.a.createElement(Z.a,null,l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("label",null,"Ward Name",l.a.createElement("sup",null,"*")),l.a.createElement("input",{className:"form-control form-control-sm",name:"name",required:!0,onChange:this.onChange,value:this.state.name})),l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("label",null,"Bed Capacity",l.a.createElement("sup",null,"*")),l.a.createElement("input",{className:"form-control form-control-sm",name:"bed_capacity",required:!0,onChange:this.onChange,value:this.state.bed_capacity,placeholder:"0"})),l.a.createElement("div",{className:"form-group col-6"},l.a.createElement("label",null,"Admission Fee (Ksh)",l.a.createElement("sup",null,"*")),l.a.createElement("input",{className:"form-control form-control-sm",name:"admission_fee",required:!0,onChange:this.onChange,value:this.state.admission_fee})),l.a.createElement("div",{className:"form-group col-6"},l.a.createElement("label",null,"Daily Accomodation Fee (ksh)",l.a.createElement("sup",null,"*")),l.a.createElement("input",{className:"form-control form-control-sm",name:"daily_fee",required:!0,onChange:this.onChange,value:this.state.daily_fee})),l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("label",null,"Description"),l.a.createElement("textarea",{className:"form-control form-control-sm",name:"description",onChange:this.onChange,value:this.state.description})))),l.a.createElement($.a,null,l.a.createElement(ee.a,{size:"sm",color:"primary",onSubmit:this.onSubmit},l.a.createElement("i",{className:"fa fa-check"})," Submit"),l.a.createElement(ee.a,{size:"sm",color:"secondary",onClick:this.toggleModal},l.a.createElement("i",{className:"fa fa-close"})," Close")))),n=t.map((function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,a+1),l.a.createElement("td",null,t.name),l.a.createElement("td",null,t.bed_capacity),l.a.createElement("td",null,t.admissions),l.a.createElement("td",null,t.admission_fee),l.a.createElement("td",null,t.daily_fee),l.a.createElement("td",null,t.description),l.a.createElement("td",{className:"text-center"},l.a.createElement("button",{className:"btn btn-sm p-0 border-none text-primary",onClick:function(){return e.onEditWard(t)}},l.a.createElement("i",{className:"fa fa-edit"})," Edit")," "," | ",l.a.createElement(h.b,{className:"btn btn-sm p-0 border-none custom-text-primary",to:"/inpatient/wards/".concat(t.id,"/patients")},l.a.createElement("i",{className:"fa fa-users"})," Patients")))}));return l.a.createElement("div",{className:"col-12 mx-auto mt-3"},a,l.a.createElement("div",{className:"card card-header bg-white py-1 px-3"},l.a.createElement("div",{className:"py-1 px-2"},l.a.createElement(h.b,{to:"/"},"Home"),"  \xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/inpatient"},"Inpatient")," \xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/inpatient/wards"},"Wards"))),l.a.createElement("div",{className:"card mt-2"},l.a.createElement("div",{className:"card-header bg-white py-1 px-3"},l.a.createElement("button",{style:{float:"right"},className:"btn btn-sm custom-bg-primary py-1 px-2 mr-auto mt-1",onClick:this.onNewWard},l.a.createElement("i",{className:"fa fa-plus-circle"})," Add Ward")),l.a.createElement("div",{className:"card-body p-0"},l.a.createElement("table",{className:"table table-sm table-bordered"},l.a.createElement("thead",{className:"custom-bg-secondary"},l.a.createElement("tr",null,l.a.createElement("th",null,"#"),l.a.createElement("th",null,"Ward Name"),l.a.createElement("th",null,"Beds"),l.a.createElement("th",null,"Admissions"),l.a.createElement("th",null,"Adm. Fee"),l.a.createElement("th",null,"Daily. Fee"),l.a.createElement("th",null,"Description"),l.a.createElement("th",{className:"text-center"},"Action"))),l.a.createElement("tbody",null,n)))))}}]),a}(n.Component),Yn=Object(d.b)((function(e){return{inpatient:e.inpatient}}),{loadWards:Va,addWard:Ka,updateWard:Ya})(Kn),Xn=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={showModal:!1,selected_ward:null,search_name:"",search_idno:"",search_ward:"",search_Result:[]},e.toggleModal=function(){return e.setState({showModal:!e.state.showModal})},e.onChange=function(t){return e.setState(Object(f.a)({},t.target.name,t.target.value))},e.onsearchPatient=function(){var t=e.state,a=t.search_name,n=t.search_idno,l=t.search_ward,r=e.props.inpatient.inpatient_files.filter((function(e){return e.patient_details.fullname.toLowerCase().includes(a.toLocaleLowerCase())||e.patient_details.idno.includes(n)||e.ward===parseInt(l)}));e.setState({search_Result:r})},e.onSelectFile=function(t){rn.dispatch({type:"SELECT_INPATIENT_FILE",payload:t}),e.props.history.push("/inpatient/patients/file/"+t.id)},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props.inpatient.ward_list,a=this.props.common.CONSTANTS,n=this.state.search_Result.map((function(n,r){return l.a.createElement("tr",{key:r},l.a.createElement("td",null,r+1),l.a.createElement("td",null,n.patient_details.fullname),l.a.createElement("td",null,a.GENDERS[n.patient_details.sex]),l.a.createElement("td",null,new Date(n.patient_details.dob).toLocaleDateString("en-UK")),l.a.createElement("td",null,new Date(n.admitted_at).toLocaleDateString("en-UK")),l.a.createElement("td",null,t.filter((function(e){return e.id===n.ward}))[0].name),l.a.createElement("td",null,n.bed),l.a.createElement("td",{className:"text-center"},l.a.createElement("button",{className:"btn btn-sm p-0 border-none text-primary",onClick:function(){return e.onSelectFile(n)}},l.a.createElement("i",{className:"fa fa-edit"})," Open file")))}));return l.a.createElement("div",{className:"col-12 mx-auto mt-3"},l.a.createElement("div",{className:"card card-header bg-white py-1 px-3"},l.a.createElement("div",{className:"py-1 px-2"},l.a.createElement(h.b,{to:"/"},"Home"),"  \xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/inpatient"},"Inpatient")," \xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/inpatient/patients"},"Patients"))),l.a.createElement("div",{className:"card mt-2"},l.a.createElement("div",{className:"card-header custom-bg-primary py-1 px-3"},l.a.createElement("div",{style:{fontSize:"1.2vw"},className:"py-1 px-2"},l.a.createElement("i",{className:"fa fa-search mr-3"})," Search admited patients")),l.a.createElement("div",{className:"card-body p-0 pb-2"},l.a.createElement("div",{className:"row col-12 mx-auto mt-3"},l.a.createElement("div",{className:"form-group  col-3"},l.a.createElement("label",null,"Patient Name"),l.a.createElement("input",{className:"form-control form-control-sm",name:"search_name",value:this.state.search_name,onChange:this.onChange,placeholder:"Enter name"})),l.a.createElement("div",{className:"form-group col-3"},l.a.createElement("label",null,"ID Number"),l.a.createElement("input",{className:"form-control form-control-sm",name:"search_idno",value:this.state.search_idno,onChange:this.onChange,placeholder:"Enter ID number"})),l.a.createElement("div",{className:"form-group  col-3"},l.a.createElement("label",null,"Ward"),l.a.createElement("select",{className:"form-control form-control-sm",name:"search_ward",value:this.state.search_ward,onChange:this.onChange},l.a.createElement("option",{value:""},"Select"),t.map((function(e,t){return l.a.createElement("option",{key:t,value:e.id},e.name)})))),l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("button",{className:"btn btn-sm btn-outline-success custom-text-primary",onClick:this.onsearchPatient},l.a.createElement("i",{className:"fa fa-search mr-2"})," Find Patient"))))),l.a.createElement("div",{className:"card card-body p-0 mt-2"},l.a.createElement("table",{className:"table table-sm table-bordered m-0"},l.a.createElement("caption",null,l.a.createElement("i",null,"Search result")),l.a.createElement("thead",{className:"custom-bg-secondary"},l.a.createElement("tr",null,l.a.createElement("th",null,"#"),l.a.createElement("th",null,"Patient"),l.a.createElement("th",null,"Sex"),l.a.createElement("th",null,"DoB"),l.a.createElement("th",null,"DoA"),l.a.createElement("th",null,"Ward"),l.a.createElement("th",null,"Bed"),l.a.createElement("th",{className:"text-center"},"Action"))),l.a.createElement("tbody",null,n))))}}]),a}(n.Component),Zn=Object(d.b)((function(e){return{inpatient:e.inpatient,common:e.common}}),{loadWards:Va,addWard:Ka,updateWard:Ya})(Xn),$n=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={patient_search_name:"",patient_search_phone:"",patient_search_idno:""},e.onChange=function(t){return e.setState(Object(f.a)({},t.target.name,t.target.value))},e.onsearchPatient=function(){var t={fullname:e.state.patient_search_name,idno:e.state.patient_search_idno,phone:e.state.patient_search_phone};e.props.searchPatients(t)},e.selectPatient=function(t){rn.dispatch({type:"SELECT_PATIENT_TO_ADMIT",payload:t}),e.props.history.push("/inpatient/admission/patient/"+t.id+"/admit")},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props.common.CONSTANTS.GENDERS,a=this.props.patients.patients_list.map((function(a,n){return l.a.createElement("tr",{key:n},l.a.createElement("td",null,a.id),l.a.createElement("td",null,a.fullname),l.a.createElement("td",null,t[a.sex]),l.a.createElement("td",null,a.phone),l.a.createElement("td",null,"".concat(a.county,", ").concat(a.country)),l.a.createElement("td",{className:"text-center"},l.a.createElement("button",{className:"btn btn-sm p-0 border-none text-success",onClick:function(){return e.selectPatient(a)}},l.a.createElement("i",{className:"fa fa-edit"})," Admit Patient")))}));return l.a.createElement("div",{className:"col-12 mx-auto mt-3"},l.a.createElement("div",{className:"card card-header bg-white py-1 px-3"},l.a.createElement("div",{className:"py-1 px-2"},l.a.createElement(h.b,{to:"/"},"Home"),"  \xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/inpatient"},"Inpatient")," \xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/inpatient/admission"},"Admission"))),l.a.createElement("div",{className:"mt-3"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header custom-bg-secondary py-1 px-3"},l.a.createElement("div",{style:{fontSize:"1.2vw"},className:"py-1 px-2"},l.a.createElement("i",{className:"fa fa-search mr-3"})," Search patients to admit")),l.a.createElement("div",{className:"card-body p-0 pb-2"},l.a.createElement("div",{className:"row col-12 mx-auto mt-3"},l.a.createElement("div",{className:"form-group  col-3"},l.a.createElement("label",null,"Patient Name"),l.a.createElement("input",{className:"form-control form-control-sm",name:"patient_search_name",value:this.state.patient_search_name,onChange:this.onChange,placeholder:"Enter name"})),l.a.createElement("div",{className:"form-group  col-3"},l.a.createElement("label",null,"Mobile"),l.a.createElement("input",{className:"form-control form-control-sm",name:"patient_search_phone",value:this.state.patient_search_phone,onChange:this.onChange,placeholder:"Enter phone number"})),l.a.createElement("div",{className:"form-group col-3"},l.a.createElement("label",null,"ID Number"),l.a.createElement("input",{className:"form-control form-control-sm",name:"patient_search_idno",value:this.state.patient_search_idno,onChange:this.onChange,placeholder:"Enter ID number"})),l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("button",{className:"btn btn-sm btn-outline-success custom-text-primary",onClick:this.onsearchPatient},l.a.createElement("i",{className:"fa fa-search mr-2"})," Find Patient"))))),l.a.createElement("div",{className:"card card-body mt-4 p-0"},l.a.createElement("table",{className:"table table-sm table-striped table-bordered"},l.a.createElement("caption",{className:"px-2"},l.a.createElement("i",null,"Search results")),l.a.createElement("thead",{className:"custom-bg-primary"},l.a.createElement("tr",null,l.a.createElement("th",null,"#Reg."),l.a.createElement("th",null,"Full name"),l.a.createElement("th",null,"Gender"),l.a.createElement("th",null,"Mobile"),l.a.createElement("th",null,"Address"),l.a.createElement("th",{className:"text-center"},"Action"))),l.a.createElement("tbody",null,a)))))}}]),a}(n.Component),el=Object(d.b)((function(e){return{patients:e.patients,common:e.common}}),{searchPatients:pe})($n),tl=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={showModal:!1,stage:1,ward:"",bed:"",admission_notes:"",selected_services:[],search_result:[]},e.onChange=function(t){return e.setState(Object(f.a)({},t.target.name,t.target.value))},e.toggleModal=function(){return e.setState({showModal:!e.state.showModal})},e.onSearch=function(t){var a=t.target.value,n=e.props.service_list.filter((function(e){return e.name.toLowerCase().includes(a.toLowerCase())&&6===e.department})).slice(0,20);e.setState({search_result:n})},e.submitWardBed=function(t){t.preventDefault(),e.setState({stage:2})},e.onAddService=function(t){e.setState({selected_services:[].concat(Object(ct.a)(e.state.selected_services.filter((function(e){return e.id!==t.id}))),[t])}),e.toggleModal()},e.removeService=function(t){e.setState({selected_services:Object(ct.a)(e.state.selected_services.filter((function(e){return e.id!==t.id})))})},e.submitServices=function(){e.setState({stage:3})},e.onAdmitPatient=function(){var t={patient:e.props.selected_patient.id,service_requests:e.state.selected_services,ward:e.state.ward,bed:e.state.bed,admission_notes:e.state.admission_notes};e.props.admitPatient(t),e.props.history.push("/inpatient/admission")},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props.inpatient.ward_list,a=this.props.common.CONSTANTS,n=a.GENDERS,r=a.MARITAL_STATUSES,c=this.props.selected_patient;if(!c)return l.a.createElement(E.a,{to:"/inpatient/admission"});var s=l.a.createElement(Y.a,{isOpen:this.state.showModal,size:"md"},l.a.createElement(X.a,{toggle:this.toggleModal},l.a.createElement("i",{className:"fa fa-plus-circle"})," Add charges"),l.a.createElement(Z.a,null,l.a.createElement("div",{className:"form-row"},l.a.createElement("input",{className:"form-control col-12",name:"search_name",onChange:this.onSearch,placeholder:"Search..."}),this.state.search_result.length>0?l.a.createElement("table",{className:"table table-sm table-bordered mt-2"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"#"),l.a.createElement("th",null,"Service name"),l.a.createElement("th",null,"Price"),l.a.createElement("th",{className:"text-center"},"Action"))),l.a.createElement("tbody",null,this.state.search_result.map((function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,a+1),l.a.createElement("td",null,t.name),l.a.createElement("td",null,t.price),l.a.createElement("td",{className:"text-center"},l.a.createElement("button",{className:"btn btn-sm p-0 border-none text-primary",onClick:function(){return e.onAddService(t)}},l.a.createElement("i",{className:"fa fa-plus"})," Add")))})))):null)));return l.a.createElement("div",{className:"col-12 mx-auto mt-3"},s,l.a.createElement("div",{className:"card card-header bg-white py-1 px-3"},l.a.createElement("div",{className:"py-1 px-2"},l.a.createElement(h.b,{to:"/"},"Home"),"  \xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/inpatient"},"Inpatient")," \xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/inpatient/admission"},"Admission"),"\xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/inpatient/admission/patient/".concat(this.props.match.params.pk,"/admit")},c.fullname))),l.a.createElement("div",{className:"row col-12 mx-auto mt-2",style:{minHeight:"80vh"}},l.a.createElement("div",{className:"col-3"},l.a.createElement("div",{className:"patient_profile p-0 border border-light rounded "},l.a.createElement("div",{className:"row mx-auto justify-content-center mt-4"},l.a.createElement("img",{src:gt.a,alt:"DP",style:{height:"5vw",width:"5vw",borderRadius:"50%"}}),l.a.createElement("p",{className:"custom-text-primary col-12 text-center text-white mt-2"},"Patient Profile")),l.a.createElement("ul",{className:"w-100 mx-auto list-group mt-2"},l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Name:")," ",l.a.createElement("span",{style:{float:"right"}},c.fullname)),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Sex:")," ",l.a.createElement("span",{style:{float:"right"}},n[c.sex])),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"DoB:")," ",l.a.createElement("span",{style:{float:"right"}},new Date(c.dob).toDateString("en-UK"))),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Marriage:")," ",l.a.createElement("span",{style:{float:"right"}},r[c.marital_status])),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Mobile:")," ",l.a.createElement("span",{style:{float:"right"}},c.phone)),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Address:")," ",l.a.createElement("span",{style:{float:"right"}},"".concat(c.county,", ").concat(c.country)))))),l.a.createElement("div",{className:"col-7"},1===this.state.stage?l.a.createElement("div",{className:"card",style:{maxHeight:"75vh",overflowY:"auto"}},l.a.createElement("div",{className:"card-header custom-bg-secondary px-3 py-2"},l.a.createElement("div",{style:{fontSize:"1.2vw"}},"Select Ward & Bed")),l.a.createElement("div",{className:"card-body"},l.a.createElement("form",{onSubmit:this.submitWardBed},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Ward"),l.a.createElement("select",{className:"form-control",name:"ward",required:!0,onChange:this.onChange,value:this.state.ward},l.a.createElement("option",{value:""},"Select"),t.map((function(e,t){return l.a.createElement("option",{key:t,value:e.id},e.name)})))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Bed Number"),l.a.createElement("input",{className:"form-control",name:"bed",required:!0,onChange:this.onChange,value:this.state.bed})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Admission Notes"),l.a.createElement("textarea",{className:"form-control",name:"admission_notes",required:!0,onChange:this.onChange,value:this.state.admission_notes})),l.a.createElement("div",{className:"form-group"},l.a.createElement("button",{className:"btn btn-outline-primary",onSubmit:this.submitWardBed},"Next"))))):2===this.state.stage?l.a.createElement("div",{className:"card",style:{maxHeight:"75vh",overflowY:"auto"}},l.a.createElement("div",{className:"card-header custom-bg-secondary py-1 px-3"},l.a.createElement("div",{style:{fontSize:"1.2vw",float:"left"},className:"py-1 px-2"},"Admission Charges  & Services"),l.a.createElement("button",{style:{float:"right"},className:"btn btn-sm bg-light text-dark py-0 px-2 mr-auto mt-1",onClick:this.toggleModal},l.a.createElement("i",{className:"fa fa-plus-circle mr-2"})," Add")),l.a.createElement("div",{className:"card-body p-0 mt-0"},l.a.createElement("table",{className:"table table-sm table-bordered m-0"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"#"),l.a.createElement("th",null,"Service"),l.a.createElement("th",null,"Cost"),l.a.createElement("th",{className:"text-center"},"Action"))),l.a.createElement("tbody",null,this.state.selected_services.map((function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,a+1),l.a.createElement("td",null,t.name),l.a.createElement("td",null,t.price),l.a.createElement("td",{className:"text-center"},l.a.createElement("button",{className:"btn btn-sm border-none text-danger",onClick:function(){return e.removeService(t)}},l.a.createElement("i",{className:"fa fa-close"})," Remove")))})))),l.a.createElement("div",{className:"form-group col-12 mx-auto mt-3"},0===this.state.selected_services.length?l.a.createElement("button",{className:"btn btn-sm btn-outline-secondary",onClick:this.submitServices}," Skip"):l.a.createElement("button",{className:"btn btn-sm btn-outline-primary",onClick:this.submitServices}," Next")))):3===this.state.stage?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header custom-bg-secondary px-3 py-2"},l.a.createElement("div",{style:{fontSize:"1.2vw"}},"Select Ward & Bed")),l.a.createElement("div",{className:"card-body p-0"},l.a.createElement("ul",{className:"w-100 mx-auto list-group"},l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Ward:")," ",l.a.createElement("span",{style:{float:"right"}},t.filter((function(t){return t.id===parseInt(e.state.ward)}))[0].name)),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Bed:")," ",l.a.createElement("span",{style:{float:"right"}},this.state.bed)),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Notes:")," ",l.a.createElement("span",{style:{float:"right"}},this.state.admission_notes))))),l.a.createElement("div",{className:"card mt-3"},l.a.createElement("div",{className:"card-header custom-bg-secondary px-3 py-2"},l.a.createElement("div",{style:{fontSize:"1.2vw"}},"Selected services")),l.a.createElement("div",{className:"card-body p-0"},l.a.createElement("ul",{className:"w-100 mx-auto list-group"},this.state.selected_services.map((function(e,t){return l.a.createElement("li",{key:t,className:"list-group-item"},l.a.createElement("span",{className:"m-0"},e.name),l.a.createElement("span",{style:{float:"right"}},e.price))}))),l.a.createElement("div",{className:"form-group col-12 mx-auto mt-3"},l.a.createElement("button",{className:"btn btn-sm btn-primary",onClick:this.onAdmitPatient}," Admit Patient"))))):null)))}}]),a}(n.Component),al=Object(d.b)((function(e){return{inpatient:e.inpatient,service_list:e.hospital.service_list,selected_patient:e.inpatient.selected_patient,common:e.common}}),{admitPatient:function(e){return function(t,a){t({type:y}),g.a.post("".concat("/api/","inpatient/admission/"),JSON.stringify(e),P(a)).then((function(e){t({type:Wa,payload:e.data}),t({type:N,message:"Admission details saved succesfully"})})).catch((function(e){t({type:_,error:e})})).finally((function(){t({type:S})}))}}})(tl),nl=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={showModal:!1,selected_intervention:null,note:""},e.componentDidMount=function(){e.props.getInterventions(e.props.health_file.id)},e.onChange=function(t){return e.setState(Object(f.a)({},t.target.name,t.target.value))},e.toggleModal=function(){return e.setState({showModal:!e.state.showModal})},e.onNewIntervention=function(){e.setState({selected_intervention:null,note:""}),e.toggleModal()},e.onEditIntervention=function(t){e.setState({showModal:!e.state.showModal,selected_intervention:t,note:t.note})},e.onSubmit=function(t){t.preventDefault();var a=e.state,n=a.selected_intervention,l=a.note;if(l){var r={health_file:e.props.health_file.id,note:l};n?e.props.updateIntervention(e.props.health_file.id,n.id,r):e.props.addIntervention(e.props.health_file.id,r),e.toggleModal()}},e.onDelete=function(t){e.props.deleteIntervention(e.props.health_file.id,t.id)},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props.interventions,a=l.a.createElement(Y.a,{isOpen:this.state.showModal,size:"md"},l.a.createElement(X.a,{toggle:this.toggleModal},this.state.selected_intervention?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fa fa-edit"})," Edit Intervention"):l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fa fa-plus-circle"})," Add Intervention")),l.a.createElement("form",{onSubmit:this.onSubmit},l.a.createElement(Z.a,null,l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Nursing Notes:"),l.a.createElement("textarea",{className:"form-control form-control-sm",name:"note",value:this.state.note,onChange:this.onChange,required:!0,placeholder:"Nursing intervention notes...",style:{minHeight:"200px"}}))),l.a.createElement($.a,null,l.a.createElement(ee.a,{type:"submit",color:"primary",size:"sm",onClick:this.onSubmit},l.a.createElement("i",{className:"fa fa-check"})," Submit"),l.a.createElement(ee.a,{color:"secondary",size:"sm",onClick:this.toggleModal},l.a.createElement("i",{className:"fa fa-close"})," Cancel"))));return l.a.createElement(l.a.Fragment,null,a,l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header custom-bg-secondary py-1 px-3"},l.a.createElement("div",{style:{float:"left"},className:"py-1 px-2"},"Nursing Intervention"),l.a.createElement("button",{style:{float:"right"},className:"btn btn-sm bg-light text-dark py-0 px-2 mr-auto mt-1",onClick:this.onNewIntervention},l.a.createElement("i",{className:"fa fa-plus-circle mr-2"})," Add")),l.a.createElement("div",{className:"card-body p-0 mt-0"},l.a.createElement("table",{className:"table table-sm table-bordered table-striped m-0"},l.a.createElement("thead",{className:""},l.a.createElement("tr",null,l.a.createElement("th",null,"#"),l.a.createElement("th",null,"Date/Time"),l.a.createElement("th",null,"Nursing Intervention/Remarks"),l.a.createElement("th",null,"Nurse"),l.a.createElement("th",{className:"text-center"},"Action"))),l.a.createElement("tbody",null,t.map((function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,a+1),l.a.createElement("td",null,new Date(t.created_at).toLocaleDateString()),l.a.createElement("td",null,t.note),l.a.createElement("td",null,t.created_by_user.username),l.a.createElement("td",{className:"text-center"},l.a.createElement("button",{className:"btn btn-sm p-0 border-none text-success",onClick:function(){return e.onEditIntervention(t)}},l.a.createElement("i",{className:"fa fa-edit"}))," | ",l.a.createElement("button",{className:"btn btn-sm p-0 border-none text-danger",onClick:function(){return e.onDelete(t)}},l.a.createElement("i",{className:"fa fa-close"}))))})))))))}}]),a}(n.Component),ll=Object(d.b)((function(e){return{health_file:e.inpatient.selected_health_file,interventions:e.inpatient.interventions,common:e.common}}),{getInterventions:function(e){return function(t,a){t({type:y}),g.a.get("".concat("/api/","inpatient/files/").concat(e,"/interventions/"),P(a)).then((function(e){t({type:Oa,payload:e.data})})).catch((function(e){})).finally((function(){return t({type:S})}))}},addIntervention:function(e,t){return function(a,n){a({type:y}),g.a.post("".concat("/api/","inpatient/files/").concat(e,"/interventions/"),JSON.stringify(t),P(n)).then((function(e){a({type:wa,payload:e.data})})).catch((function(e){})).finally((function(){return a({type:S})}))}},updateIntervention:function(e,t,a){return function(n,l){n({type:y}),g.a.put("".concat("/api/","inpatient/files/").concat(e,"/interventions/").concat(t),JSON.stringify(a),P(l)).then((function(e){n({type:Ca,payload:e.data})})).catch((function(e){})).finally((function(){return n({type:S})}))}},deleteIntervention:function(e,t){return function(a,n){a({type:y}),g.a.delete("".concat("/api/","inpatient/files/").concat(e,"/interventions/").concat(t),P(n)).then((function(e){a({type:xa,payload:t})})).catch((function(e){})).finally((function(){return a({type:S})}))}}})(nl),rl=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={showModal:!1,selected_review:null,note:""},e.componentDidMount=function(){e.props.getReviews(e.props.health_file.id)},e.onChange=function(t){return e.setState(Object(f.a)({},t.target.name,t.target.value))},e.toggleModal=function(){return e.setState({showModal:!e.state.showModal})},e.onNewReview=function(){e.setState({selected_review:null,condition:"",note:""}),e.toggleModal()},e.onEditReview=function(t){e.setState({showModal:!e.state.showModal,selected_review:t,condition:t.condition,note:t.note})},e.onSubmit=function(t){t.preventDefault();var a=e.state,n=a.selected_review,l=a.condition,r=a.note;if(r){var c={health_file:e.props.health_file.id,condition:l,note:r};n?e.props.updateReview(e.props.health_file.id,n.id,c):e.props.addReview(e.props.health_file.id,c),e.toggleModal()}},e.onDelete=function(t){e.props.deleteReview(e.props.health_file.id,t.id)},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props.reviews,a=l.a.createElement(Y.a,{isOpen:this.state.showModal,size:"md"},l.a.createElement(X.a,{toggle:this.toggleModal},this.state.selected_review?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fa fa-edit"})," Edit Review"):l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fa fa-plus-circle"})," Add Review")),l.a.createElement("form",{onSubmit:this.onSubmit},l.a.createElement(Z.a,null,l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Patient condition/feeling:"),l.a.createElement("textarea",{className:"form-control form-control-sm",name:"condition",value:this.state.condition,onChange:this.onChange,required:!0,placeholder:"Describe how the patient is feeling during this review...",style:{minHeight:"150px"}})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Doctor Notes:"),l.a.createElement("textarea",{className:"form-control form-control-sm",name:"note",value:this.state.note,onChange:this.onChange,required:!0,placeholder:"Doctor review notes...",style:{minHeight:"150px"}}))),l.a.createElement($.a,null,l.a.createElement(ee.a,{type:"submit",color:"primary",size:"sm",onClick:this.onSubmit},l.a.createElement("i",{className:"fa fa-check"})," Submit"),l.a.createElement(ee.a,{color:"secondary",size:"sm",onClick:this.toggleModal},l.a.createElement("i",{className:"fa fa-close"})," Cancel"))));return l.a.createElement(l.a.Fragment,null,a,l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header custom-bg-secondary py-1 px-3"},l.a.createElement("div",{style:{float:"left"},className:"py-1 px-2"},"Doctor Review"),l.a.createElement("button",{style:{float:"right"},className:"btn btn-sm bg-light text-dark py-0 px-2 mr-auto mt-1",onClick:this.onNewReview},l.a.createElement("i",{className:"fa fa-plus-circle mr-2"})," Add")),l.a.createElement("div",{className:"card-body p-0 mt-0"},l.a.createElement("table",{className:"table table-sm table-bordered table-striped m-0"},l.a.createElement("thead",{className:""},l.a.createElement("tr",null,l.a.createElement("th",null,"#"),l.a.createElement("th",null,"Date"),l.a.createElement("th",null,"Condition"),l.a.createElement("th",null,"Review notes"),l.a.createElement("th",null,"Doctor"),l.a.createElement("th",{className:"text-center"},"Action"))),l.a.createElement("tbody",null,t.map((function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,a+1),l.a.createElement("td",null,new Date(t.created_at).toLocaleDateString()),l.a.createElement("td",null,t.condition),l.a.createElement("td",null,t.note),l.a.createElement("td",null,t.created_by_user.username),l.a.createElement("td",{className:"text-center"},l.a.createElement("button",{className:"btn btn-sm p-0 border-none text-success",onClick:function(){return e.onEditReview(t)}},l.a.createElement("i",{className:"fa fa-edit"}))," | ",l.a.createElement("button",{className:"btn btn-sm p-0 border-none text-danger",onClick:function(){return e.onDelete(t)}},l.a.createElement("i",{className:"fa fa-close"}))))})))))))}}]),a}(n.Component),cl=Object(d.b)((function(e){return{health_file:e.inpatient.selected_health_file,reviews:e.inpatient.reviews,common:e.common}}),{getReviews:function(e){return function(t,a){t({type:y}),g.a.get("".concat("/api/","inpatient/files/").concat(e,"/reviews/"),P(a)).then((function(e){t({type:ja,payload:e.data})})).catch((function(e){})).finally((function(){return t({type:S})}))}},addReview:function(e,t){return function(a,n){a({type:y}),g.a.post("".concat("/api/","inpatient/files/").concat(e,"/reviews/"),JSON.stringify(t),P(n)).then((function(e){a({type:ka,payload:e.data})})).catch((function(e){})).finally((function(){return a({type:S})}))}},updateReview:function(e,t,a){return function(n,l){n({type:y}),g.a.put("".concat("/api/","inpatient/files/").concat(e,"/reviews/").concat(t),JSON.stringify(a),P(l)).then((function(e){n({type:Da,payload:e.data})})).catch((function(e){})).finally((function(){return n({type:S})}))}},deleteReview:function(e,t){return function(a,n){a({type:y}),g.a.delete("".concat("/api/","inpatient/files/").concat(e,"/reviews/").concat(t),P(n)).then((function(e){a({type:Ma,payload:t})})).catch((function(e){})).finally((function(){return a({type:S})}))}}})(rl),sl=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={showModal:!1,search_result:[]},e.componentDidMount=function(){e.props.getInvestigations(e.props.health_file.id)},e.onChange=function(t){var a=t.target.value,n=e.props.service_list.filter((function(e){return(3===e.department||4===e.department)&&e.name.toLowerCase().includes(a.toLowerCase())}));n=n.slice(0,10),e.setState({search_result:n})},e.toggleModal=function(){return e.setState({showModal:!e.state.showModal})},e.onNewObservation=function(){e.setState({showModal:!e.state.showModal,search_result:[]})},e.onAddInvestigation=function(t){var a={service:t.id};e.props.addInvestigation(e.props.health_file.id,a),e.setState({showModal:!e.state.showModal})},e.onDeleteInvestigation=function(t){e.props.deleteInvestigation(e.props.health_file.id,t.id)},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props.investigations,a=l.a.createElement(Y.a,{isOpen:this.state.showModal,size:"md"},l.a.createElement(X.a,{toggle:this.toggleModal},"Add investigation requests"),l.a.createElement(Z.a,null,l.a.createElement("div",{className:"form-row"},l.a.createElement("input",{className:"form-control col-12",name:"search_name",onChange:this.onChange,placeholder:"Search..."}),this.state.search_result.length>0?l.a.createElement("table",{className:"table table-sm table-bordered mt-2"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"#"),l.a.createElement("th",null,"Service name"),l.a.createElement("th",null,"Price"),l.a.createElement("th",{className:"text-center"},"Action"))),l.a.createElement("tbody",null,this.state.search_result.map((function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,a+1),l.a.createElement("td",null,t.name),l.a.createElement("td",null,t.price),l.a.createElement("td",{className:"text-center"},l.a.createElement("button",{className:"btn btn-sm p-0 border-none text-primary",onClick:function(){return e.onAddInvestigation(t)}},l.a.createElement("i",{className:"fa fa-plus"})," Add")))})))):null)));return l.a.createElement(l.a.Fragment,null,a,l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header custom-bg-secondary py-1 px-3"},l.a.createElement("div",{style:{fontSize:"1vw",float:"left"},className:"py-1 px-2"},"Laboratory  \xa0 & \xa0 Radiology Requests"),l.a.createElement("button",{style:{float:"right"},className:"btn btn-sm bg-light text-dark py-0 px-2 mr-auto mt-1",onClick:this.onNewObservation},l.a.createElement("i",{className:"fa fa-plus-circle mr-2"})," Add")),l.a.createElement("div",{className:"card-body p-0 mt-0"},l.a.createElement("table",{className:"table table-sm table-bordered m-0"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"#"),l.a.createElement("th",null,"Investigation"),l.a.createElement("th",null,"Status"),l.a.createElement("th",null,"Result"),l.a.createElement("th",{className:"text-center"},"Action"))),l.a.createElement("tbody",null,t.map((function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,a+1),l.a.createElement("td",null,t.service_details.name),l.a.createElement("td",null,t.is_served?"Ready":"In progress"),l.a.createElement("td",null,t.description?t.description:"--"),l.a.createElement("td",{className:"text-center"},t.is_served?3===t.department?l.a.createElement(h.b,{to:"/laboratory/logbooks/".concat(t.id)},"View result"):l.a.createElement(h.b,{to:"/radiology/logbooks/".concat(t.id)},"View result"):l.a.createElement("button",{className:"btn btn-sm p-0 border-none text-danger",onClick:function(){return e.onDeleteInvestigation(t)}},l.a.createElement("i",{className:"fa fa-close"})," Remove")))})))))))}}]),a}(n.Component),ol=Object(d.b)((function(e){return{health_file:e.inpatient.selected_health_file,investigations:e.inpatient.investigations,common:e.common,service_list:e.hospital.service_list}}),{getInvestigations:function(e){return function(t,a){t({type:y}),g.a.get("".concat("/api/","inpatient/files/").concat(e,"/investigations/"),P(a)).then((function(e){t({type:Ia,payload:e.data})})).catch((function(e){})).finally((function(){return t({type:S})}))}},addInvestigation:function(e,t){return function(a,n){a({type:y}),g.a.post("".concat("/api/","inpatient/files/").concat(e,"/investigations/"),JSON.stringify(t),P(n)).then((function(e){a({type:Pa,payload:e.data})})).catch((function(e){})).finally((function(){return a({type:S})}))}},deleteInvestigation:function(e,t){return function(a,n){a({type:y}),g.a.delete("".concat("/api/","inpatient/files/").concat(e,"/investigations/").concat(t),P(n)).then((function(e){a({type:Ta,payload:t})})).catch((function(e){})).finally((function(){return a({type:S})}))}}})(sl),il=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={showModal:!1,search_list:[],selected_drug:null,dosage:"",frequency:"",days:"",dos_2_qnty:0,quantity:1},e.componentDidMount=function(){e.props.getPrescriptions(e.props.health_file.id)},e.onSearch=function(t){var a=t.target.value,n=e.props.service_list.filter((function(e){return e.name.toLowerCase().includes(a.toLowerCase())&&5===e.department})).slice(0,15);e.setState({search_list:n})},e.onChange=function(t){return e.setState(Object(f.a)({},t.target.name,t.target.value),(function(){return e.calculateDosage()}))},e.calculateDosage=function(){var t=1;1===parseInt(e.state.dos_2_qnty)&&(t=e.state.dosage*e.state.frequency*e.state.days),e.setState({quantity:t})},e.toggleModal=function(){return e.setState({showModal:!e.state.showModal})},e.onNewPrescription=function(t){e.setState({selected_drug:null,dosage:"",frequency:"",days:"",quantity:1}),e.toggleModal()},e.onSelectDrug=function(t){e.setState({selected_drug:t,dosage:"",frequency:"",days:"",quantity:1})},e.onSubmit=function(t){t.preventDefault();var a=e.state,n=a.selected_drug,l=a.dosage,r=a.frequency,c=a.days,s=a.quantity,o={service:n.id,description:l+"x"+r+"x"+c,quantity:s};e.props.addPrescription(e.props.health_file.id,o),e.toggleModal()},e.onDeletePresciption=function(t){e.props.deletePrescription(e.props.health_file.id,t.id)},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.state.selected_drug,a=this.props.prescriptions,n=l.a.createElement(Y.a,{isOpen:this.state.showModal,size:"lg"},l.a.createElement(X.a,{toggle:this.toggleModal},l.a.createElement("i",{className:"fa fa-plus-circle"})," Add prescription"),l.a.createElement("form",{onSubmit:this.onSubmit},l.a.createElement(Z.a,null,l.a.createElement("div",{className:"row col-12"},l.a.createElement("div",{className:"col-5"},l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("input",{className:"form-control form-control-sm",onChange:this.onSearch,placeholder:"Search..."})),l.a.createElement("div",{className:"col-12"},l.a.createElement("table",{className:"table table-sm table-bordered"},l.a.createElement("caption",null,"Drugs list"),l.a.createElement("thead",{className:"custom-bg-primary"},l.a.createElement("tr",null,l.a.createElement("td",null,"Drug name"),l.a.createElement("td",null,"Cost"))),l.a.createElement("tbody",null,this.state.search_list.map((function(t,a){return l.a.createElement("tr",{key:a,style:{cursor:"pointer"},onClick:function(){return e.onSelectDrug(t)}},l.a.createElement("td",null,t.name),l.a.createElement("td",null,t.price))})))))),t?l.a.createElement("div",{className:"row col-7"},l.a.createElement("div",{className:"form-group  col-12"},l.a.createElement("label",null,"Drug name"),l.a.createElement("input",{className:"form-control form-control-sm",readOnly:!0,value:t.name})),l.a.createElement("div",{className:"form-group col-6"},l.a.createElement("label",null,"In store"),l.a.createElement("input",{className:"form-control form-control-sm",readOnly:!0,value:t.quantity_in_store})),l.a.createElement("div",{className:"form-group col-6"},l.a.createElement("label",null,"Cost"),l.a.createElement("input",{className:"form-control form-control-sm",readOnly:!0,value:t.price,onChange:this.onChange})),l.a.createElement("div",{className:"form-group col-4"},l.a.createElement("label",null,"Dosage"),l.a.createElement("input",{className:"form-control form-control-sm",name:"dosage",required:!0,value:this.state.dosage,onChange:this.onChange})),l.a.createElement("div",{className:"form-group col-4"},l.a.createElement("label",null,"Frequency"),l.a.createElement("input",{className:"form-control form-control-sm",name:"frequency",required:!0,value:this.state.frequency,onChange:this.onChange})),l.a.createElement("div",{className:"form-group col-4"},l.a.createElement("label",null,"Days"),l.a.createElement("input",{className:"form-control form-control-sm",name:"days",required:!0,value:this.state.days,onChange:this.onChange})),l.a.createElement("div",{className:"form-group col-6"},l.a.createElement("label",null,"Dosage to Quantity ?"),l.a.createElement("select",{className:"form-control form-control-sm",name:"dos_2_qnty",required:!0,value:this.state.dos_2_qnty,onChange:this.onChange},l.a.createElement("option",{value:0},"No"),l.a.createElement("option",{value:1},"Yes"))),l.a.createElement("div",{className:"form-group col-6"},l.a.createElement("label",null,"Prescription Quantity"),l.a.createElement("input",{className:"form-control form-control-sm",name:"quantity",required:!0,value:this.state.quantity,onChange:this.onChange}))):null)),l.a.createElement($.a,null,l.a.createElement(ee.a,{type:"submit",color:"primary",size:"sm",onClick:this.onSubmit},l.a.createElement("i",{className:"fa fa-check"})," Submit"),l.a.createElement(ee.a,{color:"secondary",size:"sm",onClick:this.toggleModal},l.a.createElement("i",{className:"fa fa-close"})," Cancel"))));return l.a.createElement(l.a.Fragment,null,n,l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header custom-bg-secondary py-1 px-3"},l.a.createElement("div",{style:{fontSize:"1vw",float:"left"},className:"py-1 px-2"},"Drug  \xa0 & \xa0 Medicine Prescriptions"),l.a.createElement("button",{style:{float:"right"},className:"btn btn-sm bg-light text-dark py-0 px-2 mr-auto mt-1",onClick:this.onNewPrescription},l.a.createElement("i",{className:"fa fa-plus-circle mr-2"})," Add")),l.a.createElement("div",{className:"card-body p-0 mt-0"},l.a.createElement("table",{className:"table table-sm table-bordered m-0"},l.a.createElement("thead",{className:""},l.a.createElement("tr",null,l.a.createElement("th",null,"#"),l.a.createElement("th",null,"Drug"),l.a.createElement("th",null,"Dosage"),l.a.createElement("th",null,"Status"),l.a.createElement("th",{className:"text-center"},"Action"))),l.a.createElement("tbody",null,a.map((function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,a+1),l.a.createElement("td",null,t.service_details.name),l.a.createElement("td",null,t.description),l.a.createElement("td",null,t.is_served?l.a.createElement("span",{className:"text-success"},"Dispensed"):"Pending"),l.a.createElement("td",null,t.is_served?"Served":l.a.createElement("button",{className:"btn btn-sm p-0 border-none text-danger",onClick:function(){return e.onDeletePresciption(t)}},l.a.createElement("i",{className:"fa fa-close"})," Remove")))})))))))}}]),a}(n.Component),ml=Object(d.b)((function(e){return{health_file:e.inpatient.selected_health_file,prescriptions:e.inpatient.prescriptions,common:e.common,service_list:e.hospital.service_list}}),{getPrescriptions:function(e){return function(t,a){t({type:y}),g.a.get("".concat("/api/","inpatient/files/").concat(e,"/prescriptions/"),P(a)).then((function(e){t({type:qa,payload:e.data})})).catch((function(e){})).finally((function(){return t({type:S})}))}},addPrescription:function(e,t){return function(a,n){a({type:y}),g.a.post("".concat("/api/","inpatient/files/").concat(e,"/prescriptions/"),JSON.stringify(t),P(n)).then((function(e){a({type:Ra,payload:e.data})})).catch((function(e){})).finally((function(){return a({type:S})}))}},deletePrescription:function(e,t){return function(a,n){a({type:y}),g.a.delete("".concat("/api/","inpatient/files/").concat(e,"/prescriptions/").concat(t),P(n)).then((function(e){a({type:La,payload:t})})).catch((function(e){})).finally((function(){return a({type:S})}))}}})(il),ul=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={showModal:!1,search_list:[],selected_item:null,quantity:""},e.componentDidMount=function(){e.props.getChargeables(e.props.health_file.id)},e.onSearch=function(t){var a=t.target.value,n=e.props.service_list.filter((function(e){return e.name.toLowerCase().includes(a.toLowerCase())})).slice(0,15);e.setState({search_list:n})},e.onChange=function(t){return e.setState(Object(f.a)({},t.target.name,t.target.value))},e.toggleModal=function(){return e.setState({showModal:!e.state.showModal})},e.onNewChargeable=function(t){e.setState({selected_item:null,dosage:"",frequency:"",days:"",quantity:""}),e.toggleModal()},e.onSelectItem=function(t){e.setState({selected_item:t})},e.onSubmit=function(t){t.preventDefault();var a=e.state,n=a.selected_item,l=a.quantity,r={service:n.id,quantity:l};e.props.addChargeable(e.props.health_file.id,r),e.toggleModal()},e.onDeletePresciption=function(t){e.props.deleteChargeable(e.props.health_file.id,t.id)},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.state.selected_item,a=this.props.chargeables,n=l.a.createElement(Y.a,{isOpen:this.state.showModal,size:"lg"},l.a.createElement(X.a,{toggle:this.toggleModal},l.a.createElement("i",{className:"fa fa-plus-circle"})," Add chargeable"),l.a.createElement("form",{onSubmit:this.onSubmit},l.a.createElement(Z.a,null,l.a.createElement("div",{className:"row col-12"},l.a.createElement("div",{className:"col-5"},l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("input",{className:"form-control form-control-sm",onChange:this.onSearch,placeholder:"Search..."})),l.a.createElement("div",{className:"col-12"},l.a.createElement("table",{className:"table table-sm table-bordered table-striped"},l.a.createElement("caption",null,l.a.createElement("i",null,"Search result")),l.a.createElement("tbody",null,this.state.search_list.map((function(t,a){return l.a.createElement("tr",{key:a,style:{cursor:"pointer"},onClick:function(){return e.onSelectItem(t)}},l.a.createElement("td",null,t.name))})))))),t?l.a.createElement("div",{className:"row col-7"},l.a.createElement("div",null,l.a.createElement("div",{className:"form-group  col-12"},l.a.createElement("label",null,"Item name"),l.a.createElement("input",{className:"form-control form-control-sm",readOnly:!0,value:t.name})),l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("label",null,"In store"),l.a.createElement("input",{className:"form-control form-control-sm",readOnly:!0,value:t.quantity_in_store})),l.a.createElement("div",{className:"form-group col-12"},l.a.createElement("label",null,"Chargeable Quantity"),l.a.createElement("input",{className:"form-control form-control-sm",name:"quantity",required:!0,value:this.state.quantity,onChange:this.onChange})))):null)),l.a.createElement($.a,null,l.a.createElement(ee.a,{type:"submit",color:"primary",size:"sm",onClick:this.onSubmit},l.a.createElement("i",{className:"fa fa-check"})," Submit"),l.a.createElement(ee.a,{color:"secondary",size:"sm",onClick:this.toggleModal},l.a.createElement("i",{className:"fa fa-close"})," Cancel"))));return l.a.createElement(l.a.Fragment,null,n,l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header custom-bg-secondary py-1 px-3"},l.a.createElement("div",{style:{fontSize:"1vw",float:"left"},className:"py-1 px-2"},"Chargeables Items"),l.a.createElement("button",{style:{float:"right"},className:"btn btn-sm bg-light text-dark py-0 px-2 mr-auto mt-1",onClick:this.onNewChargeable},l.a.createElement("i",{className:"fa fa-plus-circle mr-2"})," Add")),l.a.createElement("div",{className:"card-body p-0 mt-0"},l.a.createElement("table",{className:"table table-sm table-bordered m-0"},l.a.createElement("thead",{className:""},l.a.createElement("tr",null,l.a.createElement("th",null,"#"),l.a.createElement("th",null,"Item"),l.a.createElement("th",null,"Quantity"),l.a.createElement("th",{className:"text-center"},"Action"))),l.a.createElement("tbody",null,a.map((function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,a+1),l.a.createElement("td",null,t.service_details.name),l.a.createElement("td",null,t.quantity),l.a.createElement("td",{className:"text-center"},t.is_served?"Served":l.a.createElement("button",{className:"btn btn-sm p-0 border-none text-danger",onClick:function(){return e.onDeletePresciption(t)}},l.a.createElement("i",{className:"fa fa-close"})," delete")))})))))))}}]),a}(n.Component),pl=Object(d.b)((function(e){return{health_file:e.inpatient.selected_health_file,chargeables:e.inpatient.chargeables,common:e.common,service_list:e.hospital.service_list}}),{getChargeables:function(e){return function(t,a){t({type:y}),g.a.get("".concat("/api/","inpatient/files/").concat(e,"/chargeables/"),P(a)).then((function(e){t({type:Ua,payload:e.data})})).catch((function(e){})).finally((function(){return t({type:S})}))}},addChargeable:function(e,t){return function(a,n){a({type:y}),g.a.post("".concat("/api/","inpatient/files/").concat(e,"/chargeables/"),JSON.stringify(t),P(n)).then((function(e){a({type:Ba,payload:e.data})})).catch((function(e){})).finally((function(){return a({type:S})}))}},deleteChargeable:function(e,t){return function(a,n){a({type:y}),g.a.delete("".concat("/api/","inpatient/files/").concat(e,"/chargeables/").concat(t),P(n)).then((function(e){a({type:Fa,payload:t})})).catch((function(e){})).finally((function(){return a({type:S})}))}}})(ul),dl=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.common.CONSTANTS,t=e.GENDERS,a=e.MARITAL_STATUSES,n=this.props.health_file;return n?l.a.createElement("div",{className:"col-12 mx-auto mt-3"},l.a.createElement("div",{className:"card card-header bg-white py-1 px-3"},l.a.createElement("div",{className:"py-1 px-2"},l.a.createElement(h.b,{to:"/"},"Home"),"  \xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/inpatient"},"Inpatient")," \xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/inpatient/patients"},"Patients"),"\xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/inpatient/patients/file/".concat(this.props.match.params.file_id)},n.patient_details.fullname))),l.a.createElement("div",{className:"row col-12 mx-auto mt-2",style:{minHeight:"80vh"}},l.a.createElement("div",{className:"col-3"},l.a.createElement("div",{className:"patient_profile p-0 border border-light rounded "},l.a.createElement("div",{className:"row mx-auto justify-content-center mt-4"},l.a.createElement("img",{src:gt.a,alt:"DP",style:{height:"5vw",width:"5vw",borderRadius:"50%"}}),l.a.createElement("p",{className:"custom-text-primary col-12 text-center text-white mt-2"},"Patient Profile")),l.a.createElement("ul",{className:"w-100 mx-auto list-group mt-2"},l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Name:")," ",l.a.createElement("span",{style:{float:"right"}},n.patient_details.fullname)),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Sex:")," ",l.a.createElement("span",{style:{float:"right"}},t[n.patient_details.sex])),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"DoB:")," ",l.a.createElement("span",{style:{float:"right"}},new Date(n.patient_details.dob).toDateString("en-UK"))),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Marriage:")," ",l.a.createElement("span",{style:{float:"right"}},a[n.patient_details.marital_status])),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Mobile:")," ",l.a.createElement("span",{style:{float:"right"}},n.patient_details.phone)),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"m-0"},"Address:")," ",l.a.createElement("span",{style:{float:"right"}},"".concat(n.patient_details.county,", ").concat(n.patient_details.country)))))),l.a.createElement("div",{className:"col-7"},l.a.createElement("div",{style:{maxHeight:"75vh",overflowY:"auto"}},l.a.createElement(E.b,{path:"/inpatient/patients/file/:pk",render:function(e){var t=e.match.url;return l.a.createElement(l.a.Fragment,null,l.a.createElement(E.b,{path:"".concat(t),component:ll,exact:!0}),l.a.createElement(E.b,{path:"".concat(t,"/interventions"),component:ll}),l.a.createElement(E.b,{path:"".concat(t,"/reviews"),component:cl}),l.a.createElement(E.b,{path:"".concat(t,"/investigations"),component:ol}),l.a.createElement(E.b,{path:"".concat(t,"/prescriptions"),component:ml}),l.a.createElement(E.b,{path:"".concat(t,"/chargeables"),component:pl}))}}))),l.a.createElement("div",{className:"col-2"},l.a.createElement("div",{className:"patient_page_tabs"},l.a.createElement("div",{className:"list-group"},l.a.createElement(h.b,{className:"list-group-item",to:"/inpatient/patients/file/".concat(n.id,"/interventions")},"Cardex"),l.a.createElement(h.b,{className:"list-group-item",to:"/inpatient/patients/file/".concat(n.id,"/reviews")},"Reviews"),l.a.createElement(h.b,{className:"list-group-item",to:"/inpatient/patients/file/".concat(n.id,"/investigations")},"Investigations"),l.a.createElement(h.b,{className:"list-group-item",to:"/inpatient/patients/file/".concat(n.id,"/prescriptions")},"Prescriptions"),l.a.createElement(h.b,{className:"list-group-item",to:"/inpatient/patients/file/".concat(n.id,"/chargeables")},"Chargeables"),l.a.createElement(h.b,{className:"list-group-item",to:"/inpatient/patients/file/".concat(n.id,"/diagnosis")},"Other Services"),l.a.createElement(h.b,{className:"list-group-item",to:"/inpatient/patients/file/".concat(n.id,"/discharge")},"Discharge"),l.a.createElement(h.b,{className:"list-group-item",to:"/inpatient/patients/file/".concat(n.id,"/summary")},"Summary (Rx)")))))):l.a.createElement(E.a,{to:"/inpatient/patients"})}}]),a}(n.Component),hl=Object(d.b)((function(e){return{health_file:e.inpatient.selected_health_file,common:e.common}}))(dl),El=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.loadService(),this.props.loadWards(),this.props.getAdmiedtPatient()}},{key:"render",value:function(){var e=l.a.createElement("div",{className:"list-group"},l.a.createElement(h.b,{to:"/inpatient/admission",className:"list-group-item"},l.a.createElement("i",{className:"fa fa-edit"})," Admission"),l.a.createElement(h.b,{to:"/inpatient/patients",className:"list-group-item"},l.a.createElement("i",{className:"fa fa-users"})," Patients"),l.a.createElement(h.b,{to:"/inpatient/wards",className:"list-group-item"},l.a.createElement("i",{className:"fa fa-bed"})," Wards"));return l.a.createElement(l.a.Fragment,null,l.a.createElement(W,{menus:e}),l.a.createElement("div",{className:"row col-12 mx-auto page-container"},l.a.createElement(E.b,{path:"/inpatient",render:function(e){var t=e.match.url;return l.a.createElement(l.a.Fragment,null,l.a.createElement(E.b,{path:"".concat(t),component:Zn,exact:!0}),l.a.createElement(E.b,{path:"".concat(t,"/wards"),component:Yn}),l.a.createElement(E.b,{path:"".concat(t,"/admission"),component:el,exact:!0}),l.a.createElement(E.b,{path:"".concat(t,"/admission/patient/:pk/admit"),component:al}),l.a.createElement(E.b,{path:"".concat(t,"/patients"),component:Zn,exact:!0}),l.a.createElement(E.b,{path:"".concat(t,"/patients/file/:pk"),component:hl}))}})))}}]),a}(n.Component),fl=Object(d.b)(null,{loadService:Be,loadWards:Va,getAdmiedtPatient:function(e,t,a){return function(e,t){e({type:y}),g.a.get("".concat("/api/","inpatient/admission/"),P(t)).then((function(t){e({type:za,payload:t.data})})).catch((function(t){e({type:_,error:t})})).finally((function(){e({type:S})}))}}})(El),bl=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={showModal:!1,selected_store:null,name:"",description:""},e.toggleModal=function(){return e.setState({showModal:!e.state.showModal})},e.onChange=function(t){return e.setState(Object(f.a)({},t.target.name,t.target.value))},e.onNewStore=function(t){e.setState({selected_store:null,name:"",description:""}),e.toggleModal()},e.onEditStore=function(t){e.setState({selected_store:t,name:t.name,description:t.description}),e.toggleModal()},e.onSubmit=function(t){t.preventDefault();var a=e.state,n=a.selected_store,l={name:a.name,description:a.description};n?e.props.updateStore(n.id,l):e.props.addStore(l),e.toggleModal()},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.getStores()}},{key:"render",value:function(){var e=this,t=this.props.procurement.stores,a=l.a.createElement(Y.a,{isOpen:this.state.showModal,size:"md"},l.a.createElement(X.a,{toggle:this.toggleModal},this.state.selected_store?"Edit Store Details":"Add new store"),l.a.createElement("form",{onSubmit:this.onSubmit},l.a.createElement(Z.a,null,l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Name"),l.a.createElement("input",{className:"form-control form-control-sm",name:"name",required:!0,onChange:this.onChange,value:this.state.name})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Description"),l.a.createElement("textarea",{className:"form-control form-control-sm",name:"description",required:!0,onChange:this.onChange,value:this.state.description}))),l.a.createElement($.a,null,l.a.createElement(ee.a,{type:"submit",color:"primary",size:"sm",onSubmit:this.onSubmit},l.a.createElement("i",{className:"fa fa-check"})," Submit"),l.a.createElement(ee.a,{color:"secondary",size:"sm",onClick:this.toggleModal},l.a.createElement("i",{className:"fa fa-close"})," Cancel"))));return l.a.createElement("div",{className:"col-md-12 mx-auto mt-3"},a,l.a.createElement("div",{className:"card card-header bg-white py-1 px-3"},l.a.createElement("div",{style:{fontSize:"1vw",width:"300px",float:"left"},className:"py-1 px-2"},l.a.createElement(h.b,{to:"/stores"},"stores")," \xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/stores/cashpoint"},"Cashpoint")," \xa0",l.a.createElement("i",{className:"fa fa-angle-right"})," \xa0",l.a.createElement(h.b,{to:"/stores/cashpoint/Store-store"},"Store store"))),l.a.createElement("div",{className:"card mt-3"},l.a.createElement("div",{className:"card-header custom-bg-secondary py-1 px-3"},l.a.createElement("div",{style:{fontSize:"1vw",float:"left"},className:"py-1 px-2"},"Store Management"),l.a.createElement("button",{style:{float:"right"},className:"btn btn-sm bg-light text-dark py-0 px-2 mr-auto mt-1",onClick:this.onNewStore},l.a.createElement("i",{className:"fa fa-plus-circle mr-2"})," Add Store")),l.a.createElement("div",{className:"card-body p-0 pb-2"},l.a.createElement("table",{className:"table table-sm table-striped table-bordered"},l.a.createElement("thead",{className:"custom-text-primary"},l.a.createElement("tr",null,l.a.createElement("th",null,"#"),l.a.createElement("th",null,"Store name"),l.a.createElement("th",null,"Store Description"),l.a.createElement("th",{className:"text-center"},"Action"))),l.a.createElement("tbody",null,t.map((function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,a+1),l.a.createElement("td",null,t.name),l.a.createElement("td",null,t.description),l.a.createElement("td",{className:"text-center"},l.a.createElement("button",{className:"btn btn-sm p-0 border-none text-success",onClick:function(){return e.onEditStore(t)}},l.a.createElement("i",{className:"fa fa-edit"})," Edit")))})))))))}}]),a}(n.Component),gl=Object(d.b)((function(e){return{procurement:e.procurement}}),{getStores:function(){return function(e,t){e({type:y}),g.a.get("".concat("/api/","procurement/stores/"),P(t)).then((function(t){e({type:Za,payload:t.data})})).catch((function(t){e({type:_,error:t})})).finally((function(){e({type:S})}))}},addStore:function(e){return function(t,a){t({type:y}),g.a.post("".concat("/api/","procurement/stores/"),JSON.stringify(e),P(a)).then((function(e){t({type:$a,payload:e.data}),t({type:N,message:"Store added succesfully"})})).catch((function(e){t({type:_,error:e})})).finally((function(){t({type:S})}))}},updateStore:function(e,t){return function(a,n){a({type:y}),g.a.put("".concat("/api/","procurement/stores/").concat(e,"/"),JSON.stringify(t),P(n)).then((function(e){a({type:en,payload:e.data}),a({type:N,message:"Store updated succesfully"})})).catch((function(e){a({type:_,error:e})})).finally((function(){a({type:S})}))}},deleteStore:function(e){return function(t,a){t({type:y}),g.a.delete("".concat("/api/","procurement/stores/").concat(e,"/"),P(a)).then((function(a){t({type:tn,payload:e}),t({type:N,message:"Store deleted succesfully"})})).catch((function(e){t({type:_,error:e})})).finally((function(){t({type:S})}))}}})(bl),yl=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=l.a.createElement("div",{className:"list-group"},l.a.createElement(h.b,{to:"/procurement/stores",className:"list-group-item"},l.a.createElement("i",{className:"fa fa-users"})," Stores"),l.a.createElement(h.b,{to:"/procurement/inventory",className:"list-group-item"},l.a.createElement("i",{className:"fa fa-credit-card"})," Inventory"));return l.a.createElement(l.a.Fragment,null,l.a.createElement(W,{menus:e}),l.a.createElement("div",{className:"row col-12 mx-auto page-container"},l.a.createElement(E.b,{path:"/procurement",render:function(e){var t=e.match.url;return l.a.createElement(l.a.Fragment,null,l.a.createElement(E.b,{path:"".concat(t),component:gl,exact:!0}),l.a.createElement(E.b,{path:"".concat(t,"/cashpoint"),component:gl,exact:!0}),l.a.createElement(E.b,{path:"".concat(t,"/cashpoint/payment-queue"),component:gl}),l.a.createElement(E.b,{path:"".concat(t,"/cashpoint/custom-payments"),component:gl}))}})))}}]),a}(n.Component),vl=a(55),Nl=a.n(vl),_l=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){Nl()(),console.log(this.props)}},{key:"render",value:function(){return this.props.auth.isAuthenticated?l.a.createElement(l.a.Fragment,null,l.a.createElement(W,{menus:null}),l.a.createElement("div",{className:"blur"}),l.a.createElement("div",{className:"background_cover"},l.a.createElement("div",{className:"preview"},l.a.createElement("h1",{className:"text-center text-success"},l.a.createElement("b",null,"Why Am I Here ?")),l.a.createElement("h3",{className:"text-center text-primary mt-4"},"Well you are here because you registered as a user in this hospital but your application has not been approve by the Administrator")))):l.a.createElement(E.a,{to:{pathname:"/user/authentication",state:{from:this.props.location}}})}}]),a}(n.Component),Al=Object(d.b)((function(e){return{auth:e.auth}}),{logout:I})(_l),Sl=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.loadUser();var e=document.getElementById("favicon");e&&(e.href=p.a)}},{key:"render",value:function(){var e=this.props.auth,t=e.isAuthenticated,a=e.isLoading,r=this.props.common.isProcessing;return l.a.createElement(h.a,null,l.a.createElement(n.Fragment,null,l.a.createElement("div",{style:{position:"relative",paddingLeft:"16vw",width:"100vw",overflowX:"hidden"}},t?l.a.createElement(We,null):null,l.a.createElement(E.d,null,l.a.createElement(H,{exact:!0,path:"/",component:K}),l.a.createElement(H,{path:"/hospital",component:rt}),l.a.createElement(H,{path:"/records",component:ze}),l.a.createElement(H,{path:"/outpatient",component:pn}),l.a.createElement(H,{path:"/pharmacy",component:wn}),l.a.createElement(H,{path:"/laboratory",component:Ln}),l.a.createElement(H,{path:"/radiology",component:Vn}),l.a.createElement(H,{path:"/inpatient",component:fl}),l.a.createElement(G,{path:"/revenue",component:ft}),l.a.createElement(G,{path:"/procurement",component:yl}),l.a.createElement(E.b,{exact:!0,path:"/public/page",component:Al}),l.a.createElement(E.b,{exact:!0,path:"/user/authentication",component:B}))),l.a.createElement("div",{id:"processing",style:{display:r||a?"block":"none"}},l.a.createElement("h1",{className:"text-light text-center m-0",style:{fontSize:"8vw",paddingTop:"30vh"}},l.a.createElement("i",{className:"fa fa-spinner fa-spin"})))))}}]),a}(n.Component),Ol=Object(d.b)((function(e){return{auth:e.auth,common:e.common}}),{loadUser:function(){return function(e,t){e({type:w}),g.a.get("".concat("/api/","auth/user/"),P(t)).then((function(t){e({type:O,payload:t.data})})).catch((function(t){e({type:C})}))}}})(Sl);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(93);c.a.render(l.a.createElement(d.a,{store:rn},l.a.createElement(Ol,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[56,1,2]]]);
//# sourceMappingURL=main.8520e8cd.chunk.js.map